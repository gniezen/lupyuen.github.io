<!doctype html><html lang="en"><head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app104.us.archive.org';v.server_ms=191;archive_analytics.send_pageview({});});</script><script type="text/javascript" src="/_static/js/playback.bundle.js?v=bQvHU8mx" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/wombat.js?v=cRqOKCOw" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("https://web.archive.org/web");
  __wm.wombat("https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","20191222054305","https://web.archive.org/","web","/_static/",
	      "1576993385");
</script>
<link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=bsmaklHF" />
<link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->
<script>!function(c,f){var t,o,i,e=[],r={passive:!0,capture:!0},n=new Date,a="pointerup",u="pointercancel";function p(n,e){t||(t=e,o=n,i=new Date,w(f),s())}function s(){0<=o&&o<i-n&&(e.forEach(function(n){n(o,t)}),e=[])}function l(n){if(n.cancelable){var e=(1e12<n.timeStamp?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,e){function t(){p(n,e),i()}function o(){i()}function i(){f(a,t,r),f(u,o,r)}c(a,t,r),c(u,o,r)}(e,n):p(e,n)}}function w(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(n){e(n,l,r)})}w(c),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){e.push(n),s()}}(addEventListener,removeEventListener)</script><title data-rh="true">Building a Rust Driver for PineTime’s Touch Controller</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2019-12-15T12:25:45.049Z"/><meta data-rh="true" name="title" content="Building a Rust Driver for PineTime’s Touch Controller"/><meta data-rh="true" property="og:title" content="Building a Rust Driver for PineTime’s Touch Controller"/><meta data-rh="true" property="twitter:title" content="Building a Rust Driver for PineTime’s Touch Controller"/><meta data-rh="true" name="twitter:site" content="@Medium"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/cbc1a5d5d3e9"/><meta data-rh="true" property="al:android:url" content="medium://p/cbc1a5d5d3e9"/><meta data-rh="true" property="al:ios:url" content="medium://p/cbc1a5d5d3e9"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="Pretend you’re my IoT student. I give you a PineTime Smart Watch and challenge you to “Make it work… Especially the touch screen!” The Touch Screen appears to be lacking some documentation. What…"/><meta data-rh="true" property="og:description" content="Pretend you’re my IoT student.  I give you a PineTime Smart Watch and challenge you to “Make it work… Especially the touch screen!” The…"/><meta data-rh="true" property="twitter:description" content="Pretend you’re my IoT student.  I give you a PineTime Smart Watch and challenge you to “Make it work… Especially the touch screen!” The…"/><meta data-rh="true" property="og:url" content="https://web.archive.org/web/20191222054305/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9"/><meta data-rh="true" property="al:web:url" content="https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9"/><meta data-rh="true" property="og:image" content="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/1200/1*P9NuG-tqsK3YKVo97v7PRA.png"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1200/1*P9NuG-tqsK3YKVo97v7PRA.png"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" property="article:author" content="https://medium.com/@ly.lee"/><meta data-rh="true" name="twitter:creator" content="@MisterTechBlog"/><meta data-rh="true" name="author" content="Lup Yuen Lee 李立源"/><meta data-rh="true" name="robots" content="index,follow"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" name="twitter:label1" value="Reading time"/><meta data-rh="true" name="twitter:data1" value="10 min read"/><meta data-rh="true" name="parsely-post-id" content="cbc1a5d5d3e9"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/web/20191222054305/https://medium.com/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://web.archive.org/web/20191222054305im_/https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://web.archive.org/web/20191222054305im_/https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://web.archive.org/web/20191222054305im_/https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://web.archive.org/web/20191222054305im_/https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="mask-icon" href="https://web.archive.org/web/20191222054305im_/https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"/><link data-rh="true" rel="icon" href="https://web.archive.org/web/20191222054305im_/https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://web.archive.org/web/20191222054305cs_/https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css"/><link data-rh="true" rel="author" href="https://medium.com/@ly.lee"/><link data-rh="true" rel="canonical" href="https://web.archive.org/web/20191222054305/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9"/><link data-rh="true" rel="alternate" href="https://web.archive.org/web/20191222054305/android-app://com.medium.reader/https/medium.com/p/cbc1a5d5d3e9"/><script data-rh="true" type="application/ld+json">{"@context":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttp:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*P9NuG-tqsK3YKVo97v7PRA.png"],"url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","dateCreated":"2019-11-22T13:26:07.147Z","datePublished":"2019-11-22T13:26:07.147Z","dateModified":"2019-12-15T12:25:45.316Z","headline":"Building a Rust Driver for PineTime’s Touch Controller","name":"Building a Rust Driver for PineTime’s Touch Controller","description":"Pretend you’re my IoT student. I give you a PineTime Smart Watch and challenge you to “Make it work… Especially the touch screen!” The Touch Screen appears to be lacking some documentation. What…","identifier":"cbc1a5d5d3e9","keywords":["Lite:true","Tag:Internet of Things","Tag:Rust","Tag:Gadgets","Tag:Programming","Tag:Nrf52","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:4"],"author":{"@type":"Person","name":"Lup Yuen Lee 李立源","url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee"},"creator":["Lup Yuen Lee 李立源"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F616\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9"}</script><script data-rh="true">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://web.archive.org/web/20191222054305/https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-24232453-2', 'auto');
ga('send', 'pageview');</script><link rel="preload" href="https://web.archive.org/web/20191222054305/https://cdn.optimizely.com/js/16180790160.js" as="script"><style type="text/css" data-fela-rehydration="433" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@-moz-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{fill:rgba(0, 0, 0, 0.84)}.r{display:block}.s{position:fixed}.t{top:0}.u{left:0}.v{right:0}.w{z-index:500}.x{box-shadow:0 4px 12px 0 rgba(0, 0, 0, 0.05)}.ai{max-width:1192px}.aj{min-width:0}.ak{width:100%}.al{height:65px}.ao{flex:1 0 auto}.ap{display:none}.ar{flex:0 0 auto}.as{visibility:hidden}.at{color:inherit}.au{fill:inherit}.av{font-size:inherit}.aw{border:inherit}.ax{font-family:inherit}.ay{letter-spacing:inherit}.az{font-weight:inherit}.ba{padding:0}.bb{margin:0}.bc:hover{cursor:pointer}.bd:hover{color:rgba(0, 0, 0, 0.9)}.be:hover{fill:rgba(0, 0, 0, 0.9)}.bf:focus{outline:none}.bg:disabled{cursor:default}.bh:disabled{color:rgba(0, 0, 0, 0.54)}.bi:disabled{fill:rgba(0, 0, 0, 0.54)}.bj{font-family:medium-content-sans-serif-font, "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Arial, sans-serif}.bk{font-style:normal}.bl{line-height:20px}.bm{font-size:15.8px}.bn{letter-spacing:0px}.bo{color:rgba(0, 0, 0, 0.54)}.bp{fill:rgba(0, 0, 0, 0.54)}.bq{margin-left:16px}.br{color:rgba(2, 158, 116, 1)}.bs{fill:rgba(3, 168, 124, 1)}.bt:hover{color:rgba(1, 143, 105, 1)}.bu:hover{fill:rgba(2, 158, 116, 1)}.bv:disabled{color:rgba(3, 168, 124, 0.5)}.bw:disabled{fill:rgba(3, 168, 124, 0.5)}.bx{padding:8px 16px}.by{background:0}.bz{border-color:rgba(3, 168, 124, 1)}.ca:hover{border-color:rgba(2, 158, 116, 1)}.cb{border-radius:4px}.cc{border-width:1px}.cd{border-style:solid}.ce{box-sizing:border-box}.cf{display:inline-block}.cg{text-decoration:none}.ch{margin-bottom:0px}.cj{padding-left:24px}.ck{padding-right:24px}.cl{margin-left:auto}.cm{margin-right:auto}.cn{max-width:728px}.co{flex-direction:column}.cp{position:absolute}.cq{top:calc(100vh + 100px)}.cr{bottom:calc(100vh + 100px)}.cs{width:10px}.ct{pointer-events:none}.cu{word-break:break-word}.cv{word-wrap:break-word}.cw:after{display:block}.cx:after{content:""}.cy:after{clear:both}.cz{clear:both}.da{margin-top:0px}.db{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.dc{cursor:zoom-in}.dd{position:relative}.de{z-index:auto}.df{opacity:0}.dg{transition:opacity 100ms 400ms}.dh{height:100%}.di{overflow:hidden}.dj{will-change:transform}.dk{transform:translateZ(0)}.dl{margin:auto}.dm{background-color:rgba(0, 0, 0, 0.05)}.dn{padding-bottom:49.96025437201908%}.do{filter:blur(20px)}.dp{transform:scale(1.1)}.dq{visibility:visible}.dr{background:rgba(255, 255, 255, 1)}.ds{font-size:16px}.dt{line-height:1.4}.du{margin-top:10px}.dv{text-align:center}.dy{font-weight:300}.dz{max-width:680px}.ea{line-height:1.23}.eb{letter-spacing:0}.ec{color:rgba(0, 0, 0, 0.84)}.ed{font-family:medium-content-title-font, Georgia, Cambria, "Times New Roman", Times, serif}.eo{margin-bottom:-0.27em}.eu{margin-top:32px}.ev{justify-content:space-between}.ez{width:48px}.fa{height:48px}.fb{flex-direction:row}.fc{width:calc(100% + 25px)}.fd{height:calc(100% + 25px)}.fe{top:50%}.ff{left:50%}.fg{transform:translateX(-50%) translateY(-50%)}.fh{border-radius:50%}.fi{margin-left:12px}.fj{margin-bottom:2px}.fl{max-height:20px}.fm{text-overflow:ellipsis}.fn{display:-webkit-box}.fo{-webkit-line-clamp:1}.fp{-webkit-box-orient:vertical}.fq:hover{text-decoration:underline}.fr{margin-left:8px}.fs{padding:0px 8px}.ft{border-color:rgba(0, 0, 0, 0.54)}.fu:hover{color:rgba(0, 0, 0, 0.97)}.fv:hover{fill:rgba(0, 0, 0, 0.97)}.fw:hover{border-color:rgba(0, 0, 0, 0.84)}.fx:disabled{fill:rgba(0, 0, 0, 0.76)}.fy:disabled{border-color:rgba(0, 0, 0, 0.2)}.fz:disabled{cursor:inherit}.ga:disabled:hover{color:rgba(0, 0, 0, 0.54)}.gb:disabled:hover{fill:rgba(0, 0, 0, 0.76)}.gc:disabled:hover{border-color:rgba(0, 0, 0, 0.2)}.gd{line-height:18px}.ge{font-size:15px}.gf{align-items:flex-end}.gn{padding-right:8px}.go{margin-right:-6px}.gp{line-height:1.58}.gq{letter-spacing:-0.004em}.gr{font-family:medium-content-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.hc{margin-bottom:-0.46em}.hd{background-repeat:repeat-x}.he{background-image:linear-gradient(to right,rgba(0, 0, 0, 0.84) 100%,rgba(0, 0, 0, 0.84) 0);background-image:url('data:image/svg+xml;utf8,<svg preserveAspectRatio="none" viewBox="0 0 1 1" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="1" y2="1" stroke="rgba(0, 0, 0, 0.84)" /></svg>')}.hf{background-size:1px 1px}.hg{background-position:0 1.05em;background-position:0 calc(1em + 1px)}.hh{font-style:italic}.hi{font-family:medium-content-slab-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.hj{font-size:28px}.hk{border:none}.hl{margin-top:30px}.hm:before{content:"..."}.hn:before{letter-spacing:0.6em}.ho:before{text-indent:0.6em}.hp:before{font-style:italic}.hq:before{line-height:1.4}.hr{line-height:1.12}.hs{letter-spacing:-0.022em}.ht{font-weight:600}.ic{margin-bottom:-0.28em}.ii{font-weight:700}.ij{max-width:1133px}.ip{padding-bottom:95.49867608120034%}.iy{max-width:2872px}.iz{padding-bottom:5px}.ja{padding-top:5px}.jb{padding-bottom:67.27019498607243%}.jc{max-width:6638px}.jd{padding-bottom:26.498945465501656%}.je{padding-bottom:22.82313949984935%}.jf{padding-bottom:NaN%}.jg{padding:2px 4px}.jh{font-size:75%}.ji> strong{font-family:inherit}.jj{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.jk{padding-bottom:34.67674223341729%}.jl{max-width:4166px}.jm{padding-bottom:77.26836293807008%}.jn{padding-bottom:57.83664459161148%}.jo{max-width:6000px}.jp{padding-bottom:66.66666666666667%}.jq{box-shadow:inset 3px 0 0 0 rgba(0, 0, 0, 0.84)}.jr{padding-left:23px}.js{margin-left:-20px}.jt{max-width:3466px}.ju{padding-bottom:26.053087132140796%}.jv{max-width:3763px}.jw{padding-bottom:56.73664629285145%}.jx{padding-bottom:56.206088992974244%}.kd{box-shadow:0 1px 4px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(0, 0, 0, 0.1)}.ke{max-height:40px}.kf{-webkit-line-clamp:2}.kg{padding:0px}.kw{padding:16px 20px}.kx{flex:1 1 auto}.kz{font-size:18px}.la{margin-top:8px}.lb{margin-top:12px}.lc{width:160px}.ld{background-image:url(https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/320/1*1oFvRxqOf1kUmCAxPaJXpw.jpeg)}.le{background-origin:border-box}.lf{background-size:cover}.lg{height:167px}.lh{background-position:50% 50%}.li{max-width:100%}.lj{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1)}.lk{background-image:url(https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/320/1*t14h6Hs6uVUifppiEBptFQ.png)}.ll{background-image:url(https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/320/0*ZtJQg1TDskMlb1Ma)}.lm{will-change:opacity}.ln{width:188px}.lo{transform:translateX(406px)}.lp{top:calc(65px + 54px + 14px)}.ls{top:calc(65px + 54px + 40px)}.lu{width:131px}.lv{padding-top:28px}.lw{margin-bottom:19px}.lx{margin-left:-5px}.ly{margin-right:5px}.lz{outline:0}.ma{border:0}.mb{user-select:none}.mc{cursor:pointer}.md> svg{pointer-events:none}.me:active{border-style:none}.mf{-webkit-user-select:none}.mg{fill:rgba(0, 0, 0, 0.76)}.mh:focus{fill:rgba(0, 0, 0, 0.54)}.mi:hover{fill:rgba(0, 0, 0, 0.54)}.mj{margin-top:5px}.mk button{text-align:left}.ml{margin-top:40px}.mm{flex-wrap:wrap}.mn{margin-top:25px}.mo{list-style-type:none}.mp{margin-right:8px}.mq{margin-bottom:8px}.mr{border-radius:3px}.ms{padding:5px 10px}.mt{background:rgba(0, 0, 0, 0.05)}.mu{line-height:22px}.mv{margin-top:15px}.mw{margin-right:16px}.mx{border:1px solid rgba(0, 0, 0, 0.1)}.my{height:60px}.mz{width:60px}.nm:hover{border-color:rgba(0, 0, 0, 0.54)}.nn:active{border-style:solid}.no{z-index:2}.nq{padding-top:32px}.nr{border-top:1px solid rgba(0, 0, 0, 0.1)}.ns{margin-bottom:25px}.nt{margin-bottom:32px}.nu{min-height:80px}.nz{width:80px}.oa{height:80px}.ob{padding-left:102px}.od{text-transform:uppercase}.oe{letter-spacing:0.05em}.of{margin-bottom:6px}.og{line-height:36px}.oh{padding:4px 12px}.oi{max-width:555px}.oj{max-width:450px}.ok{line-height:24px}.om{padding-top:25px}.on{color:rgba(0, 0, 0, 0.76)}.oo{opacity:1}.op{padding:20px}.oq{border:1px solid rgba(3, 168, 124, 1)}.or{margin-top:64px}.os{background-color:rgba(0, 0, 0, 0.02)}.ot{padding:60px 0}.ou{background-color:rgba(0, 0, 0, 0.9)}.ow{padding-bottom:48px}.ox{border-bottom:1px solid rgba(255, 255, 255, 0.54)}.oy{margin:0 -12px}.oz{margin:0 12px}.pa{flex:1 1 0}.pb{padding-bottom:12px}.pc:hover{color:rgba(255, 255, 255, 0.99)}.pd:hover{fill:rgba(255, 255, 255, 0.99)}.pe:disabled{color:rgba(255, 255, 255, 0.7)}.pf:disabled{fill:rgba(255, 255, 255, 0.7)}.pg{color:rgba(255, 255, 255, 0.98)}.ph{fill:rgba(255, 255, 255, 0.98)}.pi{text-align:inherit}.pj{font-size:21.6px}.pk{letter-spacing:-0.32px}.pl{color:rgba(255, 255, 255, 0.7)}.pm{fill:rgba(255, 255, 255, 0.7)}.pn{text-decoration:underline}.po{padding-bottom:8px}.pp{padding-top:8px}.pq{width:200px}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.ah{margin:0 64px}.em{font-size:40px}.en{margin-top:0.78em}.et{line-height:48px}.gm{margin-left:30px}.ha{font-size:21px}.hb{margin-top:2em}.ia{font-size:34px}.ib{margin-top:1.25em}.ih{margin-top:0.86em}.io{margin-top:56px}.ix{max-width:1192px}.kc{margin-top:32px}.kt{padding-left:64px}.ku{padding-right:64px}.kv{max-width:1320px}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.dw{margin-left:auto}.dx{text-align:center}.gl{margin-left:30px}.kq{padding-left:64px}.kr{padding-right:64px}.ks{max-width:1080px}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.gk{margin-left:30px}.kn{padding-left:48px}.ko{padding-right:48px}.kp{max-width:904px}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.am{height:56px}.an{display:flex}.aq{display:block}.ci{margin-bottom:0px}.ex{margin-top:32px}.ey{flex-direction:column-reverse}.gi{margin-bottom:30px}.gj{margin-left:0px}.kk{padding-left:24px}.kl{padding-right:24px}.km{max-width:728px}.ky{padding:10px 12px 10px}.nv{margin-bottom:24px}.nw{align-items:center}.nx{width:102px}.ny{position:relative}.oc{padding-left:0}.ol{margin-top:24px}.ov{padding:32px 0}.pr{width:140px}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.ac{margin:0 24px}.ee{font-size:30px}.ef{margin-top:0.72em}.ep{line-height:40px}.ew{margin-top:32px}.fk{margin-bottom:0px}.gg{margin-bottom:30px}.gh{margin-left:0px}.gs{font-size:18px}.gt{margin-top:1.56em}.hu{margin-top:0.93em}.id{margin-top:0.67em}.ik{margin-top:40px}.iq{margin:0}.ir{max-width:100%}.jy{margin-top:24px}.kh{padding-left:24px}.ki{padding-right:24px}.kj{max-width:552px}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.ag{margin:0 64px}.ek{font-size:40px}.el{margin-top:0.78em}.es{line-height:48px}.gy{font-size:21px}.gz{margin-top:2em}.hy{font-size:34px}.hz{margin-top:1.25em}.ig{margin-top:0.86em}.in{margin-top:56px}.iw{max-width:1192px}.kb{margin-top:32px}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.af{margin:0 48px}.ei{font-size:40px}.ej{margin-top:0.78em}.er{line-height:48px}.gw{font-size:21px}.gx{margin-top:2em}.hw{font-size:34px}.hx{margin-top:1.25em}.if{margin-top:0.86em}.im{margin-top:56px}.iu{margin:0}.iv{max-width:100%}.ka{margin-top:32px}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.ae{margin:0 24px}.eg{font-size:30px}.eh{margin-top:0.72em}.eq{line-height:40px}.gu{font-size:18px}.gv{margin-top:1.56em}.hv{margin-top:0.93em}.ie{margin-top:0.67em}.il{margin-top:40px}.is{margin:0}.it{max-width:100%}.jz{margin-top:24px}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE" media="print">.ab{display:none}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.y{transition:transform 300ms ease}.z{will-change:transform}.lq{transition:opacity 200ms}.na{transition:border-color 150ms ease}.nb::before{background:
      radial-gradient(circle, rgba(0, 0, 0, 0.84) 60%, transparent 70%)
    }.nc::before{border-radius:50%}.nd::before{content:""}.ne::before{display:block}.nf::before{z-index:0}.ng::before{left:0}.nh::before{height:100%}.ni::before{position:absolute}.nj::before{top:0}.nk::before{width:100%}.nl:hover::before{animation:k1 2000ms infinite cubic-bezier(.1,.12,.25,1)}.np{transition:fill 200ms ease}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE" media="all and (max-width: 1230px)">.lr{display:none}</style><style type="text/css" data-fela-rehydration="433" data-fela-type="RULE" media="all and (max-width: 1198px)">.lt{display:none}</style></head><body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
</style>
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
<div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
<div id="wm-ipp-inside">
  <div style="position:relative;">
    <div id="wm-logo" style="float:left;width:110px;padding-top:12px;">
      <a href="/web/" title="Wayback Machine home page"><img src="/_static/images/toolbar/wayback-toolbar-logo-200.png" srcset="/_static/images/toolbar/wayback-toolbar-logo-100.png, /_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, /_static/images/toolbar/wayback-toolbar-logo-200.png 2x" alt="Wayback Machine" style="width:100px" border="0" /></a>
    </div>
    <div class="r" style="float:right;">
      <div id="wm-btns" style="text-align:right;height:25px;">
                  <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a id="wm-save-snapshot-open" href="#"
	     title="Share via My Web Archive" >
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php"
             title="Sign In"
             id="wm-sign-in"
          >
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
        	<a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	<a id="wm-tb-close" href="#close" onclick="__wm.h(event);return false;" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share">
          <a href="/web/20191222054305/http://web.archive.org/screenshot/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9"
             id="wm-screenshot"
             title="screenshot">
            <span class="wm-icon-screen-shot"></span>
          </a>
	<a id="wm-share-facebook" href="#" data-url="https://web.archive.org/web/20191222054305/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	<a id="wm-share-twitter" href="#" data-url="https://web.archive.org/web/20191222054305/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
    </div>
    <table class="c" style="">
      <tbody>
	<tr>
	  <td class="u" colspan="2">
	    <form target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20191222054305" /><input type="submit" value="Go" /></form>
	  </td>
	  <td class="n" rowspan="2" style="width:110px;">
	    <table>
	      <tbody>
		<!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
		<tr class="m">
		  <td class="b" nowrap="nowrap">Nov</td>
		  <td class="c" id="displayMonthEl" title="You are here: 05:43:05 Dec 22, 2019">DEC</td>
		  <td class="f" nowrap="nowrap">Jan</td>
		</tr>
		<!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
		<tr class="d">
		  <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20191217201758/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" title="20:17:58 Dec 17, 2019"><img src="/_static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a></td>
		  <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;" title="You are here: 05:43:05 Dec 22, 2019">22</td>
		  <td class="f" nowrap="nowrap"><img src="/_static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0" /></td>
		</tr>
		<!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
		<tr class="y">
		  <td class="b" nowrap="nowrap">2018</td>
		  <td class="c" id="displayYearEl" title="You are here: 05:43:05 Dec 22, 2019">2019</td>
		  <td class="f" nowrap="nowrap">2020</td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
	<tr>
	  <td class="s">
	    	    <div id="wm-nav-captures">
	      	      <a class="t" href="/web/20191222054305*/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" title="See a list of every capture for this URL">7 captures</a>
	      <div class="r" title="Timespan for captures of this URL">22 Nov 2019 - 22 Dec 2019</div>
	      </div>
	  </td>
	  <td class="k">
	    <a href="" id="wm-graph-anchor">
	      <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
		<canvas id="wm-sparkline-canvas" width="650" height="27" border="0"></canvas>
	      </div>
	    </a>
	  </td>
	</tr>
      </tbody>
    </table>
    <div style="position:absolute;bottom:0;right:2px;text-align:right;">
      <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this capture</span></a>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
                    <div id="wm-capinfo-collected-by">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/twitteroutlinks)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/twitteroutlinks" target="_new"><span class="wm-title">Twitter Outlinks</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  This is a Collection of URLs (and Outlinked URLs) extracted from a random feed of 1% of all Tweets.<div><br></div><div><br></div>
	</div>
	      </div>
    </div>
    </div>
    <div id="wm-capinfo-timestamps">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="/_static/images/loading.gif" alt="loading" /></div>
    </div>
    </div>
  </div></div></div></div><div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=https%3A//web.archive.org/web/20191222054305/https%3A//medium.com/%2540ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9"
	    scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><script type="text/javascript">
__wm.bt(650,27,25,2,"web","https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","20191222054305",1996,"/_static/",["/_static/css/banner-styles.css?v=bsmaklHF","/_static/css/iconochive.css?v=qtvMKcIJ"]);
  __wm.rw(1);
</script>
<!-- END WAYBACK TOOLBAR INSERT --><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><script>window.PARSELY = window.PARSELY || {autotrack: false}</script><nav class="r s t u v c w x y z ab"><div class="branch-journeys-top"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="al n o am an"><div class="r ao w"><div class="n o"><a aria-label="Homepage" rel="noopener" href="/web/20191222054305/https://medium.com/?source=post_page-----cbc1a5d5d3e9----------------------"><div class="ap g"><svg height="22" width="112" viewbox="0 0 111.5 22" class="q"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></div><div class="r aq"><svg width="35" height="35" viewbox="5 5 35 35" class="q"><path d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z"></path></svg></div></a></div></div><div class="r ar w"><div class="n o"><div class="n g"><div class="as" id="lo-post-page-navbar-upsell-button"><div><a href="https://web.archive.org/web/20191222054305/https://medium.com/membership?source=upgrade_membership---nav_full------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><span class="bj b bk bl bm bn r bo bp">Become a member</span></a></div></div><div class="as" id="lo-post-page-navbar-sign-in-link"><div class="bq r"><span class="bj b bk bl bm bn r bo bp"><a href="https://web.archive.org/web/20191222054305/https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9&amp;source=post_page-----cbc1a5d5d3e9---------------------nav_reg-" class="br bs av aw ax ay az ba bb bc bt bu bf bg bv bw" rel="noopener">Sign in</a></span></div></div></div><div class="as" id="lo-post-page-navbar-get-started-button"><div class="bq r"><button class="bx by br bs bz bt bu ca bc cb bj b bk bl bm bn cc cd ce cf cg bf">Get started</button></div></div></div></div></div></div></div></div></nav><div class="ch al r ci am"></div><article><section class="cj ck cl cm ak cn ce n co"></section><span class="r"></span><div><div class="cp u cq cr cs ct"></div><section class="cu cv cw cx cy"><div class="cz ak"><figure class="da cz ak paragraph-image"><div class="db dc dd de ak"><div class="dl r dd dm"><div class="dn r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/60/1*P9NuG-tqsK3YKVo97v7PRA.png?q=20" width="5032" height="2514" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="5032" height="2514" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/10064/1*P9NuG-tqsK3YKVo97v7PRA.png" width="5032" height="2514" role="presentation"/></noscript></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Testing the Rust and Mynewt OS driver for the Touch Controller on PineTime Smart Watch by Pine64</figcaption></figure></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><div><div id="f022" class="ea eb ec bk ed b ee ef eg eh ei ej ek el em en eo"><h1 class="ed b ee ep eg eq ei er ek es em et ec">Building a Rust Driver for PineTime’s Touch Controller</h1></div><div class="eu"><div class="n ev ew ex ey"><div class="o n"><div><a rel="noopener" href="/web/20191222054305/https://medium.com/@ly.lee?source=post_page-----cbc1a5d5d3e9----------------------"><div class="dd ez fa"><div class="bs n fb o p cp fc fd fe ff fg ct"><svg width="57" height="57" viewbox="0 0 57 57"><path fill-rule="evenodd" clip-rule="evenodd" d="M28.5 1.2A27.45 27.45 0 0 0 4.06 15.82L3 15.27A28.65 28.65 0 0 1 28.5 0C39.64 0 49.29 6.2 54 15.27l-1.06.55A27.45 27.45 0 0 0 28.5 1.2zM4.06 41.18A27.45 27.45 0 0 0 28.5 55.8a27.45 27.45 0 0 0 24.44-14.62l1.06.55A28.65 28.65 0 0 1 28.5 57 28.65 28.65 0 0 1 3 41.73l1.06-.55z"></path></svg></div><img alt="Lup Yuen Lee 李立源" class="r fh fa ez" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/fit/c/96/96/1*KGohS3sQaUnr58gc0BIfoQ.jpeg" width="48" height="48"/></div></a></div><div class="fi ak r"><div class="n"><div style="flex:1"><span class="bj b bk bl bm bn r ec q"><div class="fj n o fk"><span class="bj dy ds bl di fl fm fn fo fp ec"><a class="at au av aw ax ay az ba bb bc fq bf bg bh bi" rel="noopener" href="/web/20191222054305/https://medium.com/@ly.lee?source=post_page-----cbc1a5d5d3e9----------------------">Lup Yuen Lee 李立源</a></span><div class="fr r ar h"><button class="fs ec q by ft fu fv fw bc bh fx fy fz ga gb gc cb bj b bk gd ge bn cc cd ce cf cg bf">Follow</button></div></div></span></div></div><span class="bj b bk bl bm bn r bo bp"><span class="bj dy ds bl di fl fm fn fo fp bo"><div><a class="at au av aw ax ay az ba bb bc fq bf bg bh bi" rel="noopener" href="/web/20191222054305/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9?source=post_page-----cbc1a5d5d3e9----------------------">Nov 22</a> <!-- -->·<!-- --> <!-- -->10<!-- --> min read</div></span></span></div></div><div class="n gf gg gh gi gj gk gl gm ab"><div class="n o"><div class="gn r ar"><a href="//web.archive.org/web/20191222054305/https://medium.com/p/cbc1a5d5d3e9/share/twitter?source=post_actions_header---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="gn r ar"><a href="//web.archive.org/web/20191222054305/https://medium.com/p/cbc1a5d5d3e9/share/facebook?source=post_actions_header---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="go r ao"><div><div class="cf" role="tooltip" aria-hidden="true"><a href="https://web.archive.org/web/20191222054305/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9&amp;source=post_actions_header--------------------------bookmark_sidebar-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25" height="25" viewbox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div></div></div></div><p id="1b75" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Pretend you’re my IoT student. I give you a <a class="at cg hd he hf hg" target="_blank" rel="noopener" href="/web/20191222054305/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&amp;sk=d9301466f5499bece3e7b638e99ec20d">PineTime Smart Watch</a> and challenge you to <em class="hh">“Make it work… Especially the touch screen!”</em> The Touch Screen appears to be lacking some documentation. <em class="hh">What would you do?</em></p></div></div></section><hr class="hi dy hj hk hl dv hm hn ho hp hq"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="6a39" class="hr hs ec bk bj ht ee hu eg hv hw hx hy hz ia ib ic">PineTime Touch Screen = Touch Panel + Display Panel</h1><p id="e636" class="gp gq ec bk gr b gs id gu ie gw if gy ig ha ih hc">We carefully pry open the <a href="https://web.archive.org/web/20191222054305/https://wiki.pine64.org/index.php/PineTime" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">PineTime Smart Watch</a> with tweezers (or forceps) and examine the Touch Screen. It looks like a single chunk of plastic… But it’s actually two delicate pieces fused together: <a href="https://web.archive.org/web/20191222054305/http://files.pine64.org/doc/datasheet/pinetime/PineTime%20Touch%20Panel.jpg" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr ii">Touch Panel</strong></a> and <a href="https://web.archive.org/web/20191222054305/http://files.pine64.org/doc/datasheet/pinetime/PineTime%20LCD%20Panel.jpg" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr ii">Display Panel</strong></a>…</p><figure class="ik il im in io cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm ij"><div class="dl r dd dm"><div class="ip r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/60/1*3CvAA0KqjH6Hj1UfkK-pAQ.png?q=20" width="1133" height="1082" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1133" height="1082" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/2266/1*3CvAA0KqjH6Hj1UfkK-pAQ.png" width="1133" height="1082" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">PineTime Touch Panel and Display Panel. From <a href="https://web.archive.org/web/20191222054305/http://files.pine64.org/doc/datasheet/pinetime/PineTime%20LCD%20Panel.jpg" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">http://files.pine64.org/doc/datasheet/pinetime/PineTime%20LCD%20Panel.jpg</a> and <a href="https://web.archive.org/web/20191222054305/http://files.pine64.org/doc/datasheet/pinetime/PineTime%20Touch%20Panel.jpg" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">http://files.pine64.org/doc/datasheet/pinetime/PineTime%20Touch%20Panel.jpg</a></figcaption></figure><p id="44ed" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The Touch Panel and Display Panel are connected to the I2C and SPI connectors on the PineTime board…</p></div></div><div class="cz"><div class="n p"><div class="iq ir is it iu iv ag iw ah ix aj ak"><figure class="ik il im in io cz iz ja paragraph-image"><div class="db dc dd de ak"><div class="cl cm iy"><div class="dl r dd dm"><div class="jb r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/60/1*oDMCFvuanclm5J2liQAUIw.png?q=20" width="2872" height="1932" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="2872" height="1932" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/5744/1*oDMCFvuanclm5J2liQAUIw.png" width="2872" height="1932" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Connectors for ST7789 Display Controller and Hynitron CST816S Capacitive Touch Controller</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><p id="65ef" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Last week we have <a class="at cg hd he hf hg" target="_blank" rel="noopener" href="/web/20191222054305/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&amp;sk=d9301466f5499bece3e7b638e99ec20d">programmed the ST7789 Display Controller</a> (via SPI) to render colour text and graphics on the Display Panel. This week we’ll look at the <a href="https://web.archive.org/web/20191222054305/https://wiki.pine64.org/images/5/51/CST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.en.pdf" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr ii">Hynitron CST816S Capacitive Touch Controller</strong></a> for PineTime’s Touch Panel…</p></div></div></section><hr class="hi dy hj hk hl dv hm hn ho hp hq"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="96cc" class="hr hs ec bk bj ht ee hu eg hv hw hx hy hz ia ib ic">Probing PineTime’s I2C Bus for Touch Controller</h1><p id="d9fa" class="gp gq ec bk gr b gs id gu ie gw if gy ig ha ih hc">The PineTime Touch Controller is connected to the nRF52 Microcontroller via an <a href="https://web.archive.org/web/20191222054305/https://en.wikipedia.org/wiki/I%C2%B2C" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr ii">I2C Bus</strong></a>. That stands for <a href="https://web.archive.org/web/20191222054305/https://en.wikipedia.org/wiki/I%C2%B2C" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr ii">Inter-Integrated Circuit</strong></a><strong class="gr ii"> </strong>and is pronounced “<em class="hh">I-squared-C”. (I used to call it “I-two-C” until my IoT students corrected me)</em></p><p id="6665" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hh">News Flash!</em> I2C works more like a <strong class="gr ii">Light Rail</strong> transit line than a Bus. It runs on two rails (wires), shuttles tiny packets of passengers (data) between a Main Station (<strong class="gr ii">Master Microcontroller</strong>) and Sub Stations (<strong class="gr ii">Slave Devices</strong>)…</p></div></div><div class="cz"><div class="n p"><div class="iq ir is it iu iv ag iw ah ix aj ak"><figure class="ik il im in io cz iz ja paragraph-image"><div class="db dc dd de ak"><div class="cl cm jc"><div class="dl r dd dm"><div class="jd r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/60/1*yBHFDc7PzmT32n1M8KCNEQ.jpeg?q=20" width="6638" height="1759" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="6638" height="1759" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/13276/1*yBHFDc7PzmT32n1M8KCNEQ.jpeg" width="6638" height="1759" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Light Rail Transit Line</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><p id="dde8" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">In Light Rail, the train is sent from the Main Station to each Sub Station to drop off passengers. And we expect the train to pick up passengers from each Sub Station. A Sub Station with drop-offs but no pick-ups will be so spooky… <em class="hh">like a Ghost Station!</em></p></div></div><div class="cz"><div class="n p"><div class="iq ir is it iu iv ag iw ah ix aj ak"><figure class="ik il im in io cz iz ja paragraph-image"><div class="db dc dd de ak"><div class="cl cm jc"><div class="dl r dd dm"><div class="je r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/60/1*381UBslJDyZQ8qPqnj-9Pw.jpeg?q=20" width="6638" height="1515" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="6638" height="1515" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/13276/1*381UBslJDyZQ8qPqnj-9Pw.jpeg" width="6638" height="1515" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">I2C (Inter-Integrated Circuit) Bus on PineTime</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><p id="ebfe" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hh">Thankfully there are no Ghost Stations in I2C…</em> When the Microcontroller sends a packet to a Slave Device at a particular address, the <strong class="gr ii">Slave Device must respond</strong> with another packet. This called <a href="https://web.archive.org/web/20191222054305/https://mynewt.apache.org/latest/os/modules/hal/hal_i2c/hal_i2c.html#c.hal_i2c_master_probe" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr ii">I2C Probing</strong></a> and the Rust code on PineTime looks like this…</p><figure class="ik il im in io cz"><div class="dl r dd"><div class="jf r"><iframe src="https://web.archive.org/web/20191222054305if_/https://medium.com/media/11ab0ea3b680be598270e87000d24a77" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Probing the I2C Bus on PineTime to discover I2C devices. From <a href="https://web.archive.org/web/20191222054305/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs</a></figcaption></figure><p id="92bb" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">There are only <strong class="gr ii">128 possible I2C Addresses</strong> (0 to 127) so it’s feasible to identify all I2C Slave Devices by probing each address. <em class="hh">(</em><a href="https://web.archive.org/web/20191222054305/https://learn.adafruit.com/i2c-addresses/the-list" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><em class="hh">Here’s a list of I2C Addresses for popular devices</em></a><em class="hh">)</em></p><p id="e09b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Running the above code on PineTime we find <strong class="gr ii">two devices</strong> on our I2C Bus, at I2C Addresses <code class="dm jg jh ji jj b">0x18</code> and <code class="dm jg jh ji jj b">0x44</code>. That’s the <a href="https://web.archive.org/web/20191222054305/http://files.pine64.org/doc/datasheet/pinetime/BST-BMA421-FL000.pdf" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr ii">Accelerometer</strong></a> and <a href="https://web.archive.org/web/20191222054305/http://files.pine64.org/doc/datasheet/pinetime/HRS3300%20Heart%20Rate%20Sensor.pdf" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr ii">Heart Rate Sensor</strong></a><strong class="gr ii">.</strong> <em class="hh">(I verified against the docs)</em></p><p id="29dc" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hh">But where’s the Touch Controller? Do Ghost Stations really exist on I2C?</em></p></div></div></section><hr class="hi dy hj hk hl dv hm hn ho hp hq"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="5449" class="hr hs ec bk bj ht ee hu eg hv hw hx hy hz ia ib ic">PineTime Touch Controller responds to Special Events</h1><p id="215d" class="gp gq ec bk gr b gs id gu ie gw if gy ig ha ih hc">Back to our Light Rail analogy… Suppose we have a Sub Station that serves an <em class="hh">Amusement Park</em>. The Sub Station operates on <em class="hh">special occasions</em> like weekends and holidays. Most of the time it would appear as a Ghost Station… <em class="hh">Coming to life only on special occasions!</em></p><p id="72df" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hh">What is this “Special Event&quot; that brings our Touch Controller to life?</em></p><p id="afb4" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hh">Maybe it’s low on power?</em> This power problem happens often with <a class="at cg hd he hf hg" target="_blank" rel="noopener" href="/web/20191222054305/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-nb-iot-with-quectel-bc95-g-and-apache-mynewt-c99a9d8417a9?source=friends_link&amp;sk=34fb9befbea42e98cb5942d66f594027">wireless gadgets like NB-IoT</a>. We connect the 5 Volt power from the ST-Link USB dongle and… <em class="hh">Nothing changes! (Though the PineTime Battery gets properly charged now… Nice!)</em></p></div></div><div class="cz ak"><figure class="ik il im in io cz ak paragraph-image"><div class="db dc dd de ak"><div class="dl r dd dm"><div class="jk r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/60/1*7pEuxEVePoFmOaQs5jVA5g.jpeg?q=20" width="4764" height="1652" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="4764" height="1652" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/9528/1*7pEuxEVePoFmOaQs5jVA5g.jpeg" width="4764" height="1652" role="presentation"/></noscript></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Connecting the 5V Charging Pad on PineTime to the 5V Pin of ST-Link with a folded loop of Single Core Wire (22 AWG)</figcaption></figure></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><p id="e80b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hh">(Don’t forget the “Only One Power Source” OOPS Rule… Our computer’s USB port supplies both 3.3 Volt and 5 Volt power sources… Never use two different power sources… OOPS!)</em></p></div></div><div class="cz"><div class="n p"><div class="iq ir is it iu iv ag iw ah ix aj ak"><figure class="ik il im in io cz iz ja paragraph-image"><div class="db dc dd de ak"><div class="cl cm jl"><div class="dl r dd dm"><div class="jm r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/60/1*dgNBWfyra4pu3jBJ5V3YRw.png?q=20" width="4166" height="3219" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="4166" height="3219" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/8332/1*dgNBWfyra4pu3jBJ5V3YRw.png" width="4166" height="3219" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Touch Controller State Transition Diagram from <a href="https://web.archive.org/web/20191222054305/http://files.pine64.org/doc/datasheet/pinetime/CST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.pdf" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">http://files.pine64.org/doc/datasheet/pinetime/CST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.pdf</a>. English Translation: <a href="https://web.archive.org/web/20191222054305/https://wiki.pine64.org/images/5/51/CST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.en.pdf" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://wiki.pine64.org/images/5/51/CST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.en.pdf</a></figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><p id="a238" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">We stare hard at this State Transition Diagram from the <a href="https://web.archive.org/web/20191222054305/http://files.pine64.org/doc/datasheet/pinetime/CST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.pdf" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Touch Controller doc</a>. (The <a href="https://web.archive.org/web/20191222054305/https://wiki.pine64.org/images/5/51/CST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.en.pdf" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">English Translation</a> looked alien so we’re using the <a href="https://web.archive.org/web/20191222054305/http://files.pine64.org/doc/datasheet/pinetime/CST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.pdf" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">original Chinese version</a> with my translation) <em class="hh">What is it trying to tell us?</em></p><p id="f4d3" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hh">It says that the Touch Controller can be woken from the Standby Mode… By Touch!</em></p><p id="b014" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">We tap the screen… Sure enough our <em class="hh">Ghost Station comes to life!</em> Our <strong class="gr ii">Touch Controller needs a little tap</strong> <em class="hh">(the “Special Event”)</em> to <strong class="gr ii">wake it up and respond</strong> to I2C packets. <em class="hh">Mystery solved!</em></p><p id="6215" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">With screen tapping and I2C probing, we finally locate PineTime’s Touch Controller… <strong class="gr ii">At I2C Address </strong><code class="dm jg jh ji jj b"><strong class="gr ii">0x15</strong></code></p></div></div></section><hr class="hi dy hj hk hl dv hm hn ho hp hq"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="9afc" class="hr hs ec bk bj ht ee hu eg hv hw hx hy hz ia ib ic">I2C Streaming with PineTime Touch Controller</h1><p id="4e98" class="gp gq ec bk gr b gs id gu ie gw if gy ig ha ih hc">To discover which parts of the screen are touched (up to 10 points), we need to read <strong class="gr ii">63 bytes</strong> from the PineTime Touch Controller… <em class="hh">That’s 63 consecutive I2C Registers, 1 byte per register!</em></p><p id="f831" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">There’s an efficient way to read 63 consecutive I2C Registers from the PineTime Touch Controller. Some people call it Bulk Reading but let’s call it <strong class="gr ii">I2C Streaming</strong>.</p><p id="7978" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hh">Ever used a Rubber Hose to siphon petrol / gasoline / fish tank water?</em> We suck a bit of air out of the Rubber Hose, maybe we’ll taste a bit of the petrol / gasoline / fish tank water <em class="hh">(whoa that’s nasty)</em>, and the liquid comes streaming out. <em class="hh">(Yes you can remove the hose from your mouth now!)</em></p><p id="f269" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The liquid keeps streaming until you stop it. I2C Streaming works just like that… We instruct the Touch Controller (via its I2C Address <code class="dm jg jh ji jj b">0x15</code>) to send us the value of I2C Register <code class="dm jg jh ji jj b">#0</code>. The Touch Controller will stream a list of consecutive I2C Register values (Register <code class="dm jg jh ji jj b">#0</code>, <code class="dm jg jh ji jj b">#1</code>, <code class="dm jg jh ji jj b">#2</code>, …) Until we receive 63 values and we tell the Touch Controller <em class="hh">“Stop!!!”</em></p><p id="2ec1" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">I2C Streaming runs in five steps like this…</p></div></div><div class="cz ak"><figure class="ik il im in io cz ak paragraph-image"><div class="db dc dd de ak"><div class="dl r dd dm"><div class="jn r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/60/1*FfE0vWwY7phvrXPGtbeXEw.png?q=20" width="8154" height="4716" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="8154" height="4716" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/16308/1*FfE0vWwY7phvrXPGtbeXEw.png" width="8154" height="4716" role="presentation"/></noscript></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Steps to stream I2C Registers #0 to #62 from the I2C Touch Controller at I2C Address 0x15</figcaption></figure></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><p id="f420" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><strong class="gr ii">Steps 1 through 5</strong> are explained in the Rust code below that reads a range of I2C Registers (Registers <code class="dm jg jh ji jj b">#0</code> to <code class="dm jg jh ji jj b">#62</code>, total 63 Registers) from the Touch Controller (at I2C Address <code class="dm jg jh ji jj b">0x15</code>)</p><figure class="ik il im in io cz"><div class="dl r dd"><div class="jf r"><iframe src="https://web.archive.org/web/20191222054305if_/https://medium.com/media/d6485d14e78f9df0ea71515805554393" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Rust code to read a range of I2C Registers from an I2C Device on PineTime. The steps in the comments refer to the steps in the diagram above. From <a href="https://web.archive.org/web/20191222054305/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs</a></figcaption></figure><p id="26b9" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Yep the code looks alarming with the <code class="dm jg jh ji jj b">unsafe</code> blocks (because we are calling C APIs from Rust). Eventually we should implement the I2C Interface for Rust Embedded HAL… And the <code class="dm jg jh ji jj b">unsafe</code> blocks will be gone forever.</p></div></div></section><hr class="hi dy hj hk hl dv hm hn ho hp hq"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="73fc" class="hr hs ec bk bj ht ee hu eg hv hw hx hy hz ia ib ic">Convert PineTime Touch Data</h1><p id="cf3b" class="gp gq ec bk gr b gs id gu ie gw if gy ig ha ih hc">The PineTime Touch Controller generates <strong class="gr ii">63 bytes of raw touch data</strong> on every touch. <em class="hh">(</em><a href="https://web.archive.org/web/20191222054305/https://github.com/lupyuen/hynitron_i2c_cst0xxse/blob/master/cst0xx_core.c#L407-L466" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><em class="hh">According to the reference code here</em></a><em class="hh">)</em> When converted, these 63 bytes produce <strong class="gr ii">10 points of touch information</strong>. Each point of touch information contains…</p><p id="2d9d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">1️⃣ <strong class="gr ii">X (Horizontal) and Y (Vertical) Coordinates</strong> of the touched point. <code class="dm jg jh ji jj b">(0, 0)</code> represents top left, <code class="dm jg jh ji jj b">(239, 239)</code> represents bottom right.</p><p id="5e7c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">2️⃣ <strong class="gr ii">Action</strong>: Whether the point was just touched, just untouched or kept in contact</p><p id="88ef" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">3️⃣ <strong class="gr ii">Finger</strong>: A number that identifies the finger that touched the point</p><p id="dcf1" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">4️⃣ <strong class="gr ii">Pressure</strong>: How hard the point was touched</p><p id="f4b5" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">5️⃣ <strong class="gr ii">Area</strong>: Size of the touched area</p><figure class="ik il im in io cz"><div class="dl r dd"><div class="jf r"><iframe src="https://web.archive.org/web/20191222054305if_/https://medium.com/media/03dd04a7e2c8c8697e4977908097afbd" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">63 bytes of raw touch data converted to 10 points of touch information. This is the Rust representation of the 10 touch points. From <a href="https://web.archive.org/web/20191222054305/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs</a></figcaption></figure><p id="e3db" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hh">That’s a lot of information for each point touched… Why do we need so much information? Why the finger-pointing?</em></p><p id="35b7" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Think of the classic 2010 iPad game <a href="https://web.archive.org/web/20191222054305/https://en.wikipedia.org/wiki/Fruit_Ninja" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><em class="hh">Fruit Ninja</em></a>… The game tracks the swiping motion of each finger to figure out which fruits (and bombs) you’re slashing. So the tracking of each finger is important for swiping-based apps. <em class="hh">(Like </em><a href="https://web.archive.org/web/20191222054305/https://en.wikipedia.org/wiki/Tinder_(app)" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><em class="hh">Tinder</em></a><em class="hh">)</em></p><p id="c40f" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The Touch Controller doesn’t really know whether you touched the screen with your left forefinger or your right thumb <em class="hh">(or your nose)</em>… It just assigns a number to the finger <em class="hh">(or appendage)</em> that’s swiping the screen. The Touch Action (touched / untouched / in contact) is necessary to determine whether this is the start, middle or end of a swipe.</p><p id="aeef" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Based on the <a href="https://web.archive.org/web/20191222054305/https://github.com/lupyuen/hynitron_i2c_cst0xxse/blob/master/cst0xx_core.c#L407-L466" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">reference code</a>, we derived the following Rust function for reading and converting the 63 bytes of raw touch data into touch points. Note that only the <em class="hh">first 5 touch points</em> out of 10 are converted. <em class="hh">(Probably because it’s not meaningful to track 10 fingers on a tiny watch screen)</em></p><figure class="ik il im in io cz"><div class="dl r dd"><div class="jf r"><iframe src="https://web.archive.org/web/20191222054305if_/https://medium.com/media/4f10ea84aceaf382228b207fbb984e65" allowfullscreen="" frameborder="0" height="0" width="0" title="From https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Rust code to convert raw touch data to touch point information. From <a href="https://web.archive.org/web/20191222054305/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs</a></figcaption></figure></div></div></section><hr class="hi dy hj hk hl dv hm hn ho hp hq"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="bbd0" class="hr hs ec bk bj ht ee hu eg hv hw hx hy hz ia ib ic">Display PineTime Touch Data</h1><p id="dbd6" class="gp gq ec bk gr b gs id gu ie gw if gy ig ha ih hc">Now that we have the converted touch data, let’s display the data on the screen to verify that we have converted the data correctly. Here’s the Rust code that takes coordinates <code class="dm jg jh ji jj b">(X, Y)</code> and displays them as <code class="dm jg jh ji jj b">X = …, Y = …</code> on the PineTime screen…</p><figure class="ik il im in io cz"><div class="dl r dd"><div class="jf r"><iframe src="https://web.archive.org/web/20191222054305if_/https://medium.com/media/f9ba7670bec10733e03a2893309c370f" allowfullscreen="" frameborder="0" height="0" width="0" title="From https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Rust code to display the touched coordinates on the screen. From <a href="https://web.archive.org/web/20191222054305/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/display.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/display.rs</a></figcaption></figure><p id="90c0" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Notice that we passed a special <code class="dm jg jh ji jj b"><a href="https://web.archive.org/web/20191222054305/https://docs.rs/arrayvec/0.3.25/arrayvec/struct.ArrayString.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">arrayvec::ArrayString</a></code> type to the <code class="dm jg jh ji jj b">write!()</code> macro for storing the formatted text. That’s because the <code class="dm jg jh ji jj b">write!()</code> macro normally accepts a <code class="dm jg jh ji jj b">String</code> type for storing formatted text… But <code class="dm jg jh ji jj b">String</code> relies on Dynamic Heap Memory which we don’t support in our Rust Application.</p><p id="7379" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hh">Why no Heap in our application?</em> For Embedded Applications it’s a good practice to budget our memory requirements in advance and allocate our variables statically. Yes that means we have to do more planning while designing our programs… But we prevent problems like running out of heap memory (and heap fragmentation).</p><p id="1b6a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">In the above code we have budgeted 20 bytes in our fixed-size <code class="dm jg jh ji jj b">arrayvec::ArrayString</code> buffer for storing each formatted text string.</p></div></div><div class="cz"><div class="n p"><div class="iq ir is it iu iv ag iw ah ix aj ak"><figure class="ik il im in io cz iz ja paragraph-image"><div class="db dc dd de ak"><div class="cl cm jo"><div class="dl r dd dm"><div class="jp r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/60/1*Q0Jn3k3oqw4nJlTE_Oy2dg.jpeg?q=20" width="6000" height="4000" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="6000" height="4000" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/12000/1*Q0Jn3k3oqw4nJlTE_Oy2dg.jpeg" width="6000" height="4000" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Displaying touched coordinates on PineTime screen</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><p id="0d28" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Mr Diego Barrios Romero has an excellent suggestion for handling Rust strings without heaps…</p><blockquote class="jq jr js"><p id="5fab" class="gp gq ec hh gr b gs gt gu gv gw gx gy gz ha hb hc">For the strings you can also use the <code class="dm jg jh ji jj b">String</code> type from the <code class="dm jg jh ji jj b"><a href="https://web.archive.org/web/20191222054305/https://crates.io/crates/heapless" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">heapless</a></code> crate like this<br/><code class="dm jg jh ji jj b">let mut buffer: <br/> heapless::String&lt; heapless::consts::U64 &gt; <br/> = heapless::String::new();</code></p></blockquote></div></div></section><hr class="hi dy hj hk hl dv hm hn ho hp hq"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="e8fe" class="hr hs ec bk bj ht ee hu eg hv hw hx hy hz ia ib ic">Transform PineTime Touch Interrupt to Mynewt Event Callback</h1><p id="0882" class="gp gq ec bk gr b gs id gu ie gw if gy ig ha ih hc">We have our PineTime Touch Controller all figured out… Reading the I2C Registers, converting the touch data and displaying the touch data. <em class="hh">But something important is still missing…</em></p><figure class="ik il im in io cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm jt"><div class="dl r dd dm"><div class="ju r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/60/1*r5kpM7wDeb5zSHtRVdE6TA.png?q=20" width="3466" height="903" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="3466" height="903" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/6932/1*r5kpM7wDeb5zSHtRVdE6TA.png" width="3466" height="903" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Reading, converting and displaying touch data</figcaption></figure><p id="e853" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hh">Remember the Ghost Station?</em> We can’t read the I2C Registers on the Touch Controller unless the screen has been tapped… <em class="hh">So how will we know when to read the registers?</em></p><figure class="ik il im in io cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm jv"><div class="dl r dd dm"><div class="jw r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/60/1*9EKhg_828jPjrky36tv3Cw.png?q=20" width="3763" height="2135" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="3763" height="2135" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/max/7526/1*9EKhg_828jPjrky36tv3Cw.png" width="3763" height="2135" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Need to handle the Touch Interrupt and get an Event Callback first</figcaption></figure><p id="6502" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Fortunately the Touch Controller generates a <strong class="gr ii">Touch Interrupt</strong> every time the screen is tapped. So let’s hook on to the Touch Interrupt and do the touch processing there!</p><figure class="ik il im in io cz"><div class="dl r dd"><div class="jf r"><iframe src="https://web.archive.org/web/20191222054305if_/https://medium.com/media/3dea50a978bf5ebd4e77817807681ae0" allowfullscreen="" frameborder="0" height="0" width="0" title="From https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Assigning an Interrupt Handler for Touch Interrupt. From <a href="https://web.archive.org/web/20191222054305/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs</a></figcaption></figure><p id="f298" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The Touch Interrupt is raised via a normal GPIO Pin (<code class="dm jg jh ji jj b">P0.28</code>). In the Rust code above, we ask Mynewt OS to watch out for the Touch Interrupt on the GPIO Pin, and call <code class="dm jg jh ji jj b">touch_interrupt_handler()</code> when the GPIO Pin switches from High to Low. <em class="hh">(That’s when the screen is tapped)</em></p><figure class="ik il im in io cz"><div class="dl r dd"><div class="jf r"><iframe src="https://web.archive.org/web/20191222054305if_/https://medium.com/media/f0ef5e1da2bd594968d1ed6cdba4c5be" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Touch interrupt handler that’s called upon touch. From <a href="https://web.archive.org/web/20191222054305/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs</a></figcaption></figure><p id="2280" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm jg jh ji jj b">touch_interrupt_handler()</code> is an <strong class="gr ii">Interrupt Handler Function</strong>. Note that this Rust function is declared <code class="dm jg jh ji jj b">extern “C”</code> because it will be called by Mynewt OS whenever the Touch Interrupt occurs. So it appears to Mynewt OS like a regular C function.</p><p id="788d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm jg jh ji jj b">touch_interrupt_handler()</code> looks… <em class="hh">underwhelming</em>. <em class="hh">Where’s all the touch data processing we covered earlier?</em></p><p id="1a0f" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">That’s because Interrupt Handlers are not meant for doing any kind of data processing! Mynewt OS has gone out of its usual routine, just to call our Interrupt Handler because somebody touched the screen. Mynewt OS could have been <strong class="gr ii">doing something very important</strong> when the interrupt occurred!</p><p id="b838" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hh">Would be so rude of us to snatch Mynewt OS away from some important task… Just to swipe some fruits / bombs / dating profiles!</em></p><p id="6eaf" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">So let’s be polite to Mynewt OS and take up as little time as possible. We’ll defer the swiping of the fruit / bomb / dating profile… By adding a <strong class="gr ii">Mynewt Event</strong> to <strong class="gr ii">Mynewt’s </strong><a href="https://web.archive.org/web/20191222054305/https://mynewt.apache.org/latest/os/core_os/event_queue/event_queue.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr ii">Event Queue</strong></a>.</p><figure class="ik il im in io cz"><div class="dl r dd"><div class="jf r"><iframe src="https://web.archive.org/web/20191222054305if_/https://medium.com/media/5fa6b1b321bb25c9ea73c4c5bc9e3b47" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Event callback for handling touch events. From <a href="https://web.archive.org/web/20191222054305/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs</a></figcaption></figure><p id="4975" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here’s the Rust code that will eventually be triggered via the Mynewt Event, after Mynewt OS has completed the important tasks. We read the touch data (via I2C Streaming) and display the first detected touch point.</p><p id="0598" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The complete flow from Touch Interrupt to Touch Data Display looks like this. The Rust Driver for PineTime Touch Controller is incomplete because we haven’t implemented <strong class="gr ii">Hit Testing</strong> to detect the graphic or text on the screen that’s tapped… So Hit Testing is coming next! <em class="hh">(And if you wish to help out, drop me a note!)</em></p></div></div><div class="cz"><div class="n p"><div class="iq ir is it iu iv ag iw ah ix aj ak"><figure class="ik il im in io cz"><div class="dl r dd"><div class="jx r"><iframe src="https://web.archive.org/web/20191222054305if_/https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F4_93mUkK--U%3Ffeature%3Doembed&amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D4_93mUkK--U&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2F4_93mUkK--U%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube" allowfullscreen="" frameborder="0" height="480" width="854" title="PineTime Touch Controller with Rust and Mynewt OS" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">PineTime Touch Controller fully functioning with Touch Interrupts</figcaption></figure></div></div></div></section><hr class="hi dy hj hk hl dv hm hn ho hp hq"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="c9ac" class="hr hs ec bk bj ht ee hu eg hv hw hx hy hz ia ib ic">What’s Next?</h1><p id="4179" class="gp gq ec bk gr b gs id gu ie gw if gy ig ha ih hc">Here are the other articles in the PineTime series…</p><div class="jy jz ka kb kc kd"><a rel="noopener" href="/web/20191222054305/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159"><section class="kg cl cm ak ce n ar kh ki kj kk kl km kn ko kp kq kr ks kt ku kv"><div class="kw n co p kx ky"><h2 class="bj ht kz bl ec"><div class="di ke fm fn kf fp">Sneak Peek of PineTime Smart Watch… And why it’s perfect for teaching IoT</div></h2><div class="la r"><h3 class="bj dy ds bl bo"><div class="di ke fm fn kf fp">I’m one of the lucky few who received the developer preview version of the PineTime Smart Watch by Pine64. (My official…</div></h3></div><div class="lb r"><h4 class="bj dy ge bl bo"><div class="di ke fm fn kf fp">medium.com</div></h4></div></div><div class="lc r"><div class="ld r le lf lg lc lh li lj"></div></div></section></a></div><div class="jy jz ka kb kc kd"><a rel="noopener" href="/web/20191222054305/https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"><section class="kg cl cm ak ce n ar kh ki kj kk kl km kn ko kp kq kr ks kt ku kv"><div class="kw n co p kx ky"><h2 class="bj ht kz bl ec"><div class="di ke fm fn kf fp">Porting [druid] Rust Widgets to PineTime Smart Watch</div></h2><div class="la r"><h3 class="bj dy ds bl bo"><div class="di ke fm fn kf fp">A button that responds to our tapping and increments a counter… That’s what we shall accomplish today on the PineTime…</div></h3></div><div class="lb r"><h4 class="bj dy ge bl bo"><div class="di ke fm fn kf fp">medium.com</div></h4></div></div><div class="lc r"><div class="lk r le lf lg lc lh li lj"></div></div></section></a></div><p id="52c7" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Last week I declared that <a class="at cg hd he hf hg" target="_blank" rel="noopener" href="/web/20191222054305/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&amp;sk=d9301466f5499bece3e7b638e99ec20d"><strong class="gr ii">PineTime is perfect for teaching IoT</strong></a>… Today I’m walking the talk by applying PineTime to explain how a modern touchscreen works!</p><p id="97e8" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">I built the Rust driver <strong class="gr ii">iteratively</strong> (pretty much in the same sequence we see in this article)… <em class="hh">I really love the way Rust and Mynewt OS on PineTime make Embedded Experiments so fun and easy to execute!</em></p><p id="90e9" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">As we have seen today, building the right IoT Software to run on today’s IoT Hardware can be challenging because of <strong class="gr ii">language issues</strong>. If you can read Chinese like me… <strong class="gr ii">Hang on to this precious skill!</strong> <em class="hh">(Try watching </em><a href="https://web.archive.org/web/20191222054305/https://en.wikipedia.org/wiki/Story_of_Yanxi_Palace" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><em class="hh">延禧攻略</em></a><em class="hh"> or the </em><a href="https://web.archive.org/web/20191222054305/https://video.toggle.sg/en/8-news-tonight-5180828" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><em class="hh">Mandarin news</em></a><em class="hh">)</em></p><p id="582b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">I bet at this very moment, a non-native English reader is trying to read this English article…<em class="hh"> Struggling to understand “Ghost Station”, “dating profile”, “fish tank water” and their relevance to Touch Controllers.</em></p><p id="c330" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><strong class="gr ii">IoT Education across all languages</strong> is needed now, more than ever. Here’s what I’m doing about it…</p><p id="819c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><strong class="gr ii">I hereby waive all copyright on my articles. You may reproduce my articles in any language, without asking for my permission.</strong></p><p id="8610" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Although a few of my articles have been translated into <a href="https://web.archive.org/web/20191222054305/https://www.kidscoding8.com/98097.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Chinese</a> and <a href="https://web.archive.org/web/20191222054305/https://qiita.com/ghibi/items/81fed94d9fc3eb81df62" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Japanese</a>… We can do better. <em class="hh">Let’s share our IoT skills worldwide! </em>😀</p></div></div></section><hr class="hi dy hj hk hl dv hm hn ho hp hq"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="0e98" class="hr hs ec bk bj ht ee hu eg hv hw hx hy hz ia ib ic">References</h1><p id="36a6" class="gp gq ec bk gr b gs id gu ie gw if gy ig ha ih hc">Please refer to the <em class="hh">“References”</em> section at the end of the previous article <em class="hh">“</em><a class="at cg hd he hf hg" target="_blank" rel="noopener" href="/web/20191222054305/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&amp;sk=d9301466f5499bece3e7b638e99ec20d"><em class="hh">Sneak Peek of PineTime Smart Watch… And why it’s perfect for teaching IoT</em></a><em class="hh">”</em></p><p id="408d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">To run the code on a PineTime Smart Watch, follow the instructions in the section <em class="hh">“Programming the PineTime Smart Watch”</em> of the above article.</p><p id="f62c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The updated code may be found in the <code class="dm jg jh ji jj b">pinetime</code> branch of this repository, which is the same branch used in the previous article…</p><div class="jy jz ka kb kc kd"><a href="https://web.archive.org/web/20191222054305/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/pinetime" rel="noopener nofollow"><section class="kg cl cm ak ce n ar kh ki kj kk kl km kn ko kp kq kr ks kt ku kv"><div class="kw n co p kx ky"><h2 class="bj ht kz bl ec"><div class="di ke fm fn kf fp">lupyuen/stm32bluepill-mynewt-sensor</div></h2><div class="la r"><h3 class="bj dy ds bl bo"><div class="di ke fm fn kf fp">This pinetime branch contains the firmware source code for PineTime Smart Watch with Apache Mynewt and Embedded Rust…</div></h3></div><div class="lb r"><h4 class="bj dy ge bl bo"><div class="di ke fm fn kf fp">github.com</div></h4></div></div><div class="lc r"><div class="ll r le lf lg lc lh li lj"></div></div></section></a></div></div></div></section></div></article><div class="df ct lm s ak ls lq lt" data-test-id="post-sidebar"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="lu n co"><div class="ct"><div class="lv lw lx n"><div class="n o"><div class="ly r dd"><a href="https://web.archive.org/web/20191222054305/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9&amp;source=post_sidebar-----cbc1a5d5d3e9---------------------clap_sidebar-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><div class="ba lz ma mb mc md me mf mg mh mi"><svg width="29" height="29"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="mj r"><div class="mk"><h4 class="bj dy ds bl bo"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi">65 </button></h4></div></div></div></div><div><div class="cf" role="tooltip" aria-hidden="true"><a href="https://web.archive.org/web/20191222054305/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9&amp;source=post_sidebar--------------------------bookmark_sidebar-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25" height="25" viewbox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div></div></div><div class="df ct lm s ln ff lo lp lq lr"></div>)<div><div class="ml cz n co p"><div class="n p"><div class="ac ae af ag ah dz aj ak"><div class="n mm"></div><div class="n o mm"></div><div class="mn r"><ul class="ba bb"><li class="cf mo mp mq"><a href="/web/20191222054305/https://medium.com/tag/internet-of-things" class="mr ms cg bo r mt mu a b ge">Internet of Things</a></li><li class="cf mo mp mq"><a href="/web/20191222054305/https://medium.com/tag/rust" class="mr ms cg bo r mt mu a b ge">Rust</a></li><li class="cf mo mp mq"><a href="/web/20191222054305/https://medium.com/tag/gadgets" class="mr ms cg bo r mt mu a b ge">Gadgets</a></li><li class="cf mo mp mq"><a href="/web/20191222054305/https://medium.com/tag/programming" class="mr ms cg bo r mt mu a b ge">Programming</a></li><li class="cf mo mp mq"><a href="/web/20191222054305/https://medium.com/tag/nrf52" class="mr ms cg bo r mt mu a b ge">Nrf52</a></li></ul></div><div class="mv n ev ab"><div class="n o"><div class="mw r dd"><a href="https://web.archive.org/web/20191222054305/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9&amp;source=post_actions_footer-----cbc1a5d5d3e9---------------------clap_footer-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><div class="c mx fh n o my dd mz na nb nc nd ne nf ng nh ni nj nk nl nm"><div class="ba lz ma mb mc md nn mf o dr fh n p no u dh cp t ak mg mh mi np"><svg width="33" height="33" viewbox="0 0 33 33"><path d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z" fill-rule="evenodd"></path></svg></div></div></a></div><div class="mj r"><div class="mk"><h4 class="bj dy ds bl ec"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi">65 claps</button></h4></div></div></div><div class="n o"><div class="gn r ar"><a href="//web.archive.org/web/20191222054305/https://medium.com/p/cbc1a5d5d3e9/share/twitter?source=post_actions_footer---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="gn r ar"><a href="//web.archive.org/web/20191222054305/https://medium.com/p/cbc1a5d5d3e9/share/facebook?source=post_actions_footer---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="gn r ar"><div><div class="cf" role="tooltip" aria-hidden="true"><a href="https://web.archive.org/web/20191222054305/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9&amp;source=post_actions_footer--------------------------bookmark_sidebar-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25" height="25" viewbox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div><div class="cf" aria-hidden="true"><div class="cf" aria-hidden="true"><div class="cf" aria-hidden="true"><div class="r ar"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi"><svg width="25" height="25" viewbox="-480.5 272.5 21 21" class="q"><path d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"></path></svg></button></div></div></div></div></div></div><div class="nq nr ns mn r ab"><div class="nt nu r dd"><span class="r nv an nw"><div class="r cp nx ny"><a rel="noopener" href="/web/20191222054305/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-"><div class="dd nz oa"><div class="bs n fb o p cp fc fd fe ff fg ct"><svg width="91" height="91" viewbox="0 0 91 91"><path fill-rule="evenodd" clip-rule="evenodd" d="M45.5 1.4c-17.14 0-32 9.95-39.25 24.5L5 25.28C12.47 10.28 27.8 0 45.5 0S78.53 10.29 86 25.28l-1.25.62C77.5 11.35 62.65 1.4 45.5 1.4zM6.25 65.1c7.25 14.55 22.1 24.5 39.25 24.5 17.14 0 32-9.95 39.25-24.5l1.25.62C78.53 80.72 63.2 91 45.5 91S12.47 80.71 5 65.72l1.25-.62z"></path></svg></div><img alt="Lup Yuen Lee 李立源" class="r fh oa nz" src="https://web.archive.org/web/20191222054305im_/https://miro.medium.com/fit/c/160/160/1*KGohS3sQaUnr58gc0BIfoQ.jpeg" width="80" height="80"/></div></a></div><span class="r"><div class="ob r oc"><p class="bj dy ge bl bo od oe">Written by</p></div><div class="ob of n oc"><div class="ak n o ev"><h2 class="bj ht hj og ec"><a class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener" href="/web/20191222054305/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-">Lup Yuen Lee 李立源</a></h2><div class="r g"><button class="oh ec q by ft fu fv fw bc bh fx fy fz ga gb gc cb bj b bk bl bm bn cc cd ce cf cg bf">Follow</button></div></div></div></span></span><div class="ob oi r oc aq"><div class="oj r"><h4 class="bj dy kz ok bo">Techie and Educator in IoT 物聯網教師</h4></div><div class="ap ol aq"><button class="oh ec q by ft fu fv fw bc bh fx fy fz ga gb gc cb bj b bk bl bm bn cc cd ce cf cg bf">Follow</button></div></div></div></div><div class="om nr r ab"><a href="https://web.archive.org/web/20191222054305/https://medium.com/p/cbc1a5d5d3e9/responses/show?source=follow_footer--------------------------follow_footer-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><span class="on oo mc"><div class="op oq cb r dv aq"><span class="br">See responses (1)</span></div></span></a></div></div></div><div class="or r os ab"><div class="n p"><div class="ac ae af ag ah ai aj ak"></div></div></div></div></div><div class="ot r ou ov"><section class="cl cm ak ce r kh ki kj kk kl km kn ko kp kq kr ks kt ku kv"><div class="ow ox nt n ev g"><div class="oy n ev"><div class="oz r pa"><div class="pb r"><a href="https://web.archive.org/web/20191222054305/https://medium.com/about?autoplay=1&amp;source=post_page-----cbc1a5d5d3e9----------------------" class="at au av aw ax ay az ba bb bc pc pd bf bg pe pf" rel="noopener"><h4 class="pg ph pi bj ht bk ok pj pk r">Discover <!-- -->Medium</h4></a></div><span class="bj b bk bl bm bn r pl pm">Welcome to a place where words matter. On <!-- -->Medium<!-- -->, smart voices and original ideas take center stage - with no ads in sight.<!-- --> <a href="https://web.archive.org/web/20191222054305/https://medium.com/about?autoplay=1&amp;source=post_page-----cbc1a5d5d3e9----------------------" class="at au av aw ax ay az ba bb bc bf bg pe pf pn" rel="noopener">Watch</a></span></div><div class="oz r pa"><div class="po r"><a href="https://web.archive.org/web/20191222054305/https://medium.com/topics?source=post_page-----cbc1a5d5d3e9----------------------" class="at au av aw ax ay az ba bb bc pc pd bf bg pe pf" rel="noopener"><h4 class="pg ph pi bj ht bk ok pj pk r">Make <!-- -->Medium<!-- --> yours</h4></a></div><span class="bj b bk bl bm bn r pl pm">Follow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox.<!-- --> <a href="https://web.archive.org/web/20191222054305/https://medium.com/topics?source=post_page-----cbc1a5d5d3e9----------------------" class="at au av aw ax ay az ba bb bc bf bg pe pf pn" rel="noopener">Explore</a></span></div><div class="oz r pa"><div class="pb r"><a href="https://web.archive.org/web/20191222054305/https://medium.com/membership?source=post_page-----cbc1a5d5d3e9----------------------" class="at au av aw ax ay az ba bb bc pc pd bf bg pe pf" rel="noopener"><h4 class="pg ph pi bj ht bk ok pj pk r">Become a member</h4></a></div><span class="bj b bk bl bm bn r pl pm">Get unlimited access to the best stories on <!-- -->Medium<!-- --> — and support writers while you’re at it. Just $5/month.<!-- --> <a href="https://web.archive.org/web/20191222054305/https://medium.com/membership?source=post_page-----cbc1a5d5d3e9----------------------" class="at au av aw ax ay az ba bb bc bf bg pe pf pn" rel="noopener">Upgrade</a></span></div></div></div><div class="n o ev"><a class="at au av aw ax ay az ba bb bc pc pd bf bg pe pf" rel="noopener" href="/web/20191222054305/https://medium.com/?source=post_page-----cbc1a5d5d3e9----------------------"><svg height="22" width="112" viewbox="0 0 111.5 22" class="ph"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></a><span class="bj b bk bl bm bn r pl pm"><div class="pp pq n ev pr an"><a href="https://web.archive.org/web/20191222054305/https://medium.com/about?autoplay=1&amp;source=post_page-----cbc1a5d5d3e9----------------------" class="at au av aw ax ay az ba bb bc fq bf bg pe pf" rel="noopener">About</a><a href="https://web.archive.org/web/20191222054305/https://help.medium.com/?source=post_page-----cbc1a5d5d3e9----------------------" class="at au av aw ax ay az ba bb bc fq bf bg pe pf" rel="noopener">Help</a><a class="at au av aw ax ay az ba bb bc fq bf bg pe pf" rel="noopener" href="/web/20191222054305/https://medium.com/policy/9db0094a1e0f?source=post_page-----cbc1a5d5d3e9----------------------">Legal</a></div></span></div></section></div></div></div><script src="https://web.archive.org/web/20191222054305js_/https://cdn.optimizely.com/js/16180790160.js"></script><script>window.__BUILD_ID__ = "development"</script><script>window.__GRAPHQL_URI__ = "https://web.archive.org/web/20191222054305/https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"config":{"nodeEnv":"production","version":"master-20191219-181913-44bd600411","productName":"Medium","publicUrl":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"collector-medium.lightstep.com","token":"ce5be895bef60919541332990ac9fef2","appVersion":"master-20191219-181913-44bd600411"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","sentry":{"dsn":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002F589e367c28ca47b195ce200d1507d18b@sentry.io\u002F1423575","environment":"production"},"isAmp":false,"googleAnalyticsCode":"UA-24232453-2","signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["544c7006046e","bcc38c8f6edf","444d13b52878","8d6b8a439e32","92d2092dc598","1285ba81cada","cb8577c9149e","8ccfed20cbb2","ae2a65f35510","3f6ecf56618","7b6769f2748b","fc8964313712","ef8e90590e66","191186aaafa0","d944778ce714","bdc4052bbdba","88d9857e584e"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*3sela1OADrJr7dJk_CXaEQ.png","height":810,"width":1440}}},"debug":{"requestId":"3aea566c-14e3-4ccf-9729-db6058c17bed","originalSpanCarrier":{"ot-tracer-spanid":"3af9622951fdd575","ot-tracer-traceid":"4f5c4cd2031d3a6c","ot-tracer-sampled":"true"}},"session":{"user":{"id":"lo_2bf78781d32d"},"xsrf":""},"stats":{"itemCount":0,"sending":false,"timeout":null,"backup":{}},"navigation":{"showBranchBanner":null,"hasRenderedBranchBanner":null,"hideGoogleOneTap":false,"hideAlternateUser":false,"branchData":{"loaded":false},"currentLocation":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","host":"medium.com","hostname":"medium.com","susiModal":{"step":null,"operation":"register","reportEventInfo":{"eventName":"","data":{}}}},"client":{"isBot":false,"isEu":false,"isNativeMedium":false,"isCustomDomain":false},"multiVote":{"clapsPerPost":{}},"metadata":{"faviconImageId":null}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"viewer":null,"variantFlags":[{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.0","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.1","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.2","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.3","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.4","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.5","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.6","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.7","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.8","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.9","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.10","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.11","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.12","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.13","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.14","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.15","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.16","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.17","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.18","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.19","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.20","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.21","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.22","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.23","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.24","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.25","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.26","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.27","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.28","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.29","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.30","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.31","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.32","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.33","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.34","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.35","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.36","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.37","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.38","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.39","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.40","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.41","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.42","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.43","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.44","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.45","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.46","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.47","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.48","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.49","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.50","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.51","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.52","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.53","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.54","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.55","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.56","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.57","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.58","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.59","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.60","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.61","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.62","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.63","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.64","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.65","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.66","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.67","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.68","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.69","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.70","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.71","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.72","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.73","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.74","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.75","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.76","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.77","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.78","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.79","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.80","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.81","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.82","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.83","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.84","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.85","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.86","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.87","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.88","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.89","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.90","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.91","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.92","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.93","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.94","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.95","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.96","typename":"VariantFlag"}],"meterPost({\"postId\":\"cbc1a5d5d3e9\",\"postMeteringOptions\":{}})":{"type":"id","generated":false,"id":"MeteringInfo:singleton","typename":"MeteringInfo"},"postResult({\"id\":\"cbc1a5d5d3e9\"})":{"type":"id","generated":false,"id":"Post:cbc1a5d5d3e9","typename":"Post"}},"ROOT_QUERY.variantFlags.0":{"name":"add_friction_to_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.0.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.0.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.1":{"name":"allow_access","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.1.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.1.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.2":{"name":"allow_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.2.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.2.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.3":{"name":"allow_test_auth","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.3.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.3.valueType":{"__typename":"VariantFlagString","value":"disallow"},"ROOT_QUERY.variantFlags.4":{"name":"assign_default_topic_to_posts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.4.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.4.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.5":{"name":"available_annual_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.5.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.5.valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"},"ROOT_QUERY.variantFlags.6":{"name":"available_monthly_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.6.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.6.valueType":{"__typename":"VariantFlagString","value":"60e220181034"},"ROOT_QUERY.variantFlags.7":{"name":"branch_seo_metadata","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.7.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.7.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.8":{"name":"browsable_stream_config_bucket","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.8.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.8.valueType":{"__typename":"VariantFlagString","value":"curated-topics"},"ROOT_QUERY.variantFlags.9":{"name":"digest_delivery_window_seven_to_eight","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.9.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.9.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.10":{"name":"disable_gosocial_followers_that_you_follow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.10.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.10.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.11":{"name":"disable_ios_resume_reading_toast","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.11.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.11.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.12":{"name":"disable_mobile_featured_chunk","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.12.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.12.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.13":{"name":"disable_post_recommended_from_friends_provider","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.13.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.13.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.14":{"name":"enable_android_local_currency","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.14.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.14.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.15":{"name":"enable_annual_renewal_reminder_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.15.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.15.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.16":{"name":"enable_app_flirty_thirty","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.16.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.16.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.17":{"name":"enable_auto_tier","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.17.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.17.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.18":{"name":"enable_automated_mission_control_triggers","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.18.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.18.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.19":{"name":"enable_branch_io","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.19.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.19.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.20":{"name":"enable_branding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.20.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.20.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.21":{"name":"enable_branding_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.21.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.21.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.22":{"name":"enable_dedicated_series_tab_api_ios","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.22.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.22.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.23":{"name":"enable_different_grid","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.23.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.23.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.24":{"name":"enable_disregard_trunc_state_for_footer","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.24.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.24.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.25":{"name":"enable_edit_alt_text","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.25.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.25.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.26":{"name":"enable_email_sign_in_captcha","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.26.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.26.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.27":{"name":"enable_embedding_based_diversification","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.27.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.27.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.28":{"name":"enable_expanded_feature_chunk_pool","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.28.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.28.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.29":{"name":"enable_filter_by_resend_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.29.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.29.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.30":{"name":"enable_first_name_on_blocker_banner","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.30.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.30.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.31":{"name":"enable_first_name_on_paywall","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.31.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.31.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.32":{"name":"enable_geolocation_stripe_standard","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.32.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.32.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.33":{"name":"enable_google_one_tap","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.33.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.33.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.34":{"name":"enable_graphql_lo_cache","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.34.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.34.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.35":{"name":"enable_ios_post_stats","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.35.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.35.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.36":{"name":"enable_janky_spam_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.36.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.36.valueType":{"__typename":"VariantFlagString","value":"users,posts"},"ROOT_QUERY.variantFlags.37":{"name":"enable_json_logs_trained_ranker","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.37.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.37.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.38":{"name":"enable_kafka_events","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.38.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.38.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.39":{"name":"enable_kbfd_rex","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.39.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.39.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.40":{"name":"enable_kbfd_rex_app_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.40.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.40.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.41":{"name":"enable_kbfd_rex_daily_digest","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.41.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.41.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.42":{"name":"enable_lite_notifications","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.42.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.42.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.43":{"name":"enable_lite_post","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.43.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.43.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.44":{"name":"enable_lite_post_cd","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.44.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.44.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.45":{"name":"enable_lite_post_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.45.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.45.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.46":{"name":"enable_lite_post_highlights_view_only","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.46.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.46.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.47":{"name":"enable_lite_profile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.47.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.47.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.48":{"name":"enable_lite_pub_header_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.48.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.48.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.49":{"name":"enable_lite_reading_list","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.49.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.49.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.50":{"name":"enable_lite_server_upstream_deadlines","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.50.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.50.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.51":{"name":"enable_lite_stories","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.51.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.51.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.52":{"name":"enable_lite_topics","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.52.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.52.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.53":{"name":"enable_lite_unread_notification_count_mutation","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.53.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.53.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.54":{"name":"enable_lo_homepage","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.54.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.54.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.55":{"name":"enable_lo_scroll_away_metabar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.55.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.55.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.56":{"name":"enable_logged_out_homepage_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.56.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.56.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.57":{"name":"enable_marketing_emails","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.57.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.57.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.58":{"name":"enable_media_resource_try_catch","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.58.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.58.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.59":{"name":"enable_membership_remove_section_a","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.59.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.59.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.60":{"name":"enable_more_branch_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.60.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.60.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.61":{"name":"enable_new_collaborative_filtering_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.61.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.61.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.62":{"name":"enable_new_pub_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.62.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.62.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.63":{"name":"enable_new_pub_modules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.63.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.63.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.64":{"name":"enable_new_suspended_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.64.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.64.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.65":{"name":"enable_new_three_dot_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.65.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.65.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.66":{"name":"enable_optimizely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.66.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.66.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.67":{"name":"enable_parsely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.67.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.67.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.68":{"name":"enable_patronus_on_kubernetes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.68.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.68.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.69":{"name":"enable_post_import","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.69.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.69.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.70":{"name":"enable_post_seo_settings_screen","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.70.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.70.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.71":{"name":"enable_post_settings_screen","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.71.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.71.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.72":{"name":"enable_post_stats_lifetime_view","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.72.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.72.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.73":{"name":"enable_primary_topic_for_mobile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.73.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.73.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.74":{"name":"enable_rito_caching","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.74.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.74.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.75":{"name":"enable_rito_upstream_deadlines","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.75.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.75.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.76":{"name":"enable_rtr_channel","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.76.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.76.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.77":{"name":"enable_save_to_medium","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.77.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.77.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.78":{"name":"enable_sign_up_with_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.78.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.78.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.79":{"name":"enable_suggest_account","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.79.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.79.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.80":{"name":"enable_suggest_account_li","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.80.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.80.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.81":{"name":"enable_tick_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.81.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.81.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.82":{"name":"enable_tipalti_onboarding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.82.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.82.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.83":{"name":"enable_topic_lifecycle_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.83.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.83.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.84":{"name":"enable_tribute_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.84.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.84.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.85":{"name":"enable_trumpland_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.85.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.85.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.86":{"name":"glyph_font_set","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.86.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.86.valueType":{"__typename":"VariantFlagString","value":"m2"},"ROOT_QUERY.variantFlags.87":{"name":"google_sign_in_android","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.87.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.87.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.88":{"name":"is_not_medium_subscriber","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.88.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.88.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.89":{"name":"new_transition_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.89.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.89.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.90":{"name":"pub_sidebar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.90.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.90.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.91":{"name":"rank_model","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.91.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.91.valueType":{"__typename":"VariantFlagString","value":"default"},"ROOT_QUERY.variantFlags.92":{"name":"redis_read_write_splitting","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.92.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.92.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.93":{"name":"signin_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.93.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.93.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap"},"ROOT_QUERY.variantFlags.94":{"name":"signup_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.94.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.94.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap"},"ROOT_QUERY.variantFlags.95":{"name":"use_new_admin_topic_backend","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.95.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.95.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.96":{"name":"use_sendgrid_queue_for_digest_sends","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.96.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.96.valueType":{"__typename":"VariantFlagBoolean","value":true},"MeteringInfo:singleton":{"__typename":"MeteringInfo","postIds":{"type":"json","json":[]},"maxUnlockCount":3,"unlocksRemaining":3},"Post:cbc1a5d5d3e9":{"__typename":"Post","visibility":"PUBLIC","latestPublishedVersion":"322a16383bdf","collection":null,"id":"cbc1a5d5d3e9","creator":{"type":"id","generated":false,"id":"User:1da08193a324","typename":"User"},"isLocked":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","sequence":null,"mediumUrl":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","canonicalUrl":"","content({\"postMeteringOptions\":{}})":{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}})","typename":"PostContent"},"firstPublishedAt":1574429167147,"isPublished":true,"layerCake":4,"primaryTopic":null,"title":"Building a Rust Driver for PineTime’s Touch Controller","isLimitedState":false,"pendingCollection":{"type":"id","generated":false,"id":"Collection:f5af2b715248","typename":"Collection"},"shareKey":null,"statusForCollection":"PENDING","readingTime":9.379245283018868,"readingList":"READING_LIST_NONE","license":"ALL_RIGHTS_RESERVED","allowResponses":true,"tags":[{"type":"id","generated":false,"id":"Tag:internet-of-things","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:rust","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:gadgets","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:programming","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:nrf52","typename":"Tag"}],"viewerClapCount":0,"clapCount":65,"voterCount":6,"recommenders":[],"responsesCount":1,"collaborators":[],"translationSourcePost":null,"newsletterId":"","inResponseToPostResult":null,"inResponseToMediaResource":null,"curationEligibleAt":1574429164937,"audioVersionUrl":"","seoTitle":"","socialTitle":"","socialDek":"","metaDescription":"","latestPublishedAt":1576412745049,"wordCount":2141,"previewContent":{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.previewContent","typename":"PreviewContent"},"previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*P9NuG-tqsK3YKVo97v7PRA.png","typename":"ImageMetadata"},"updatedAt":1576412745316,"topics":[],"seoDescription":"","isSuspended":false},"User:1da08193a324":{"id":"1da08193a324","__typename":"User","isSuspended":false,"allowNotes":true,"name":"Lup Yuen Lee 李立源","isFollowing":false,"username":"ly.lee","bio":"Techie and Educator in IoT 物聯網教師","imageId":"1*KGohS3sQaUnr58gc0BIfoQ.jpeg","mediumMemberAt":1571194811000,"isBlocking":false,"isPartnerProgramEnrolled":false,"twitterScreenName":"MisterTechBlog"},"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}})":{"isLockedPreviewOnly":false,"validatedShareKey":"","__typename":"PostContent","bodyModel":{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel","typename":"RichText"}},"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.0":{"name":"8fb6","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.1":{"name":"c9fd","startIndex":3,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.2":{"name":"3a97","startIndex":9,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.3":{"name":"308d","startIndex":20,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.4":{"name":"d6d1","startIndex":31,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.5":{"name":"aa17","startIndex":41,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.6":{"name":"8b15","startIndex":54,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.7":{"name":"a52d","startIndex":63,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.8":{"name":"0f0d","startIndex":81,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.9":{"name":"fd9a","startIndex":92,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel":{"sections":[{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.0","typename":"Section"},{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.1","typename":"Section"},{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.2","typename":"Section"},{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.3","typename":"Section"},{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.4","typename":"Section"},{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.5","typename":"Section"},{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.6","typename":"Section"},{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.7","typename":"Section"},{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.8","typename":"Section"},{"type":"id","generated":true,"id":"$Post:cbc1a5d5d3e9.content({\"postMeteringOptions\":{}}).bodyModel.sections.9","typename":"Section"}],"paragraphs":[{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_0","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_1","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_2","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_3","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_4","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_5","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_6","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_7","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_8","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_9","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_10","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_11","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_12","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_13","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_14","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_15","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_16","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_17","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_18","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_19","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_20","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_21","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_22","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_23","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_24","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_25","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_26","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_27","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_28","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_29","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_30","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_31","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_32","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_33","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_34","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_35","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_36","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_37","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_38","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_39","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_40","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_41","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_42","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_43","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_44","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_45","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_46","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_47","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_48","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_49","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_50","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_51","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_52","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_53","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_54","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_55","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_56","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_57","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_58","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_59","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_60","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_61","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_62","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_63","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_64","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_65","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_66","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_67","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_68","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_69","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_70","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_71","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_72","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_73","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_74","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_75","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_76","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_77","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_78","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_79","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_80","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_81","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_82","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_83","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_84","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_85","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_86","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_87","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_88","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_89","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_90","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_91","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_92","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_93","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_94","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_95","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:322a16383bdf_96","typename":"Paragraph"}],"__typename":"RichText"},"Paragraph:322a16383bdf_0":{"id":"322a16383bdf_0","name":"6312","type":"IMG","href":null,"layout":"FULL_WIDTH","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*P9NuG-tqsK3YKVo97v7PRA.png","typename":"ImageMetadata"},"text":"Testing the Rust and Mynewt OS driver for the Touch Controller on PineTime Smart Watch by Pine64","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*P9NuG-tqsK3YKVo97v7PRA.png":{"id":"1*P9NuG-tqsK3YKVo97v7PRA.png","originalHeight":2514,"originalWidth":5032,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:322a16383bdf_1":{"id":"322a16383bdf_1","name":"f022","type":"H3","href":null,"layout":null,"metadata":null,"text":"Building a Rust Driver for PineTime’s Touch Controller","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_2":{"id":"322a16383bdf_2","name":"1b75","type":"P","href":null,"layout":null,"metadata":null,"text":"Pretend you’re my IoT student. I give you a PineTime Smart Watch and challenge you to “Make it work… Especially the touch screen!” The Touch Screen appears to be lacking some documentation. What would you do?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_2.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_2.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_2.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_2.markups.0":{"type":"A","start":44,"end":64,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&sk=d9301466f5499bece3e7b638e99ec20d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_2.markups.1":{"type":"EM","start":86,"end":130,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_2.markups.2":{"type":"EM","start":190,"end":208,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_3":{"id":"322a16383bdf_3","name":"6a39","type":"H3","href":null,"layout":null,"metadata":null,"text":"PineTime Touch Screen = Touch Panel + Display Panel","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_4":{"id":"322a16383bdf_4","name":"e636","type":"P","href":null,"layout":null,"metadata":null,"text":"We carefully pry open the PineTime Smart Watch with tweezers (or forceps) and examine the Touch Screen. It looks like a single chunk of plastic… But it’s actually two delicate pieces fused together: Touch Panel and Display Panel…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_4.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_4.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_4.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_4.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_4.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_4.markups.0":{"type":"A","start":26,"end":46,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fwiki.pine64.org\u002Findex.php\u002FPineTime","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_4.markups.1":{"type":"A","start":199,"end":210,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttp:\u002F\u002Ffiles.pine64.org\u002Fdoc\u002Fdatasheet\u002Fpinetime\u002FPineTime%20Touch%20Panel.jpg","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_4.markups.2":{"type":"A","start":215,"end":228,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttp:\u002F\u002Ffiles.pine64.org\u002Fdoc\u002Fdatasheet\u002Fpinetime\u002FPineTime%20LCD%20Panel.jpg","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_4.markups.3":{"type":"STRONG","start":199,"end":210,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_4.markups.4":{"type":"STRONG","start":215,"end":228,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_5":{"id":"322a16383bdf_5","name":"8b31","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*3CvAA0KqjH6Hj1UfkK-pAQ.png","typename":"ImageMetadata"},"text":"PineTime Touch Panel and Display Panel. From http:\u002F\u002Ffiles.pine64.org\u002Fdoc\u002Fdatasheet\u002Fpinetime\u002FPineTime%20LCD%20Panel.jpg and http:\u002F\u002Ffiles.pine64.org\u002Fdoc\u002Fdatasheet\u002Fpinetime\u002FPineTime%20Touch%20Panel.jpg","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_5.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_5.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*3CvAA0KqjH6Hj1UfkK-pAQ.png":{"id":"1*3CvAA0KqjH6Hj1UfkK-pAQ.png","originalHeight":1082,"originalWidth":1133,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:322a16383bdf_5.markups.0":{"type":"A","start":45,"end":118,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttp:\u002F\u002Ffiles.pine64.org\u002Fdoc\u002Fdatasheet\u002Fpinetime\u002FPineTime%20LCD%20Panel.jpg","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_5.markups.1":{"type":"A","start":123,"end":198,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttp:\u002F\u002Ffiles.pine64.org\u002Fdoc\u002Fdatasheet\u002Fpinetime\u002FPineTime%20Touch%20Panel.jpg","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_6":{"id":"322a16383bdf_6","name":"44ed","type":"P","href":null,"layout":null,"metadata":null,"text":"The Touch Panel and Display Panel are connected to the I2C and SPI connectors on the PineTime board…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_7":{"id":"322a16383bdf_7","name":"3826","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*oDMCFvuanclm5J2liQAUIw.png","typename":"ImageMetadata"},"text":"Connectors for ST7789 Display Controller and Hynitron CST816S Capacitive Touch Controller","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*oDMCFvuanclm5J2liQAUIw.png":{"id":"1*oDMCFvuanclm5J2liQAUIw.png","originalHeight":1932,"originalWidth":2872,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:322a16383bdf_8":{"id":"322a16383bdf_8","name":"65ef","type":"P","href":null,"layout":null,"metadata":null,"text":"Last week we have programmed the ST7789 Display Controller (via SPI) to render colour text and graphics on the Display Panel. This week we’ll look at the Hynitron CST816S Capacitive Touch Controller for PineTime’s Touch Panel…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_8.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_8.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_8.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_8.markups.0":{"type":"A","start":18,"end":58,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&sk=d9301466f5499bece3e7b638e99ec20d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_8.markups.1":{"type":"A","start":154,"end":198,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fwiki.pine64.org\u002Fimages\u002F5\u002F51\u002FCST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.en.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_8.markups.2":{"type":"STRONG","start":154,"end":198,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_9":{"id":"322a16383bdf_9","name":"96cc","type":"H3","href":null,"layout":null,"metadata":null,"text":"Probing PineTime’s I2C Bus for Touch Controller","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_10":{"id":"322a16383bdf_10","name":"d9fa","type":"P","href":null,"layout":null,"metadata":null,"text":"The PineTime Touch Controller is connected to the nRF52 Microcontroller via an I2C Bus. That stands for Inter-Integrated Circuit and is pronounced “I-squared-C”. (I used to call it “I-two-C” until my IoT students corrected me)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_10.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_10.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_10.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_10.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_10.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_10.markups.0":{"type":"A","start":79,"end":86,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FI%C2%B2C","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_10.markups.1":{"type":"A","start":104,"end":128,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FI%C2%B2C","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_10.markups.2":{"type":"STRONG","start":79,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_10.markups.3":{"type":"STRONG","start":104,"end":129,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_10.markups.4":{"type":"EM","start":148,"end":226,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_11":{"id":"322a16383bdf_11","name":"6665","type":"P","href":null,"layout":null,"metadata":null,"text":"News Flash! I2C works more like a Light Rail transit line than a Bus. It runs on two rails (wires), shuttles tiny packets of passengers (data) between a Main Station (Master Microcontroller) and Sub Stations (Slave Devices)…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_11.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_11.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_11.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_11.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_11.markups.0":{"type":"STRONG","start":34,"end":44,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_11.markups.1":{"type":"STRONG","start":167,"end":189,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_11.markups.2":{"type":"STRONG","start":209,"end":222,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_11.markups.3":{"type":"EM","start":0,"end":11,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_12":{"id":"322a16383bdf_12","name":"a282","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*yBHFDc7PzmT32n1M8KCNEQ.jpeg","typename":"ImageMetadata"},"text":"Light Rail Transit Line","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*yBHFDc7PzmT32n1M8KCNEQ.jpeg":{"id":"1*yBHFDc7PzmT32n1M8KCNEQ.jpeg","originalHeight":1759,"originalWidth":6638,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:322a16383bdf_13":{"id":"322a16383bdf_13","name":"dde8","type":"P","href":null,"layout":null,"metadata":null,"text":"In Light Rail, the train is sent from the Main Station to each Sub Station to drop off passengers. And we expect the train to pick up passengers from each Sub Station. A Sub Station with drop-offs but no pick-ups will be so spooky… like a Ghost Station!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_13.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_13.markups.0":{"type":"EM","start":232,"end":253,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_14":{"id":"322a16383bdf_14","name":"1790","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*381UBslJDyZQ8qPqnj-9Pw.jpeg","typename":"ImageMetadata"},"text":"I2C (Inter-Integrated Circuit) Bus on PineTime","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*381UBslJDyZQ8qPqnj-9Pw.jpeg":{"id":"1*381UBslJDyZQ8qPqnj-9Pw.jpeg","originalHeight":1515,"originalWidth":6638,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:322a16383bdf_15":{"id":"322a16383bdf_15","name":"ebfe","type":"P","href":null,"layout":null,"metadata":null,"text":"Thankfully there are no Ghost Stations in I2C… When the Microcontroller sends a packet to a Slave Device at a particular address, the Slave Device must respond with another packet. This called I2C Probing and the Rust code on PineTime looks like this…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_15.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_15.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_15.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_15.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_15.markups.0":{"type":"A","start":193,"end":204,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fmodules\u002Fhal\u002Fhal_i2c\u002Fhal_i2c.html#c.hal_i2c_master_probe","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_15.markups.1":{"type":"STRONG","start":134,"end":159,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_15.markups.2":{"type":"STRONG","start":193,"end":204,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_15.markups.3":{"type":"EM","start":0,"end":46,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_16":{"id":"322a16383bdf_16","name":"ef28","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Probing the I2C Bus on PineTime to discover I2C devices. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_16.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:322a16383bdf_16.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:322a16383bdf_16.markups.0":{"type":"A","start":62,"end":159,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:11ab0ea3b680be598270e87000d24a77":{"id":"11ab0ea3b680be598270e87000d24a77","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","__typename":"MediaResource"},"$Paragraph:322a16383bdf_16.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:11ab0ea3b680be598270e87000d24a77","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:322a16383bdf_17":{"id":"322a16383bdf_17","name":"92bb","type":"P","href":null,"layout":null,"metadata":null,"text":"There are only 128 possible I2C Addresses (0 to 127) so it’s feasible to identify all I2C Slave Devices by probing each address. (Here’s a list of I2C Addresses for popular devices)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_17.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_17.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_17.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_17.markups.0":{"type":"A","start":130,"end":180,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Flearn.adafruit.com\u002Fi2c-addresses\u002Fthe-list","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_17.markups.1":{"type":"STRONG","start":15,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_17.markups.2":{"type":"EM","start":129,"end":181,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_18":{"id":"322a16383bdf_18","name":"e09b","type":"P","href":null,"layout":null,"metadata":null,"text":"Running the above code on PineTime we find two devices on our I2C Bus, at I2C Addresses 0x18 and 0x44. That’s the Accelerometer and Heart Rate Sensor. (I verified against the docs)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_18.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_18.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_18.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_18.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_18.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_18.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_18.markups.6","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_18.markups.7","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_18.markups.0":{"type":"CODE","start":88,"end":92,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_18.markups.1":{"type":"CODE","start":97,"end":101,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_18.markups.2":{"type":"A","start":114,"end":127,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttp:\u002F\u002Ffiles.pine64.org\u002Fdoc\u002Fdatasheet\u002Fpinetime\u002FBST-BMA421-FL000.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_18.markups.3":{"type":"A","start":132,"end":149,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttp:\u002F\u002Ffiles.pine64.org\u002Fdoc\u002Fdatasheet\u002Fpinetime\u002FHRS3300%20Heart%20Rate%20Sensor.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_18.markups.4":{"type":"STRONG","start":43,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_18.markups.5":{"type":"STRONG","start":114,"end":127,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_18.markups.6":{"type":"STRONG","start":132,"end":150,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_18.markups.7":{"type":"EM","start":151,"end":180,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_19":{"id":"322a16383bdf_19","name":"29dc","type":"P","href":null,"layout":null,"metadata":null,"text":"But where’s the Touch Controller? Do Ghost Stations really exist on I2C?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_19.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_19.markups.0":{"type":"EM","start":0,"end":72,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_20":{"id":"322a16383bdf_20","name":"5449","type":"H3","href":null,"layout":null,"metadata":null,"text":"PineTime Touch Controller responds to Special Events","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_21":{"id":"322a16383bdf_21","name":"215d","type":"P","href":null,"layout":null,"metadata":null,"text":"Back to our Light Rail analogy… Suppose we have a Sub Station that serves an Amusement Park. The Sub Station operates on special occasions like weekends and holidays. Most of the time it would appear as a Ghost Station… Coming to life only on special occasions!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_21.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_21.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_21.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_21.markups.0":{"type":"EM","start":77,"end":91,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_21.markups.1":{"type":"EM","start":121,"end":138,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_21.markups.2":{"type":"EM","start":220,"end":261,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_22":{"id":"322a16383bdf_22","name":"72df","type":"P","href":null,"layout":null,"metadata":null,"text":"What is this “Special Event\" that brings our Touch Controller to life?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_22.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_22.markups.0":{"type":"EM","start":0,"end":70,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_23":{"id":"322a16383bdf_23","name":"afb4","type":"P","href":null,"layout":null,"metadata":null,"text":"Maybe it’s low on power? This power problem happens often with wireless gadgets like NB-IoT. We connect the 5 Volt power from the ST-Link USB dongle and… Nothing changes! (Though the PineTime Battery gets properly charged now… Nice!)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_23.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_23.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_23.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_23.markups.0":{"type":"A","start":63,"end":91,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-nb-iot-with-quectel-bc95-g-and-apache-mynewt-c99a9d8417a9?source=friends_link&sk=34fb9befbea42e98cb5942d66f594027","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_23.markups.1":{"type":"EM","start":0,"end":24,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_23.markups.2":{"type":"EM","start":154,"end":233,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_24":{"id":"322a16383bdf_24","name":"65a2","type":"IMG","href":null,"layout":"FULL_WIDTH","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*7pEuxEVePoFmOaQs5jVA5g.jpeg","typename":"ImageMetadata"},"text":"Connecting the 5V Charging Pad on PineTime to the 5V Pin of ST-Link with a folded loop of Single Core Wire (22 AWG)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*7pEuxEVePoFmOaQs5jVA5g.jpeg":{"id":"1*7pEuxEVePoFmOaQs5jVA5g.jpeg","originalHeight":1652,"originalWidth":4764,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:322a16383bdf_25":{"id":"322a16383bdf_25","name":"e80b","type":"P","href":null,"layout":null,"metadata":null,"text":"(Don’t forget the “Only One Power Source” OOPS Rule… Our computer’s USB port supplies both 3.3 Volt and 5 Volt power sources… Never use two different power sources… OOPS!)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_25.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_25.markups.0":{"type":"EM","start":0,"end":171,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_26":{"id":"322a16383bdf_26","name":"1a05","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*dgNBWfyra4pu3jBJ5V3YRw.png","typename":"ImageMetadata"},"text":"Touch Controller State Transition Diagram from http:\u002F\u002Ffiles.pine64.org\u002Fdoc\u002Fdatasheet\u002Fpinetime\u002FCST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.pdf. English Translation: https:\u002F\u002Fwiki.pine64.org\u002Fimages\u002F5\u002F51\u002FCST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.en.pdf","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_26.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_26.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*dgNBWfyra4pu3jBJ5V3YRw.png":{"id":"1*dgNBWfyra4pu3jBJ5V3YRw.png","originalHeight":3219,"originalWidth":4166,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:322a16383bdf_26.markups.0":{"type":"A","start":47,"end":145,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttp:\u002F\u002Ffiles.pine64.org\u002Fdoc\u002Fdatasheet\u002Fpinetime\u002FCST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_26.markups.1":{"type":"A","start":168,"end":258,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fwiki.pine64.org\u002Fimages\u002F5\u002F51\u002FCST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.en.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_27":{"id":"322a16383bdf_27","name":"a238","type":"P","href":null,"layout":null,"metadata":null,"text":"We stare hard at this State Transition Diagram from the Touch Controller doc. (The English Translation looked alien so we’re using the original Chinese version with my translation) What is it trying to tell us?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_27.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_27.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_27.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_27.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_27.markups.0":{"type":"A","start":56,"end":76,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttp:\u002F\u002Ffiles.pine64.org\u002Fdoc\u002Fdatasheet\u002Fpinetime\u002FCST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_27.markups.1":{"type":"A","start":83,"end":102,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fwiki.pine64.org\u002Fimages\u002F5\u002F51\u002FCST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.en.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_27.markups.2":{"type":"A","start":135,"end":159,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttp:\u002F\u002Ffiles.pine64.org\u002Fdoc\u002Fdatasheet\u002Fpinetime\u002FCST816S%E6%95%B0%E6%8D%AE%E6%89%8B%E5%86%8CV1.1.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_27.markups.3":{"type":"EM","start":181,"end":210,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_28":{"id":"322a16383bdf_28","name":"f4d3","type":"P","href":null,"layout":null,"metadata":null,"text":"It says that the Touch Controller can be woken from the Standby Mode… By Touch!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_28.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_28.markups.0":{"type":"EM","start":0,"end":79,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_29":{"id":"322a16383bdf_29","name":"b014","type":"P","href":null,"layout":null,"metadata":null,"text":"We tap the screen… Sure enough our Ghost Station comes to life! Our Touch Controller needs a little tap (the “Special Event”) to wake it up and respond to I2C packets. Mystery solved!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_29.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_29.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_29.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_29.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_29.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_29.markups.0":{"type":"STRONG","start":68,"end":103,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_29.markups.1":{"type":"STRONG","start":129,"end":151,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_29.markups.2":{"type":"EM","start":35,"end":63,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_29.markups.3":{"type":"EM","start":104,"end":125,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_29.markups.4":{"type":"EM","start":168,"end":183,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_30":{"id":"322a16383bdf_30","name":"6215","type":"P","href":null,"layout":null,"metadata":null,"text":"With screen tapping and I2C probing, we finally locate PineTime’s Touch Controller… At I2C Address 0x15","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_30.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_30.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_30.markups.0":{"type":"CODE","start":99,"end":103,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_30.markups.1":{"type":"STRONG","start":84,"end":103,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_31":{"id":"322a16383bdf_31","name":"9afc","type":"H3","href":null,"layout":null,"metadata":null,"text":"I2C Streaming with PineTime Touch Controller","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_32":{"id":"322a16383bdf_32","name":"4e98","type":"P","href":null,"layout":null,"metadata":null,"text":"To discover which parts of the screen are touched (up to 10 points), we need to read 63 bytes from the PineTime Touch Controller… That’s 63 consecutive I2C Registers, 1 byte per register!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_32.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_32.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_32.markups.0":{"type":"STRONG","start":85,"end":93,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_32.markups.1":{"type":"EM","start":130,"end":187,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_33":{"id":"322a16383bdf_33","name":"f831","type":"P","href":null,"layout":null,"metadata":null,"text":"There’s an efficient way to read 63 consecutive I2C Registers from the PineTime Touch Controller. Some people call it Bulk Reading but let’s call it I2C Streaming.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_33.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_33.markups.0":{"type":"STRONG","start":149,"end":162,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_34":{"id":"322a16383bdf_34","name":"7978","type":"P","href":null,"layout":null,"metadata":null,"text":"Ever used a Rubber Hose to siphon petrol \u002F gasoline \u002F fish tank water? We suck a bit of air out of the Rubber Hose, maybe we’ll taste a bit of the petrol \u002F gasoline \u002F fish tank water (whoa that’s nasty), and the liquid comes streaming out. (Yes you can remove the hose from your mouth now!)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_34.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_34.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_34.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_34.markups.0":{"type":"EM","start":0,"end":70,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_34.markups.1":{"type":"EM","start":183,"end":202,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_34.markups.2":{"type":"EM","start":240,"end":290,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_35":{"id":"322a16383bdf_35","name":"f269","type":"P","href":null,"layout":null,"metadata":null,"text":"The liquid keeps streaming until you stop it. I2C Streaming works just like that… We instruct the Touch Controller (via its I2C Address 0x15) to send us the value of I2C Register #0. The Touch Controller will stream a list of consecutive I2C Register values (Register #0, #1, #2, …) Until we receive 63 values and we tell the Touch Controller “Stop!!!”","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_35.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_35.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_35.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_35.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_35.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_35.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_35.markups.0":{"type":"CODE","start":136,"end":140,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_35.markups.1":{"type":"CODE","start":179,"end":181,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_35.markups.2":{"type":"CODE","start":268,"end":270,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_35.markups.3":{"type":"CODE","start":272,"end":274,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_35.markups.4":{"type":"CODE","start":276,"end":278,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_35.markups.5":{"type":"EM","start":343,"end":352,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_36":{"id":"322a16383bdf_36","name":"2ec1","type":"P","href":null,"layout":null,"metadata":null,"text":"I2C Streaming runs in five steps like this…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_37":{"id":"322a16383bdf_37","name":"a382","type":"IMG","href":null,"layout":"FULL_WIDTH","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*FfE0vWwY7phvrXPGtbeXEw.png","typename":"ImageMetadata"},"text":"Steps to stream I2C Registers #0 to #62 from the I2C Touch Controller at I2C Address 0x15","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*FfE0vWwY7phvrXPGtbeXEw.png":{"id":"1*FfE0vWwY7phvrXPGtbeXEw.png","originalHeight":4716,"originalWidth":8154,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:322a16383bdf_38":{"id":"322a16383bdf_38","name":"f420","type":"P","href":null,"layout":null,"metadata":null,"text":"Steps 1 through 5 are explained in the Rust code below that reads a range of I2C Registers (Registers #0 to #62, total 63 Registers) from the Touch Controller (at I2C Address 0x15)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_38.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_38.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_38.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_38.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_38.markups.0":{"type":"CODE","start":102,"end":104,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_38.markups.1":{"type":"CODE","start":108,"end":111,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_38.markups.2":{"type":"CODE","start":175,"end":179,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_38.markups.3":{"type":"STRONG","start":0,"end":17,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_39":{"id":"322a16383bdf_39","name":"ca8b","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Rust code to read a range of I2C Registers from an I2C Device on PineTime. The steps in the comments refer to the steps in the diagram above. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_39.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:322a16383bdf_39.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:322a16383bdf_39.markups.0":{"type":"A","start":147,"end":244,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:d6485d14e78f9df0ea71515805554393":{"id":"d6485d14e78f9df0ea71515805554393","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","__typename":"MediaResource"},"$Paragraph:322a16383bdf_39.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:d6485d14e78f9df0ea71515805554393","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:322a16383bdf_40":{"id":"322a16383bdf_40","name":"26b9","type":"P","href":null,"layout":null,"metadata":null,"text":"Yep the code looks alarming with the unsafe blocks (because we are calling C APIs from Rust). Eventually we should implement the I2C Interface for Rust Embedded HAL… And the unsafe blocks will be gone forever.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_40.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_40.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_40.markups.0":{"type":"CODE","start":37,"end":43,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_40.markups.1":{"type":"CODE","start":174,"end":180,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_41":{"id":"322a16383bdf_41","name":"73fc","type":"H3","href":null,"layout":null,"metadata":null,"text":"Convert PineTime Touch Data","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_42":{"id":"322a16383bdf_42","name":"cf3b","type":"P","href":null,"layout":null,"metadata":null,"text":"The PineTime Touch Controller generates 63 bytes of raw touch data on every touch. (According to the reference code here) When converted, these 63 bytes produce 10 points of touch information. Each point of touch information contains…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_42.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_42.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_42.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_42.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_42.markups.0":{"type":"A","start":84,"end":120,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fhynitron_i2c_cst0xxse\u002Fblob\u002Fmaster\u002Fcst0xx_core.c#L407-L466","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_42.markups.1":{"type":"STRONG","start":40,"end":66,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_42.markups.2":{"type":"STRONG","start":161,"end":191,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_42.markups.3":{"type":"EM","start":83,"end":121,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_43":{"id":"322a16383bdf_43","name":"2d9d","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ X (Horizontal) and Y (Vertical) Coordinates of the touched point. (0, 0) represents top left, (239, 239) represents bottom right.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_43.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_43.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_43.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_43.markups.0":{"type":"CODE","start":70,"end":76,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_43.markups.1":{"type":"CODE","start":98,"end":108,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_43.markups.2":{"type":"STRONG","start":4,"end":47,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_44":{"id":"322a16383bdf_44","name":"5e7c","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ Action: Whether the point was just touched, just untouched or kept in contact","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_44.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_44.markups.0":{"type":"STRONG","start":4,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_45":{"id":"322a16383bdf_45","name":"88ef","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ Finger: A number that identifies the finger that touched the point","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_45.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_45.markups.0":{"type":"STRONG","start":4,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_46":{"id":"322a16383bdf_46","name":"dcf1","type":"P","href":null,"layout":null,"metadata":null,"text":"4️⃣ Pressure: How hard the point was touched","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_46.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_46.markups.0":{"type":"STRONG","start":4,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_47":{"id":"322a16383bdf_47","name":"f4b5","type":"P","href":null,"layout":null,"metadata":null,"text":"5️⃣ Area: Size of the touched area","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_47.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_47.markups.0":{"type":"STRONG","start":4,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_48":{"id":"322a16383bdf_48","name":"e353","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"63 bytes of raw touch data converted to 10 points of touch information. This is the Rust representation of the 10 touch points. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_48.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:322a16383bdf_48.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:322a16383bdf_48.markups.0":{"type":"A","start":133,"end":230,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:03dd04a7e2c8c8697e4977908097afbd":{"id":"03dd04a7e2c8c8697e4977908097afbd","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","__typename":"MediaResource"},"$Paragraph:322a16383bdf_48.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:03dd04a7e2c8c8697e4977908097afbd","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:322a16383bdf_49":{"id":"322a16383bdf_49","name":"e3db","type":"P","href":null,"layout":null,"metadata":null,"text":"That’s a lot of information for each point touched… Why do we need so much information? Why the finger-pointing?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_49.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_49.markups.0":{"type":"EM","start":0,"end":112,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_50":{"id":"322a16383bdf_50","name":"35b7","type":"P","href":null,"layout":null,"metadata":null,"text":"Think of the classic 2010 iPad game Fruit Ninja… The game tracks the swiping motion of each finger to figure out which fruits (and bombs) you’re slashing. So the tracking of each finger is important for swiping-based apps. (Like Tinder)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_50.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_50.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_50.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_50.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_50.markups.0":{"type":"A","start":36,"end":47,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FFruit_Ninja","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_50.markups.1":{"type":"A","start":229,"end":235,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FTinder_(app)","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_50.markups.2":{"type":"EM","start":36,"end":47,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_50.markups.3":{"type":"EM","start":223,"end":236,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_51":{"id":"322a16383bdf_51","name":"c40f","type":"P","href":null,"layout":null,"metadata":null,"text":"The Touch Controller doesn’t really know whether you touched the screen with your left forefinger or your right thumb (or your nose)… It just assigns a number to the finger (or appendage) that’s swiping the screen. The Touch Action (touched \u002F untouched \u002F in contact) is necessary to determine whether this is the start, middle or end of a swipe.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_51.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_51.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_51.markups.0":{"type":"EM","start":118,"end":132,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_51.markups.1":{"type":"EM","start":173,"end":187,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_52":{"id":"322a16383bdf_52","name":"aeef","type":"P","href":null,"layout":null,"metadata":null,"text":"Based on the reference code, we derived the following Rust function for reading and converting the 63 bytes of raw touch data into touch points. Note that only the first 5 touch points out of 10 are converted. (Probably because it’s not meaningful to track 10 fingers on a tiny watch screen)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_52.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_52.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_52.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_52.markups.0":{"type":"A","start":13,"end":27,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fhynitron_i2c_cst0xxse\u002Fblob\u002Fmaster\u002Fcst0xx_core.c#L407-L466","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_52.markups.1":{"type":"EM","start":164,"end":184,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_52.markups.2":{"type":"EM","start":210,"end":291,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_53":{"id":"322a16383bdf_53","name":"35a5","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Rust code to convert raw touch data to touch point information. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_53.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:322a16383bdf_53.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:322a16383bdf_53.markups.0":{"type":"A","start":69,"end":166,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:4f10ea84aceaf382228b207fbb984e65":{"id":"4f10ea84aceaf382228b207fbb984e65","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"From https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","__typename":"MediaResource"},"$Paragraph:322a16383bdf_53.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:4f10ea84aceaf382228b207fbb984e65","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:322a16383bdf_54":{"id":"322a16383bdf_54","name":"bbd0","type":"H3","href":null,"layout":null,"metadata":null,"text":"Display PineTime Touch Data","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_55":{"id":"322a16383bdf_55","name":"dbd6","type":"P","href":null,"layout":null,"metadata":null,"text":"Now that we have the converted touch data, let’s display the data on the screen to verify that we have converted the data correctly. Here’s the Rust code that takes coordinates (X, Y) and displays them as X = …, Y = … on the PineTime screen…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_55.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_55.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_55.markups.0":{"type":"CODE","start":177,"end":183,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_55.markups.1":{"type":"CODE","start":205,"end":217,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_56":{"id":"322a16383bdf_56","name":"11d1","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Rust code to display the touched coordinates on the screen. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fdisplay.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_56.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:322a16383bdf_56.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:322a16383bdf_56.markups.0":{"type":"A","start":65,"end":157,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fdisplay.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:f9ba7670bec10733e03a2893309c370f":{"id":"f9ba7670bec10733e03a2893309c370f","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"From https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","__typename":"MediaResource"},"$Paragraph:322a16383bdf_56.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:f9ba7670bec10733e03a2893309c370f","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:322a16383bdf_57":{"id":"322a16383bdf_57","name":"90c0","type":"P","href":null,"layout":null,"metadata":null,"text":"Notice that we passed a special arrayvec::ArrayString type to the write!() macro for storing the formatted text. That’s because the write!() macro normally accepts a String type for storing formatted text… But String relies on Dynamic Heap Memory which we don’t support in our Rust Application.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_57.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_57.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_57.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_57.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_57.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_57.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_57.markups.0":{"type":"CODE","start":32,"end":53,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_57.markups.1":{"type":"CODE","start":66,"end":74,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_57.markups.2":{"type":"CODE","start":132,"end":140,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_57.markups.3":{"type":"CODE","start":166,"end":172,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_57.markups.4":{"type":"CODE","start":210,"end":216,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_57.markups.5":{"type":"A","start":32,"end":53,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fdocs.rs\u002Farrayvec\u002F0.3.25\u002Farrayvec\u002Fstruct.ArrayString.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_58":{"id":"322a16383bdf_58","name":"7379","type":"P","href":null,"layout":null,"metadata":null,"text":"Why no Heap in our application? For Embedded Applications it’s a good practice to budget our memory requirements in advance and allocate our variables statically. Yes that means we have to do more planning while designing our programs… But we prevent problems like running out of heap memory (and heap fragmentation).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_58.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_58.markups.0":{"type":"EM","start":0,"end":31,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_59":{"id":"322a16383bdf_59","name":"1b6a","type":"P","href":null,"layout":null,"metadata":null,"text":"In the above code we have budgeted 20 bytes in our fixed-size arrayvec::ArrayString buffer for storing each formatted text string.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_59.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_59.markups.0":{"type":"CODE","start":62,"end":83,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_60":{"id":"322a16383bdf_60","name":"08fe","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*Q0Jn3k3oqw4nJlTE_Oy2dg.jpeg","typename":"ImageMetadata"},"text":"Displaying touched coordinates on PineTime screen","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*Q0Jn3k3oqw4nJlTE_Oy2dg.jpeg":{"id":"1*Q0Jn3k3oqw4nJlTE_Oy2dg.jpeg","originalHeight":4000,"originalWidth":6000,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:322a16383bdf_61":{"id":"322a16383bdf_61","name":"0d28","type":"P","href":null,"layout":null,"metadata":null,"text":"Mr Diego Barrios Romero has an excellent suggestion for handling Rust strings without heaps…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_62":{"id":"322a16383bdf_62","name":"5fab","type":"BQ","href":null,"layout":null,"metadata":null,"text":"For the strings you can also use the String type from the heapless crate like this\nlet mut buffer: \n heapless::String\u003C heapless::consts::U64 \u003E \n = heapless::String::new();","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_62.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_62.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_62.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_62.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_62.markups.0":{"type":"CODE","start":37,"end":43,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_62.markups.1":{"type":"CODE","start":58,"end":66,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_62.markups.2":{"type":"CODE","start":83,"end":171,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_62.markups.3":{"type":"A","start":58,"end":66,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fheapless","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_63":{"id":"322a16383bdf_63","name":"e8fe","type":"H3","href":null,"layout":null,"metadata":null,"text":"Transform PineTime Touch Interrupt to Mynewt Event Callback","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_64":{"id":"322a16383bdf_64","name":"0882","type":"P","href":null,"layout":null,"metadata":null,"text":"We have our PineTime Touch Controller all figured out… Reading the I2C Registers, converting the touch data and displaying the touch data. But something important is still missing…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_64.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_64.markups.0":{"type":"EM","start":139,"end":180,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_65":{"id":"322a16383bdf_65","name":"cf44","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*r5kpM7wDeb5zSHtRVdE6TA.png","typename":"ImageMetadata"},"text":"Reading, converting and displaying touch data","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*r5kpM7wDeb5zSHtRVdE6TA.png":{"id":"1*r5kpM7wDeb5zSHtRVdE6TA.png","originalHeight":903,"originalWidth":3466,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:322a16383bdf_66":{"id":"322a16383bdf_66","name":"e853","type":"P","href":null,"layout":null,"metadata":null,"text":"Remember the Ghost Station? We can’t read the I2C Registers on the Touch Controller unless the screen has been tapped… So how will we know when to read the registers?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_66.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_66.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_66.markups.0":{"type":"EM","start":0,"end":27,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_66.markups.1":{"type":"EM","start":119,"end":166,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_67":{"id":"322a16383bdf_67","name":"469b","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*9EKhg_828jPjrky36tv3Cw.png","typename":"ImageMetadata"},"text":"Need to handle the Touch Interrupt and get an Event Callback first","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*9EKhg_828jPjrky36tv3Cw.png":{"id":"1*9EKhg_828jPjrky36tv3Cw.png","originalHeight":2135,"originalWidth":3763,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:322a16383bdf_68":{"id":"322a16383bdf_68","name":"6502","type":"P","href":null,"layout":null,"metadata":null,"text":"Fortunately the Touch Controller generates a Touch Interrupt every time the screen is tapped. So let’s hook on to the Touch Interrupt and do the touch processing there!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_68.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_68.markups.0":{"type":"STRONG","start":45,"end":60,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_69":{"id":"322a16383bdf_69","name":"f15b","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Assigning an Interrupt Handler for Touch Interrupt. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_69.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:322a16383bdf_69.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:322a16383bdf_69.markups.0":{"type":"A","start":57,"end":154,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:3dea50a978bf5ebd4e77817807681ae0":{"id":"3dea50a978bf5ebd4e77817807681ae0","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"From https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","__typename":"MediaResource"},"$Paragraph:322a16383bdf_69.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:3dea50a978bf5ebd4e77817807681ae0","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:322a16383bdf_70":{"id":"322a16383bdf_70","name":"f298","type":"P","href":null,"layout":null,"metadata":null,"text":"The Touch Interrupt is raised via a normal GPIO Pin (P0.28). In the Rust code above, we ask Mynewt OS to watch out for the Touch Interrupt on the GPIO Pin, and call touch_interrupt_handler() when the GPIO Pin switches from High to Low. (That’s when the screen is tapped)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_70.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_70.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_70.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_70.markups.0":{"type":"CODE","start":53,"end":58,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_70.markups.1":{"type":"CODE","start":165,"end":190,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_70.markups.2":{"type":"EM","start":236,"end":270,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_71":{"id":"322a16383bdf_71","name":"e455","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Touch interrupt handler that’s called upon touch. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_71.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:322a16383bdf_71.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:322a16383bdf_71.markups.0":{"type":"A","start":55,"end":152,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:f0ef5e1da2bd594968d1ed6cdba4c5be":{"id":"f0ef5e1da2bd594968d1ed6cdba4c5be","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","__typename":"MediaResource"},"$Paragraph:322a16383bdf_71.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:f0ef5e1da2bd594968d1ed6cdba4c5be","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:322a16383bdf_72":{"id":"322a16383bdf_72","name":"2280","type":"P","href":null,"layout":null,"metadata":null,"text":"touch_interrupt_handler() is an Interrupt Handler Function. Note that this Rust function is declared extern “C” because it will be called by Mynewt OS whenever the Touch Interrupt occurs. So it appears to Mynewt OS like a regular C function.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_72.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_72.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_72.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_72.markups.0":{"type":"CODE","start":0,"end":25,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_72.markups.1":{"type":"CODE","start":101,"end":111,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_72.markups.2":{"type":"STRONG","start":32,"end":58,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_73":{"id":"322a16383bdf_73","name":"788d","type":"P","href":null,"layout":null,"metadata":null,"text":"touch_interrupt_handler() looks… underwhelming. Where’s all the touch data processing we covered earlier?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_73.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_73.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_73.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_73.markups.0":{"type":"CODE","start":0,"end":25,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_73.markups.1":{"type":"EM","start":33,"end":46,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_73.markups.2":{"type":"EM","start":48,"end":105,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_74":{"id":"322a16383bdf_74","name":"1a0f","type":"P","href":null,"layout":null,"metadata":null,"text":"That’s because Interrupt Handlers are not meant for doing any kind of data processing! Mynewt OS has gone out of its usual routine, just to call our Interrupt Handler because somebody touched the screen. Mynewt OS could have been doing something very important when the interrupt occurred!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_74.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_74.markups.0":{"type":"STRONG","start":230,"end":260,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_75":{"id":"322a16383bdf_75","name":"b838","type":"P","href":null,"layout":null,"metadata":null,"text":"Would be so rude of us to snatch Mynewt OS away from some important task… Just to swipe some fruits \u002F bombs \u002F dating profiles!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_75.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_75.markups.0":{"type":"EM","start":0,"end":126,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_76":{"id":"322a16383bdf_76","name":"6eaf","type":"P","href":null,"layout":null,"metadata":null,"text":"So let’s be polite to Mynewt OS and take up as little time as possible. We’ll defer the swiping of the fruit \u002F bomb \u002F dating profile… By adding a Mynewt Event to Mynewt’s Event Queue.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_76.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_76.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_76.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_76.markups.0":{"type":"A","start":171,"end":182,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fcore_os\u002Fevent_queue\u002Fevent_queue.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_76.markups.1":{"type":"STRONG","start":146,"end":158,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_76.markups.2":{"type":"STRONG","start":162,"end":182,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_77":{"id":"322a16383bdf_77","name":"8619","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Event callback for handling touch events. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_77.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:322a16383bdf_77.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:322a16383bdf_77.markups.0":{"type":"A","start":47,"end":144,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:5fa6b1b321bb25c9ea73c4c5bc9e3b47":{"id":"5fa6b1b321bb25c9ea73c4c5bc9e3b47","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","__typename":"MediaResource"},"$Paragraph:322a16383bdf_77.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:5fa6b1b321bb25c9ea73c4c5bc9e3b47","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:322a16383bdf_78":{"id":"322a16383bdf_78","name":"4975","type":"P","href":null,"layout":null,"metadata":null,"text":"Here’s the Rust code that will eventually be triggered via the Mynewt Event, after Mynewt OS has completed the important tasks. We read the touch data (via I2C Streaming) and display the first detected touch point.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_79":{"id":"322a16383bdf_79","name":"0598","type":"P","href":null,"layout":null,"metadata":null,"text":"The complete flow from Touch Interrupt to Touch Data Display looks like this. The Rust Driver for PineTime Touch Controller is incomplete because we haven’t implemented Hit Testing to detect the graphic or text on the screen that’s tapped… So Hit Testing is coming next! (And if you wish to help out, drop me a note!)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_79.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_79.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_79.markups.0":{"type":"STRONG","start":169,"end":180,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_79.markups.1":{"type":"EM","start":271,"end":317,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_80":{"id":"322a16383bdf_80","name":"f85f","type":"IFRAME","href":null,"layout":"OUTSET_CENTER","metadata":null,"text":"PineTime Touch Controller fully functioning with Touch Interrupts","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:322a16383bdf_80.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:89e712427ea9af3406cb98a008316312":{"id":"89e712427ea9af3406cb98a008316312","iframeSrc":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fcdn.embedly.com\u002Fwidgets\u002Fmedia.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F4_93mUkK--U%3Ffeature%3Doembed&url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D4_93mUkK--U&image=https%3A%2F%2Fi.ytimg.com%2Fvi%2F4_93mUkK--U%2Fhqdefault.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=youtube","iframeHeight":480,"iframeWidth":854,"title":"PineTime Touch Controller with Rust and Mynewt OS","__typename":"MediaResource"},"$Paragraph:322a16383bdf_80.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:89e712427ea9af3406cb98a008316312","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:322a16383bdf_81":{"id":"322a16383bdf_81","name":"c9ac","type":"H3","href":null,"layout":null,"metadata":null,"text":"What’s Next?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_82":{"id":"322a16383bdf_82","name":"4179","type":"P","href":null,"layout":null,"metadata":null,"text":"Here are the other articles in the PineTime series…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_83":{"id":"322a16383bdf_83","name":"603a","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"Sneak Peek of PineTime Smart Watch… And why it’s perfect for teaching IoT\nI’m one of the lucky few who received the developer preview version of the PineTime Smart Watch by Pine64. (My official…medium.com","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_83.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_83.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_83.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":{"type":"id","generated":true,"id":"$Paragraph:322a16383bdf_83.mixtapeMetadata","typename":"MixtapeMetadata"}},"Paragraph:322a16383bdf_83.markups.0":{"type":"A","start":0,"end":204,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_83.markups.1":{"type":"STRONG","start":0,"end":73,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_83.markups.2":{"type":"EM","start":74,"end":194,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Paragraph:322a16383bdf_83.mixtapeMetadata":{"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159","thumbnailImageId":"1*1oFvRxqOf1kUmCAxPaJXpw.jpeg","mediaResourceId":"1*1oFvRxqOf1kUmCAxPaJXpw.jpeg","__typename":"MixtapeMetadata"},"Paragraph:322a16383bdf_84":{"id":"322a16383bdf_84","name":"a970","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"Porting [druid] Rust Widgets to PineTime Smart Watch\nA button that responds to our tapping and increments a counter… That’s what we shall accomplish today on the PineTime…medium.com","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_84.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_84.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_84.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":{"type":"id","generated":true,"id":"$Paragraph:322a16383bdf_84.mixtapeMetadata","typename":"MixtapeMetadata"}},"Paragraph:322a16383bdf_84.markups.0":{"type":"A","start":0,"end":181,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_84.markups.1":{"type":"STRONG","start":0,"end":52,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_84.markups.2":{"type":"EM","start":53,"end":171,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Paragraph:322a16383bdf_84.mixtapeMetadata":{"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a","thumbnailImageId":"1*t14h6Hs6uVUifppiEBptFQ.png","mediaResourceId":"1*t14h6Hs6uVUifppiEBptFQ.png","__typename":"MixtapeMetadata"},"Paragraph:322a16383bdf_85":{"id":"322a16383bdf_85","name":"52c7","type":"P","href":null,"layout":null,"metadata":null,"text":"Last week I declared that PineTime is perfect for teaching IoT… Today I’m walking the talk by applying PineTime to explain how a modern touchscreen works!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_85.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_85.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_85.markups.0":{"type":"A","start":26,"end":62,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&sk=d9301466f5499bece3e7b638e99ec20d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_85.markups.1":{"type":"STRONG","start":26,"end":62,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_86":{"id":"322a16383bdf_86","name":"97e8","type":"P","href":null,"layout":null,"metadata":null,"text":"I built the Rust driver iteratively (pretty much in the same sequence we see in this article)… I really love the way Rust and Mynewt OS on PineTime make Embedded Experiments so fun and easy to execute!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_86.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_86.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_86.markups.0":{"type":"STRONG","start":24,"end":35,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_86.markups.1":{"type":"EM","start":95,"end":201,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_87":{"id":"322a16383bdf_87","name":"90e9","type":"P","href":null,"layout":null,"metadata":null,"text":"As we have seen today, building the right IoT Software to run on today’s IoT Hardware can be challenging because of language issues. If you can read Chinese like me… Hang on to this precious skill! (Try watching 延禧攻略 or the Mandarin news)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_87.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_87.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_87.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_87.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_87.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_87.markups.0":{"type":"A","start":212,"end":216,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FStory_of_Yanxi_Palace","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_87.markups.1":{"type":"A","start":224,"end":237,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fvideo.toggle.sg\u002Fen\u002F8-news-tonight-5180828","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_87.markups.2":{"type":"STRONG","start":116,"end":131,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_87.markups.3":{"type":"STRONG","start":166,"end":197,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_87.markups.4":{"type":"EM","start":198,"end":238,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_88":{"id":"322a16383bdf_88","name":"582b","type":"P","href":null,"layout":null,"metadata":null,"text":"I bet at this very moment, a non-native English reader is trying to read this English article… Struggling to understand “Ghost Station”, “dating profile”, “fish tank water” and their relevance to Touch Controllers.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_88.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_88.markups.0":{"type":"EM","start":94,"end":214,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_89":{"id":"322a16383bdf_89","name":"c330","type":"P","href":null,"layout":null,"metadata":null,"text":"IoT Education across all languages is needed now, more than ever. Here’s what I’m doing about it…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_89.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_89.markups.0":{"type":"STRONG","start":0,"end":34,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_90":{"id":"322a16383bdf_90","name":"819c","type":"P","href":null,"layout":null,"metadata":null,"text":"I hereby waive all copyright on my articles. You may reproduce my articles in any language, without asking for my permission.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_90.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_90.markups.0":{"type":"STRONG","start":0,"end":125,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_91":{"id":"322a16383bdf_91","name":"8610","type":"P","href":null,"layout":null,"metadata":null,"text":"Although a few of my articles have been translated into Chinese and Japanese… We can do better. Let’s share our IoT skills worldwide! 😀","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_91.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_91.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_91.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_91.markups.0":{"type":"A","start":56,"end":63,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fwww.kidscoding8.com\u002F98097.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_91.markups.1":{"type":"A","start":68,"end":76,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fqiita.com\u002Fghibi\u002Fitems\u002F81fed94d9fc3eb81df62","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_91.markups.2":{"type":"EM","start":96,"end":134,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_92":{"id":"322a16383bdf_92","name":"0e98","type":"H3","href":null,"layout":null,"metadata":null,"text":"References","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_93":{"id":"322a16383bdf_93","name":"36a6","type":"P","href":null,"layout":null,"metadata":null,"text":"Please refer to the “References” section at the end of the previous article “Sneak Peek of PineTime Smart Watch… And why it’s perfect for teaching IoT”","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_93.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_93.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_93.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_93.markups.0":{"type":"A","start":77,"end":150,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&sk=d9301466f5499bece3e7b638e99ec20d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_93.markups.1":{"type":"EM","start":20,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_93.markups.2":{"type":"EM","start":76,"end":151,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_94":{"id":"322a16383bdf_94","name":"408d","type":"P","href":null,"layout":null,"metadata":null,"text":"To run the code on a PineTime Smart Watch, follow the instructions in the section “Programming the PineTime Smart Watch” of the above article.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_94.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_94.markups.0":{"type":"EM","start":82,"end":120,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_95":{"id":"322a16383bdf_95","name":"f62c","type":"P","href":null,"layout":null,"metadata":null,"text":"The updated code may be found in the pinetime branch of this repository, which is the same branch used in the previous article…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_95.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:322a16383bdf_95.markups.0":{"type":"CODE","start":37,"end":45,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_96":{"id":"322a16383bdf_96","name":"a860","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"lupyuen\u002Fstm32bluepill-mynewt-sensor\nThis pinetime branch contains the firmware source code for PineTime Smart Watch with Apache Mynewt and Embedded Rust…github.com","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_96.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_96.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:322a16383bdf_96.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":{"type":"id","generated":true,"id":"$Paragraph:322a16383bdf_96.mixtapeMetadata","typename":"MixtapeMetadata"}},"Paragraph:322a16383bdf_96.markups.0":{"type":"A","start":0,"end":163,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fpinetime","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_96.markups.1":{"type":"STRONG","start":0,"end":35,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:322a16383bdf_96.markups.2":{"type":"EM","start":36,"end":153,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Paragraph:322a16383bdf_96.mixtapeMetadata":{"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191222054305\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fpinetime","thumbnailImageId":"0*ZtJQg1TDskMlb1Ma","mediaResourceId":"0*ZtJQg1TDskMlb1Ma","__typename":"MixtapeMetadata"},"User:d43c46db5b92":{"id":"d43c46db5b92","__typename":"User"},"Collection:f5af2b715248":{"creator":{"type":"id","generated":false,"id":"User:d43c46db5b92","typename":"User"},"viewerIsEditor":false,"__typename":"Collection","name":"The Startup","avatar":{"type":"id","generated":false,"id":"ImageMetadata:1*Xd2uZaVHfrGOP14W_3UQRg.jpeg","typename":"ImageMetadata"},"id":"f5af2b715248","domain":null,"slug":"swlh"},"Tag:internet-of-things":{"id":"internet-of-things","displayTitle":"Internet of Things","__typename":"Tag"},"Tag:rust":{"id":"rust","displayTitle":"Rust","__typename":"Tag"},"Tag:gadgets":{"id":"gadgets","displayTitle":"Gadgets","__typename":"Tag"},"Tag:programming":{"id":"programming","displayTitle":"Programming","__typename":"Tag"},"Tag:nrf52":{"id":"nrf52","displayTitle":"Nrf52","__typename":"Tag"},"ImageMetadata:1*Xd2uZaVHfrGOP14W_3UQRg.jpeg":{"id":"1*Xd2uZaVHfrGOP14W_3UQRg.jpeg","__typename":"ImageMetadata"},"$Post:cbc1a5d5d3e9.previewContent":{"subtitle":"Pretend you’re my IoT student.  I give you a PineTime Smart Watch and challenge you to “Make it work… Especially the touch screen!” The…","__typename":"PreviewContent"}}</script><script src="https://web.archive.org/web/20191222054305js_/https://cdn-client.medium.com/lite/static/js/manifest.0b999d52.js"></script><script src="https://web.archive.org/web/20191222054305js_/https://cdn-client.medium.com/lite/static/js/vendors~main.51281d83.chunk.js"></script><script src="https://web.archive.org/web/20191222054305js_/https://cdn-client.medium.com/lite/static/js/main.06a3617a.chunk.js"></script><script src="https://web.archive.org/web/20191222054305js_/https://cdn-client.medium.com/lite/static/js/vendors~screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~scre~3e410f11.d2f0cb5c.chunk.js"></script>
<script src="https://web.archive.org/web/20191222054305js_/https://cdn-client.medium.com/lite/static/js/screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~screen.post~~4767c889.aad2443a.chunk.js"></script>
<script src="https://web.archive.org/web/20191222054305js_/https://cdn-client.medium.com/lite/static/js/screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~screen.post~~73c4bb05.fe059094.chunk.js"></script>
<script src="https://web.archive.org/web/20191222054305js_/https://cdn-client.medium.com/lite/static/js/screen.post~screen.post.amp~screen.profile~screen.sequence.library~screen.sequence.post~screen.stori~aba94ffa.20e69cee.chunk.js"></script>
<script src="https://web.archive.org/web/20191222054305js_/https://cdn-client.medium.com/lite/static/js/screen.post.302854e7.chunk.js"></script><script>window.main();</script></body></html><!--
     FILE ARCHIVED ON 05:43:05 Dec 22, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 12:23:45 Feb 20, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  exclusion.robots: 0.35
  captures_list: 102.325
  LoadShardBlock: 67.773 (3)
  RedisCDXSource: 0.845
  PetaboxLoader3.datanode: 90.834 (4)
  esindex: 0.015
  PetaboxLoader3.resolve: 19.38
  exclusion.robots.policy: 0.334
  CDXLines.iter: 29.58 (3)
  load_resource: 67.221
-->