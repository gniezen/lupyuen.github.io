<!doctype html>
<html lang="en">

<head>
  <script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
  <script
    type="text/javascript">window.addEventListener('DOMContentLoaded', function () { var v = archive_analytics.values; v.service = 'wb'; v.server_name = 'wwwb-app206.us.archive.org'; v.server_ms = 255; archive_analytics.send_pageview({}); });</script>
  <script type="text/javascript" src="/_static/js/playback.bundle.js?v=bQvHU8mx" charset="utf-8"></script>
  <script type="text/javascript" src="/_static/js/wombat.js?v=cRqOKCOw" charset="utf-8"></script>
  <script type="text/javascript">
    __wm.init("https://web.archive.org/web");
    __wm.wombat("https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "20200612094614", "https://web.archive.org/", "web", "/_static/",
      "1591955174");
  </script>
  <link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=bsmaklHF" />
  <link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
  <!-- End Wayback Rewrite JS Include -->
  <script>!function (c, f) { var t, o, i, e = [], r = { passive: !0, capture: !0 }, n = new Date, a = "pointerup", u = "pointercancel"; function p(n, e) { t || (t = e, o = n, i = new Date, w(f), s()) } function s() { 0 <= o && o < i - n && (e.forEach(function (n) { n(o, t) }), e = []) } function l(n) { if (n.cancelable) { var e = (1e12 < n.timeStamp ? new Date : performance.now()) - n.timeStamp; "pointerdown" == n.type ? function (n, e) { function t() { p(n, e), i() } function o() { i() } function i() { f(a, t, r), f(u, o, r) } c(a, t, r), c(u, o, r) }(e, n) : p(e, n) } } function w(e) { ["click", "mousedown", "keydown", "touchstart", "pointerdown"].forEach(function (n) { e(n, l, r) }) } w(c), self.perfMetrics = self.perfMetrics || {}, self.perfMetrics.onFirstInputDelay = function (n) { e.push(n), s() } }(addEventListener, removeEventListener)</script>
  <script defer
    src="https://web.archive.org/web/20200612094614js_/https://cdn.optimizely.com/js/16180790160.js"></script>
  <title data-rh="true">Optimising PineTime’s Display Driver with Rust and Mynewt</title>
  <meta data-rh="true" charset="utf-8" />
  <meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1" />
  <meta data-rh="true" name="theme-color" content="#000000" />
  <meta data-rh="true" name="twitter:app:name:iphone" content="Medium" />
  <meta data-rh="true" name="twitter:app:id:iphone" content="828256236" />
  <meta data-rh="true" property="al:ios:app_name" content="Medium" />
  <meta data-rh="true" property="al:ios:app_store_id" content="828256236" />
  <meta data-rh="true" property="al:android:package" content="com.medium.reader" />
  <meta data-rh="true" property="fb:app_id" content="542599432471018" />
  <meta data-rh="true" property="og:site_name" content="Medium" />
  <meta data-rh="true" property="og:type" content="article" />
  <meta data-rh="true" property="article:published_time" content="2020-03-05T04:58:31.032Z" />
  <meta data-rh="true" name="title" content="Optimising PineTime’s Display Driver with Rust and Mynewt" />
  <meta data-rh="true" property="og:title" content="Optimising PineTime’s Display Driver with Rust and Mynewt" />
  <meta data-rh="true" property="twitter:title" content="Optimising PineTime’s Display Driver with Rust and Mynewt" />
  <meta data-rh="true" name="twitter:site" content="@Medium" />
  <meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/3ba269ea2f5c" />
  <meta data-rh="true" property="al:android:url" content="medium://p/3ba269ea2f5c" />
  <meta data-rh="true" property="al:ios:url" content="medium://p/3ba269ea2f5c" />
  <meta data-rh="true" property="al:android:app_name" content="Medium" />
  <meta data-rh="true" name="description"
    content="Simple tweaks like Batched Updates and Non-Blocking SPI can have a huge impact on rendering performance… PineTime Smart Watch has been an awesome educational tool for teaching embedded coding with…" />
  <meta data-rh="true" property="og:description"
    content="Simple tweaks like Batched Updates and Non-Blocking SPI can have a huge impact on rendering performance…" />
  <meta data-rh="true" property="twitter:description"
    content="Simple tweaks like Batched Updates and Non-Blocking SPI can have a huge impact on rendering performance…" />
  <meta data-rh="true" property="og:url"
    content="https://web.archive.org/web/20200612094614/https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c" />
  <meta data-rh="true" property="al:web:url"
    content="https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c" />
  <meta data-rh="true" property="og:image"
    content="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1200/1*qWOFrWPOkQm-nf1shcDSSA.png" />
  <meta data-rh="true" name="twitter:image:src"
    content="https://miro.medium.com/max/1200/1*qWOFrWPOkQm-nf1shcDSSA.png" />
  <meta data-rh="true" name="twitter:card" content="summary_large_image" />
  <meta data-rh="true" property="article:author" content="https://medium.com/@ly.lee" />
  <meta data-rh="true" name="twitter:creator" content="@MisterTechBlog" />
  <meta data-rh="true" name="author" content="Lup Yuen Lee 李立源" />
  <meta data-rh="true" name="robots" content="index,follow" />
  <meta data-rh="true" name="referrer" content="unsafe-url" />
  <meta data-rh="true" name="twitter:label1" value="Reading time" />
  <meta data-rh="true" name="twitter:data1" value="15 min read" />
  <meta data-rh="true" name="parsely-post-id" content="3ba269ea2f5c" />
  <link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium"
    href="/web/20200612094614/https://medium.com/osd.xml" />
  <link data-rh="true" rel="apple-touch-icon" sizes="152x152"
    href="https://web.archive.org/web/20200612094614im_/https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png" />
  <link data-rh="true" rel="apple-touch-icon" sizes="120x120"
    href="https://web.archive.org/web/20200612094614im_/https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png" />
  <link data-rh="true" rel="apple-touch-icon" sizes="76x76"
    href="https://web.archive.org/web/20200612094614im_/https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png" />
  <link data-rh="true" rel="apple-touch-icon" sizes="60x60"
    href="https://web.archive.org/web/20200612094614im_/https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png" />
  <link data-rh="true" rel="mask-icon"
    href="https://web.archive.org/web/20200612094614im_/https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg"
    color="#171717" />
  <link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css"
    href="https://web.archive.org/web/20200612094614cs_/https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css" />
  <link data-rh="true" rel="author" href="https://medium.com/@ly.lee" />
  <link data-rh="true" rel="canonical"
    href="https://web.archive.org/web/20200612094614/https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c" />
  <link data-rh="true" rel="alternate"
    href="https://web.archive.org/web/20200612094614/android-app://com.medium.reader/https/medium.com/p/3ba269ea2f5c" />
  <link data-rh="true" rel="icon"
    href="https://web.archive.org/web/20200612094614im_/https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico" />
  <script data-rh="true"
    type="application/ld+json">{"@context":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttp:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*qWOFrWPOkQm-nf1shcDSSA.png"],"url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c","dateCreated":"2019-12-28T23:35:03.457Z","datePublished":"2019-12-28T23:35:03.457Z","dateModified":"2020-03-05T04:58:31.250Z","headline":"Optimising PineTime’s Display Driver with Rust and Mynewt","name":"Optimising PineTime’s Display Driver with Rust and Mynewt","description":"Simple tweaks like Batched Updates and Non-Blocking SPI can have a huge impact on rendering performance… PineTime Smart Watch has been an awesome educational tool for teaching embedded coding with…","identifier":"3ba269ea2f5c","keywords":["Lite:true","Tag:Rust","Tag:Programming","Tag:Gadgets","Tag:Internet of Things","Tag:Embedded Systems","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:0"],"author":{"@type":"Person","name":"Lup Yuen Lee 李立源","url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee"},"creator":["Lup Yuen Lee 李立源"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F616\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c"}</script>
  <script data-rh="true">(function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
          m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
      })(window, document, 'script', 'https://web.archive.org/web/20200612094614/https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-24232453-2', 'auto');
    ga('send', 'pageview');</script>
  <link rel="preload" href="https://web.archive.org/web/20200612094614/https://cdn.optimizely.com/js/16180790160.js"
    as="script">

<!-- Begin scripts/rustdoc-header.html: Header for Custom Markdown files processed by rustdoc, like chip8.md -->
<link rel="alternate" type="application/rss+xml" title="RSS Feed for lupyuen" href="/rss.xml" />
<link rel="stylesheet" type="text/css" href="../normalize.css">
<link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle">
<link rel="stylesheet" type="text/css" href="../dark.css">
<link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle">
<link rel="stylesheet" type="text/css" href="../prism.css">
<script src="../storage.js"></script><noscript>
<link rel="stylesheet" href="../noscript.css"></noscript>
<link rel="shortcut icon" href="../favicon.ico">
<style type="text/css">
    #crate-search {
        background-image: url("../down-arrow.svg");
    }
    a {
        color: #77d;
    }
</style>
<!-- End scripts/rustdoc-header.html -->

</head>

<body>
  <!-- BEGIN WAYBACK TOOLBAR INSERT -->
  <style type="text/css">
    body {
      margin-top: 0 !important;
      padding-top: 0 !important;
      /*min-width:800px !important;*/
    }
  </style>
  <script>__wm.rw(0);</script>
  <div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
    <div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
      <div id="wm-ipp-inside">
        <div style="position:relative;">
          <div id="wm-logo" style="float:left;width:110px;padding-top:12px;">
            <a href="/web/" title="Wayback Machine home page"><img
                src="/_static/images/toolbar/wayback-toolbar-logo-200.png"
                srcset="/_static/images/toolbar/wayback-toolbar-logo-100.png, /_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, /_static/images/toolbar/wayback-toolbar-logo-200.png 2x"
                alt="Wayback Machine" style="width:100px" border="0" /></a>
          </div>
          <div class="r" style="float:right;">
            <div id="wm-btns" style="text-align:right;height:25px;">
              <div id="wm-save-snapshot-success">success</div>
              <div id="wm-save-snapshot-fail">fail</div>
              <a id="wm-save-snapshot-open" href="#" title="Share via My Web Archive">
                <span class="iconochive-web"></span>
              </a>
              <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in">
                <span class="iconochive-person"></span>
              </a>
              <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
              <a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine"
                style="top:-6px;"><span class="iconochive-question"
                  style="color:rgb(87,186,244);font-size:160%;"></span></a>
              <a id="wm-tb-close" href="#close" onclick="__wm.h(event);return false;" style="top:-2px;"
                title="Close the toolbar"><span class="iconochive-remove-circle"
                  style="color:#888888;font-size:240%;"></span></a>
            </div>
            <div id="wm-share">
              <a href="/web/20200612094614/http://web.archive.org/screenshot/https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c"
                id="wm-screenshot" title="screenshot">
                <span class="wm-icon-screen-shot"></span>
              </a>
              <a id="wm-share-facebook" href="#"
                data-url="https://web.archive.org/web/20200612094614/https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c"
                title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook"
                  style="color:#3b5998;font-size:160%;"></span></a>
              <a id="wm-share-twitter" href="#"
                data-url="https://web.archive.org/web/20200612094614/https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c"
                title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter"
                  style="color:#1dcaff;font-size:160%;"></span></a>
            </div>
          </div>
          <table class="c" style="">
            <tbody>
              <tr>
                <td class="u" colspan="2">
                  <form target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text"
                      name="url" id="wmtbURL"
                      value="https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c"
                      onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input
                      type="hidden" name="date" value="20200612094614" /><input type="submit" value="Go" /></form>
                </td>
                <td class="n" rowspan="2" style="width:110px;">
                  <table>
                    <tbody>
                      <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
                      <tr class="m">
                        <td class="b" nowrap="nowrap"><a
                            href="https://web.archive.org/web/20200121150820/https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c"
                            title="21 Jan 2020"><strong>Jan</strong></a></td>
                        <td class="c" id="displayMonthEl" title="You are here: 09:46:14 Jun 12, 2020">JUN</td>
                        <td class="f" nowrap="nowrap">Jul</td>
                      </tr>
                      <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
                      <tr class="d">
                        <td class="b" nowrap="nowrap"><a
                            href="https://web.archive.org/web/20200121150820/https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c"
                            title="15:08:20 Jan 21, 2020"><img src="/_static/images/toolbar/wm_tb_prv_on.png"
                              alt="Previous capture" width="14" height="16" border="0" /></a></td>
                        <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;"
                          title="You are here: 09:46:14 Jun 12, 2020">12</td>
                        <td class="f" nowrap="nowrap"><img src="/_static/images/toolbar/wm_tb_nxt_off.png"
                            alt="Next capture" width="14" height="16" border="0" /></td>
                      </tr>
                      <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
                      <tr class="y">
                        <td class="b" nowrap="nowrap">2019</td>
                        <td class="c" id="displayYearEl" title="You are here: 09:46:14 Jun 12, 2020">2020</td>
                        <td class="f" nowrap="nowrap">2021</td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
              <tr>
                <td class="s">
                  <div id="wm-nav-captures">
                    <a class="t"
                      href="/web/20200612094614*/https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c"
                      title="See a list of every capture for this URL">4 captures</a>
                    <div class="r" title="Timespan for captures of this URL">28 Dec 2019 - 12 Jun 2020</div>
                  </div>
                </td>
                <td class="k">
                  <a href="" id="wm-graph-anchor">
                    <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
                      <canvas id="wm-sparkline-canvas" width="650" height="27" border="0"></canvas>
                    </div>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
          <div style="position:absolute;bottom:0;right:2px;text-align:right;">
            <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span
                id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this
                capture</span></a>
          </div>
        </div>
        <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
          <div id="wm-capinfo-collected-by">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
            <div style="padding:3px;position:relative" id="wm-collected-by-content">
              <div style="display:inline-block;vertical-align:top;width:49%;">
                <span class="c-logo"
                  style="background-image:url(https://archive.org/services/img/outlinks-from-tweets)"></span>
                <div>Collection: <a style="color:#33f;" href="https://archive.org/details/outlinks-from-tweets"
                    target="_new"><span class="wm-title">Outlinks From Tweets</span></a></div>
              </div>
            </div>
          </div>
          <div id="wm-capinfo-timestamps">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center"
              title="Timestamps for the elements of this page">TIMESTAMPS</div>
            <div>
              <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important">
              </div>
              <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img
                  src="/_static/images/loading.gif" alt="loading" /></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="donato" style="position:relative;width:100%;">
    <div id="donato-base">
      <iframe id="donato-if"
        src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=https%3A//web.archive.org/web/20200612094614/https%3A//medium.com/%2540ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c"
        scrolling="no" frameborder="0" style="width:100%; height:100%">
      </iframe>
    </div>
  </div>
  <script type="text/javascript">
    __wm.bt(650, 27, 25, 2, "web", "https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "20200612094614", 1996, "/_static/", ["/_static/css/banner-styles.css?v=bsmaklHF", "/_static/css/iconochive.css?v=qtvMKcIJ"]);
    __wm.rw(1);
  </script>
  <!-- END WAYBACK TOOLBAR INSERT -->
  <div id="root">
    <div class="a b c">
      <div class="d e f g h i j k"></div>
      <script>document.domain = document.domain;</script>
      <div>
        <script>if (window.self !== window.top) window.location = "about:blank"</script>
      </div>
      <script>window.PARSELY = window.PARSELY || { autotrack: false }</script>
      <nav class="r s t u v c w x y">
        <div>
          <div class="n p">
            <div class="z ab ac ae af ag ah ai">
              <div class="aj n o ak al">
                <div class="r am w">
                  <div class="n o"><a aria-label="Homepage" rel="noopener"
                      href="/web/20200612094614/https://medium.com/?source=post_page-----3ba269ea2f5c----------------------">
                      <div class="ba g"><svg height="22" width="112" viewbox="0 0 111.5 22" class="q">
                          <path
                            d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z">
                          </path>
                        </svg></div>
                      <div class="r bb"><svg width="35" height="35" viewbox="5 5 35 35" class="q">
                          <path
                            d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z">
                          </path>
                        </svg></div>
                    </a>
                    <div class="ba g">
                      <div class="bc" id="lo-general-navbar-open-in-app-button">
                        <div class="bd ba bb"><a
                            href="https://web.archive.org/web/20200612094614/https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F3ba269ea2f5c&amp;~feature=LoOpenInAppButton&amp;~channel=ShowPostUnderUser&amp;~stage=mobileNavBar&amp;source=post_page-----3ba269ea2f5c----------------------"
                            class="be bf bg bh bi bj bk bl bm bn bo bp bq br bs" rel="noopener nofollow">Open in app</a>
                        </div>
                      </div>
                    </div>
                    <div class="ba al">
                      <div class="bt bu r g"><svg width="2" height="29">
                          <path d="M1 29V1" stroke="#D5D5D5" stroke-width="0.5" fill="none" stroke-linecap="round">
                          </path>
                        </svg></div>
                      <div class="bc" id="lo-post-page-navbar-topic-copy"><a
                          href="https://web.archive.org/web/20200612094614/https://medium.com/topic/?source=post_page-----3ba269ea2f5c----------------------"
                          rel="noopener">
                          <div class="an ao ap aq ar as at au av aw ax ay az"></div>
                        </a></div>
                    </div>
                  </div>
                </div>
                <div class="r bv w">
                  <div class="n o">
                    <div class="n g">
                      <div class="bc" id="lo-post-page-navbar-upsell-button">
                        <div><a
                            href="https://web.archive.org/web/20200612094614/https://medium.com/membership?source=upgrade_membership---nav_full------------------------"
                            class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb" rel="noopener"><span
                              class="cc b cd ce cf cg r ch ci">Become a member</span></a></div>
                      </div>
                      <div class="bc" id="lo-post-page-navbar-sign-in-link">
                        <div class="bd r"><span class="cc b cd ce cf cg r ch ci"><a
                              href="https://web.archive.org/web/20200612094614/https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c&amp;source=post_page-----3ba269ea2f5c----------------------"
                              class="be bf bg bh bi bj bk bl bm bn bo bp bq br bs" rel="noopener">Sign in</a></span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div class="cj aj r ck ak"></div>
      <article>
        <section class="cl cm cn co ai cp cq r"></section><span class="r"></span>
        <div>
          <div class="s u cr cs ct cu"></div>
          <section class="cv cw cx cy cz">
            <div class="da ai">
              <figure class="db da ai paragraph-image">
                <div class="dc dd de df ai">
                  <div class="dl r de dm">
                    <div class="dn do r">
                      <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                          src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*qWOFrWPOkQm-nf1shcDSSA.png?q=20"
                          width="3208" height="1720" role="presentation" /></div><img class="dg dh s t u di ai ds"
                        width="3208" height="1720"
                        srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*qWOFrWPOkQm-nf1shcDSSA.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/1*qWOFrWPOkQm-nf1shcDSSA.png 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/1*qWOFrWPOkQm-nf1shcDSSA.png 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1456/1*qWOFrWPOkQm-nf1shcDSSA.png 728w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1632/1*qWOFrWPOkQm-nf1shcDSSA.png 816w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1808/1*qWOFrWPOkQm-nf1shcDSSA.png 904w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1984/1*qWOFrWPOkQm-nf1shcDSSA.png 992w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/2160/1*qWOFrWPOkQm-nf1shcDSSA.png 1080w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/2700/1*qWOFrWPOkQm-nf1shcDSSA.png 1350w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/3240/1*qWOFrWPOkQm-nf1shcDSSA.png 1620w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/3780/1*qWOFrWPOkQm-nf1shcDSSA.png 1890w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/4320/1*qWOFrWPOkQm-nf1shcDSSA.png 2160w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/4800/1*qWOFrWPOkQm-nf1shcDSSA.png 2400w"
                        sizes="100vw" role="presentation" /><noscript><img class="s t u di ai"
                          src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/6416/1*qWOFrWPOkQm-nf1shcDSSA.png"
                          width="3208" height="1720"
                          srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*qWOFrWPOkQm-nf1shcDSSA.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/1*qWOFrWPOkQm-nf1shcDSSA.png 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/1*qWOFrWPOkQm-nf1shcDSSA.png 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1456/1*qWOFrWPOkQm-nf1shcDSSA.png 728w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1632/1*qWOFrWPOkQm-nf1shcDSSA.png 816w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1808/1*qWOFrWPOkQm-nf1shcDSSA.png 904w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1984/1*qWOFrWPOkQm-nf1shcDSSA.png 992w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/2160/1*qWOFrWPOkQm-nf1shcDSSA.png 1080w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/2700/1*qWOFrWPOkQm-nf1shcDSSA.png 1350w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/3240/1*qWOFrWPOkQm-nf1shcDSSA.png 1620w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/3780/1*qWOFrWPOkQm-nf1shcDSSA.png 1890w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/4320/1*qWOFrWPOkQm-nf1shcDSSA.png 2160w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/4800/1*qWOFrWPOkQm-nf1shcDSSA.png 2400w"
                          sizes="100vw" role="presentation" /></noscript>
                    </div>
                  </div>
                </div>
              </figure>
            </div>
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <div>
                  <div id="4cb4" class="du dv ap cd dw b dx dy dz ea eb ec ed ee ef eg eh">
                    <h1 class="dw b dx ei dz ej eb ek ed el ef em ap">Optimising PineTime’s Display Driver with Rust and
                      Mynewt</h1>
                  </div>
                  <div class="en">
                    <div class="n eo ep eq er">
                      <div class="o n">
                        <div><a rel="noopener"
                            href="/web/20200612094614/https://medium.com/@ly.lee?source=post_page-----3ba269ea2f5c----------------------">
                            <div class="de es et">
                              <div class="bf n eu o p s ev ew ex ey ez cu"><svg width="57" height="57"
                                  viewbox="0 0 57 57">
                                  <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M28.5 1.2A27.45 27.45 0 0 0 4.06 15.82L3 15.27A28.65 28.65 0 0 1 28.5 0C39.64 0 49.29 6.2 54 15.27l-1.06.55A27.45 27.45 0 0 0 28.5 1.2zM4.06 41.18A27.45 27.45 0 0 0 28.5 55.8a27.45 27.45 0 0 0 24.44-14.62l1.06.55A28.65 28.65 0 0 1 28.5 57 28.65 28.65 0 0 1 3 41.73l1.06-.55z">
                                  </path>
                                </svg></div><img alt="Lup Yuen Lee 李立源" class="r fa et es"
                                src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/96/1*72qLH3RF4S4q2AcxlnIdSw.jpeg"
                                width="48" height="48" />
                            </div>
                          </a></div>
                        <div class="fb ai r">
                          <div class="n">
                            <div style="flex:1"><span class="cc b cd ce cf cg r ap q">
                                <div class="fc n o fd"><span class="cc fe ff ce av fg fh as at au ap"><a
                                      class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb" rel="noopener"
                                      href="/web/20200612094614/https://medium.com/@ly.lee?source=post_page-----3ba269ea2f5c----------------------">Lup
                                      Yuen Lee 李立源</a></span>
                                  <div class="fj r bv h"><button
                                      class="fk ap q fl fm fn fo fp bn ca fq fr fs ft fu fv fw cc b cd fx fy cg fz ga cq gb gc">Follow</button>
                                  </div>
                                </div>
                              </span></div>
                          </div><span class="cc b cd ce cf cg r ch ci"><span class="cc fe ff ce av fg fh as at au ch">
                              <div><a class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb" rel="noopener"
                                  href="/web/20200612094614/https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=post_page-----3ba269ea2f5c----------------------">Dec
                                  28, 2019</a> <!-- -->·
                                <!-- -->
                                <!-- -->15
                                <!-- --> min read
                              </div>
                            </span></span>
                        </div>
                      </div>
                      <div class="n gd ge gf gg gh gi gj gk y">
                        <div class="n o">
                          <div class="gl r bv"><button class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb"><svg
                                width="29" height="29" class="q">
                                <path
                                  d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z">
                                </path>
                              </svg></button></div>
                          <div class="gl r bv"><button class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb"><svg
                                width="29" height="29" viewbox="0 0 29 29" fill="none" class="q">
                                <path
                                  d="M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z">
                                </path>
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                  d="M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z"
                                  fill="#fff"></path>
                              </svg></button></div>
                          <div class="gl r bv"><button class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb"><svg
                                width="29" height="29" class="q">
                                <path
                                  d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79">
                                </path>
                              </svg></button></div>
                          <div class="gm r">
                            <div class="q"><a
                                href="https://web.archive.org/web/20200612094614/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c&amp;source=post_actions_header--------------------------bookmark_header-"
                                class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb" rel="noopener"><svg width="25"
                                  height="25" viewbox="0 0 25 25">
                                  <path
                                    d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                                    fill-rule="evenodd"></path>
                                </svg></a></div>
                          </div>
                          <div class="gn r am"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <p id="7fd8" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">Simple tweaks like Batched Updates and Non-Blocking SPI can have a huge impact on
                    rendering performance…</em></p>
                <p id="fbba" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><a
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&amp;sk=d9301466f5499bece3e7b638e99ec20d">PineTime
                    Smart Watch</a> has been an awesome educational tool for teaching embedded coding with <a
                    href="https://web.archive.org/web/20200612094614/https://doc.rust-lang.org/book/title-page.html"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">Rust</a> and <a
                    href="https://web.archive.org/web/20200612094614/https://mynewt.apache.org/"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">Mynewt OS</a>… Check out PineTime
                  articles <a class="bw gc hj hk hl hm" target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&amp;sk=d9301466f5499bece3e7b638e99ec20d">#1</a>,
                  <a class="bw gc hj hk hl hm" target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9?source=friends_link&amp;sk=d8cf73fc943d9c0e960627d768f309cb">#2</a>
                  and <a class="bw gc hj hk hl hm" target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a?source=friends_link&amp;sk=09b153c68483f7fa9e63350efd167b07">#3</a>
                </p>
                <p id="6bd8" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">But stare
                  closely at the video demos in the articles… You’ll realise that the rendering of graphics on
                  PineTime’s LCD display looks sluggish.</p>
                <p id="2bbf" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">Can we expect speedy screen updates from a </em><a
                    href="https://web.archive.org/web/20200612094614/https://store.pine64.org/?product=pinetime-dev-kit"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><em class="hi">$20 smart
                      watch</em></a><em class="hi">… Powered by a </em><a
                    href="https://web.archive.org/web/20200612094614/https://infocenter.nordicsemi.com/pdf/nRF52832_PS_v1.0.pdf"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><em class="hi">Nordic nRF52832
                      Microcontroller</em></a><em class="hi"> that drives an </em><a
                    href="https://web.archive.org/web/20200612094614/https://wiki.pine64.org/images/5/54/ST7789V_v1.6.pdf"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><em class="hi">ST7789 Display
                      Controller</em></a><em class="hi"> over </em><a
                    href="https://web.archive.org/web/20200612094614/https://en.wikipedia.org/wiki/Serial_Peripheral_Interface"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><em class="hi">SPI</em></a><em
                    class="hi">?</em></p>
                <p id="7774" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">Yes we can!</em> Check the rendering performance of Rust and Mynewt OS on PineTime,
                  before and after optimisation…</p>
              </div>
            </div>
            <div class="da">
              <div class="n p">
                <div class="hn ho hp hq hr hs ae ht af hu ah ai">
                  <figure class="hv hw hx hy hz da">
                    <div class="dl r de">
                      <div class="ia do r"></div>
                    </div>
                    <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Before and after optimising PineTime’s
                      display driver</figcaption>
                  </figure>
                </div>
              </div>
            </div>
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <p id="aa7f" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Today we’ll
                  learn how we optimised the PineTime Display Driver to render text and graphics in sub-seconds…</p>
                <ol class="">
                  <li id="1e34" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb if ig ih">
                    <strong class="gq ii">We group the pixels to be rendered into rows and blocks.</strong> This allows
                    graphics and text to be rendered in fewer SPI operations.</li>
                  <li id="b32b" class="go hc ap cd gq b gr ij hd gt ik he gv il hf gx im hg gz in hh hb if ig ih">
                    <strong class="gq ii">We changed Blocking SPI operations to Non-Blocking SPI operations.
                    </strong>This enables the Rust rendering functions to be executed while SPI operations are running
                    concurrently. <em class="hi">(</em><a
                      href="https://web.archive.org/web/20200612094614/https://en.wikipedia.org/wiki/Graphics_pipeline"
                      class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><em class="hi">Think graphics
                        rendering pipeline</em></a><em class="hi">)</em></li>
                </ol>
              </div>
            </div>
          </section>
          <hr class="io fe ip iq ir is ic it iu iv iw ix" />
          <section class="cv cw cx cy cz">
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <h1 id="b1c9" class="iy iz ap cd cc ja dx jb dz jc jd je jf jg jh ji jj">Rendering PineTime Graphics
                  Pixel by Pixel</h1>
                <p id="3957" class="go hc ap cd gq b gr jk hd gt jl he gv jm hf gx jn hg gz jo hh hb cv">Let’s look at a
                  simple example to understand how the [<a
                    href="https://web.archive.org/web/20200612094614/https://crates.io/crates/embedded-graphics"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">embedded-graphics</a>] and [<a
                    href="https://web.archive.org/web/20200612094614/https://crates.io/crates/st7735-lcd"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">st7735-lcd</a>] crates work
                  together to render graphics on PineTime’s LCD display. This code creates a rectangle with
                  [embedded-graphics] and renders the rectangle to the [st7735-lcd] display…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/display.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/display.rs</a>
                  </figcaption>
                </figure>
                <p id="246f" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">When we trace
                  the SPI requests generated by the [st7735-lcd] driver, we see lots of repetition…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/logs/spi-blocking.log"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/logs/spi-blocking.log</a>
                  </figcaption>
                </figure>
                <p id="39a3" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">(</em><a
                    href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs#L183-L188"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><em class="hi">The SPI log was
                      obtained by uncommenting this code</em></a><em class="hi">)</em></p>
                <p id="fb87" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">For each pixel
                  in the rectangle, the display driver is setting the X and Y coordinates of each pixel and setting the
                  colour of each pixel… <em class="hi">Pixel by pixel! (0, 0), (0, 1), (0, 2), …</em></p>
                <p id="3932" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">That’s not
                  efficient for rendering graphics, pixel by pixel… <em class="hi">Why are [embedded-graphics] and
                    [st7735-lcd] doing that?</em></p>
                <p id="7847" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">That’s because
                  [embedded-graphics] was designed to run on <strong class="gq ii">highly-constrained
                    microcontrollers</strong> with very little RAM… Think STM32 Blue Pill, which has only <strong
                    class="gq ii">20 KB RAM</strong>! That’s too little RAM for rendering rectangles and other graphics
                  into RAM and copying the rendered RAM bitmap to the display. <em class="hi">How does
                    [embedded-graphics] render graphics?</em></p>
                <p id="0532" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">By using <a
                    href="https://web.archive.org/web/20200612094614/https://doc.rust-lang.org/book/ch13-02-iterators.html"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><strong class="gq ii">Rust
                      Iterators</strong></a>! Every graphic object to be rendered (rectangles, circles, even text) is
                  transformed by [embedded-graphics] into a <strong class="gq ii">Rust Iterator that returns the (X, Y)
                    coordinates of each pixel and its colour</strong>. This requires very little RAM because the pixel
                  information is computed on the fly, only when the Iterator needs to return the next pixel.</p>
                <p id="9b66" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Rendering a
                  Pixel Iterator to the display is really easy and doesn’t need much RAM, like this…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/st7735-lcd-batch-rs/blob/master/src/lib.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/st7735-lcd-batch-rs/blob/master/src/lib.rs</a>
                  </figcaption>
                </figure>
                <p id="ee99" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Upon inspecting
                  the <code class="dm jq jr js jt b">set_pixel</code> function that’s called for each pixel, we see
                  this…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/st7735-lcd-batch-rs/blob/master/src/lib.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/st7735-lcd-batch-rs/blob/master/src/lib.rs</a>
                  </figcaption>
                </figure>
                <p id="4b14" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">A-ha!</em> We have discovered the code that creates all the repeated SPI requests for
                  setting the (X, Y) coordinates and colour of each pixel!</p>
                <p id="4d53" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Instead of
                  updating the LED display pixel by pixel, <em class="hi">can we batch the pixels together and blast the
                    entire batch of pixels in a single SPI request?</em></p>
                <p id="7e43" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Digging into
                  the [st7735-lcd] display driver code, we see this clue…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/st7735-lcd-batch-rs/blob/master/src/lib.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/st7735-lcd-batch-rs/blob/master/src/lib.rs</a>
                  </figcaption>
                </figure>
                <p id="3079" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">See the
                  difference? The function <code class="dm jq jr js jt b">set_pixels</code> sets the pixel window to the
                  region from <code class="dm jq jr js jt b">(X Start, Y Start)</code> to <code
                    class="dm jq jr js jt b">(X End, Y End)</code>… Then it <strong class="gq ii">blasts a list of pixel
                    colours</strong> to populate that entire window region!</p>
                <p id="7936" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">When we call
                  <code class="dm jq jr js jt b">set_pixels</code> the SPI requests generated by the display driver
                  would look like this… <em class="hi">(Note the long lists of pixel colours)</em></p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/logs/spi-non-blocking.log"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/logs/spi-non-blocking.log</a>
                  </figcaption>
                </figure>
                <p id="9799" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">But will this really improve rendering performance?</em> Let’s test this hypothesis the
                  <a class="bw gc hj hk hl hm" target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/@ly.lee/my-5-year-iot-mission-5f2f28348780?source=friends_link&amp;sk=8c9ab6f607d4b6af4a2b233e4096d623">Lean
                    and Agile Way</a> by batching the pixels (in the simplest way possible) without disturbing too much
                  [embedded-graphics] and [st7735-lcd] code…</p>
              </div>
            </div>
          </section>
          <hr class="io fe ip iq ir is ic it iu iv iw ix" />
          <section class="cv cw cx cy cz">
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <h1 id="8d93" class="iy iz ap cd cc ja dx jb dz jc jd je jf jg jh ji jj">Batching PineTime Pixels into
                  Rows and Blocks</h1>
                <p id="c037" class="go hc ap cd gq b gr jk hd gt jl he gv jm hf gx jn hg gz jo hh hb cv">Here’s our
                  situation…</p>
                <ol class="">
                  <li id="ce78" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb if ig ih">
                    [embedded-graphics] creates Rust Iterators for rendering graphic objects. Works with minimal RAM,
                    but generates excessive SPI requests.</li>
                  <li id="19b3" class="go hc ap cd gq b gr ij hd gt ik he gv il hf gx im hg gz in hh hb if ig ih">
                    PineTime’s Nordic nRF52832 microcontroller has 64 KB of RAM… Not quite sufficient to render the
                    entire 240x240 screen into RAM. (2 bytes of colour per pixel ✖ ️240 rows ✖ 240 columns = <strong
                      class="gq ii">112.5 KB</strong>) RAM-based bitmap rendering is no go.</li>
                </ol>
                <p id="a21c" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">Is there a Middle Way…</em> Keeping the RAM-efficient Rust Iterators... But get the
                  Iterators to <em class="hi">return small batches of pixels</em> (instead of returning individual
                  pixels)? Let’s experiment with two very simple Rust Iterators: <strong class="gq ii">Pixel Row
                    Iterator and Pixel Block Iterator!</strong></p>
                <p id="77ce" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Suppose we ask
                  [embedded-graphics] to render this trapezoid shape with 10 pixels…</p>
                <figure class="hv hw hx hy hz da cn co paragraph-image">
                  <div class="dc dd de df ai">
                    <div class="cn co ju">
                      <div class="dl r de dm">
                        <div class="jv do r">
                          <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*sXRkBs9tR1cieU9LwYb63Q.png?q=20"
                              width="3050" height="2950" role="presentation" /></div><img class="dg dh s t u di ai ds"
                            width="3050" height="2950"
                            srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*sXRkBs9tR1cieU9LwYb63Q.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/1*sXRkBs9tR1cieU9LwYb63Q.png 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/1*sXRkBs9tR1cieU9LwYb63Q.png 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1400/1*sXRkBs9tR1cieU9LwYb63Q.png 700w"
                            sizes="700px" role="presentation" /><noscript><img class="s t u di ai"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/6100/1*sXRkBs9tR1cieU9LwYb63Q.png"
                              width="3050" height="2950"
                              srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*sXRkBs9tR1cieU9LwYb63Q.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/1*sXRkBs9tR1cieU9LwYb63Q.png 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/1*sXRkBs9tR1cieU9LwYb63Q.png 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1400/1*sXRkBs9tR1cieU9LwYb63Q.png 700w"
                              sizes="700px" role="presentation" /></noscript>
                        </div>
                      </div>
                    </div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">10 pixels from the rendered letter K
                  </figcaption>
                </figure>
                <p id="5925" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">
                  [embedded-graphics] returns a Pixel Iterator that generates the 10 pixels from left to right, top to
                  bottom…</p>
                <figure class="hv hw hx hy hz da ds jx ga jy jz ka kb kc bl kd ke kf kg kh ki paragraph-image">
                  <div class="dc dd de df ai">
                    <div class="cn co jw">
                      <div class="dl r de dm">
                        <div class="kj do r">
                          <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*kRvQ0Hg2xTZ6MhHgpCQhRw.png?q=20"
                              width="1987" height="1253" role="presentation" /></div><img class="dg dh s t u di ai ds"
                            width="1987" height="1253"
                            srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*kRvQ0Hg2xTZ6MhHgpCQhRw.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1000/1*kRvQ0Hg2xTZ6MhHgpCQhRw.png 500w"
                            sizes="500px" role="presentation" /><noscript><img class="s t u di ai"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/3974/1*kRvQ0Hg2xTZ6MhHgpCQhRw.png"
                              width="1987" height="1253"
                              srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*kRvQ0Hg2xTZ6MhHgpCQhRw.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1000/1*kRvQ0Hg2xTZ6MhHgpCQhRw.png 500w"
                              sizes="500px" role="presentation" /></noscript>
                        </div>
                      </div>
                    </div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Zig-zag Pixel Iterator returned by
                    [embedded-graphics]</figcaption>
                </figure>
                <p id="6153" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Which needs
                  <strong class="gq ii">10 SPI requests</strong> to render, 1 pixel per SPI request. <em
                    class="hi">(Let’s count only the set colour requests)</em></p>
                <p id="6b71" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Since the Pixel
                  Iterator produces pixels row by row, let’s create a <strong class="gq ii">Pixel Row Iterator</strong>
                  that returns pixels grouped by row…</p>
                <figure class="hv hw hx hy hz da ds jx ga jy jz ka kb kc bl kd ke kf kg kh ki paragraph-image">
                  <div class="dc dd de df ai">
                    <div class="cn co kk">
                      <div class="dl r de dm">
                        <div class="kl do r">
                          <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*dD_OZ-xAR2L14peOvLfJTg.png?q=20"
                              width="2083" height="1302" role="presentation" /></div><img class="dg dh s t u di ai ds"
                            width="2083" height="1302"
                            srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*dD_OZ-xAR2L14peOvLfJTg.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1000/1*dD_OZ-xAR2L14peOvLfJTg.png 500w"
                            sizes="500px" role="presentation" /><noscript><img class="s t u di ai"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/4166/1*dD_OZ-xAR2L14peOvLfJTg.png"
                              width="2083" height="1302"
                              srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*dD_OZ-xAR2L14peOvLfJTg.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1000/1*dD_OZ-xAR2L14peOvLfJTg.png 500w"
                              sizes="500px" role="presentation" /></noscript>
                        </div>
                      </div>
                    </div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Our Pixel Row Iterator returns 3 rows
                  </figcaption>
                </figure>
                <p id="fd97" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">Awesome!</em> When we group the pixels into rows, we only need to make <strong
                    class="gq ii">3 SPI requests</strong> to render all 10 pixels!</p>
                <p id="5705" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">Can we do better?</em> What if we group consecutive rows of the same width into
                  rectangular blocks… Creating a <strong class="gq ii">Pixel Block Iterator</strong>…</p>
                <figure class="hv hw hx hy hz da ds jx ga jy jz ka kb kc bl kd ke kf kg kh ki paragraph-image">
                  <div class="dc dd de df ai">
                    <div class="cn co km">
                      <div class="dl r de dm">
                        <div class="kn do r">
                          <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*0kGCWh1acxSEV1q-L-t0Mg.png?q=20"
                              width="2023" height="1304" role="presentation" /></div><img class="dg dh s t u di ai ds"
                            width="2023" height="1304"
                            srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*0kGCWh1acxSEV1q-L-t0Mg.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1000/1*0kGCWh1acxSEV1q-L-t0Mg.png 500w"
                            sizes="500px" role="presentation" /><noscript><img class="s t u di ai"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/4046/1*0kGCWh1acxSEV1q-L-t0Mg.png"
                              width="2023" height="1304"
                              srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*0kGCWh1acxSEV1q-L-t0Mg.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1000/1*0kGCWh1acxSEV1q-L-t0Mg.png 500w"
                              sizes="500px" role="presentation" /></noscript>
                        </div>
                      </div>
                    </div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Our Pixel Block Iterator returns 2 blocks
                  </figcaption>
                </figure>
                <p id="2ed4" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">Yay!</em> We have grouped 10 pixels into 2 blocks… Only <strong class="gq ii">2 SPI
                    requests</strong> to render all 10 pixels!</p>
                <p id="f417" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">What’s the catch? How did we optimise 10 SPI requests into 2 SPI requests… Without
                    sacrificing anything?</em></p>
                <p id="32fb" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">While grouping
                  the pixels into rows and blocks, we actually use more RAM. Every time the Pixel Row Iterator returns
                  the next row, it needs up to <strong class="gq ii">8 bytes</strong> of temporary RAM storage (4 pixels
                  with 2 colour bytes each).</p>
                <p id="5c5e" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">And every time
                  the Pixel Block Iterator returns the next block (max 8 pixels), it needs up to <strong
                    class="gq ii">16 bytes</strong> of temporary RAM storage. Which isn’t a lot of RAM, if we keep our
                  block size small. Also the Iterator will reuse the storage for each block returned, so we won’t need
                  to worry about storing 2 or more blocks returned by the Iterator.</p>
                <p id="3814" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">This is the
                  classical <a
                    href="https://web.archive.org/web/20200612094614/https://en.wikipedia.org/wiki/Space%E2%80%93time_tradeoff"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><strong class="gq ii">Space-Time
                      Tradeoff</strong></a> in Computer Science… Sacrificing some storage space (RAM) to make things run
                  faster.</p>
              </div>
            </div>
          </section>
          <hr class="io fe ip iq ir is ic it iu iv iw ix" />
          <section class="cv cw cx cy cz">
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <h1 id="1326" class="iy iz ap cd cc ja dx jb dz jc jd je jf jg jh ji jj">Pixel Row and Pixel Block
                  Iterators</h1>
                <p id="98b3" class="go hc ap cd gq b gr jk hd gt jl he gv jm hf gx jn hg gz jo hh hb cv">Here’s the code
                  for the Pixel Row Iterator that returns the next row of contiguous pixels…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Pixel Row Iterator. From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/batch.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/batch.rs</a>
                  </figcaption>
                </figure>
                <p id="68f8" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">And here’s the
                  code for the Pixel Block Iterator that returns the next block of contiguous rows of the same width.
                  Turns out we only need to tweak the code above slightly to get what we need… Instead of iterating over
                  pixels, we now iterate over rows…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Pixel Block Iterator. From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/batch.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/batch.rs</a>
                  </figcaption>
                </figure>
                <p id="c9b4" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Combining the
                  Pixel Row Iterator and the Pixel Block Iterator, we get the <code
                    class="dm jq jr js jt b">draw_blocks</code> function that renders any [embedded-graphics] graphic
                  object (including text) as pixel blocks…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Rendering a graphic object as Pixel Blocks.
                    From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/batch.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/batch.rs</a>
                  </figcaption>
                </figure>
                <p id="b84b" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Thus we now
                  render graphic objects as RAM-efficient chunks of pixels, instead of individual pixels. <em
                    class="hi">Middle Way found!</em></p>
              </div>
            </div>
          </section>
          <hr class="io fe ip iq ir is ic it iu iv iw ix" />
          <section class="cv cw cx cy cz">
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <h1 id="20f4" class="iy iz ap cd cc ja dx jb dz jc jd je jf jg jh ji jj">Test the Pixel Row and Pixel
                  Block Iterators</h1>
                <p id="b629" class="go hc ap cd gq b gr jk hd gt jl he gv jm hf gx jn hg gz jo hh hb cv"><em
                    class="hi">“</em><a
                    href="https://web.archive.org/web/20200612094614/https://en.wikipedia.org/wiki/Space%E2%80%93time_tradeoff"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><em class="hi">Space-Time
                      Tradeoff</em></a><em class="hi"> called and wants to know how much space we’ll be allocating to
                    make things run faster…”</em></p>
                <p id="4d29" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">The more RAM
                  storage we allocate for batching pixels into rows and blocks, the fewer SPI requests we need to make.
                  The code currently sets the limits at <strong class="gq ii">100 pixels per row, 200 pixels per
                    block</strong>…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Pixel Row and Pixel Block Sizes. From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/batch.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/batch.rs</a>
                  </figcaption>
                </figure>
                <p id="c26d" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Note that the
                  rows and blocks are returned by the Iterators as <strong class="gq ii">[</strong><a
                    href="https://web.archive.org/web/20200612094614/https://crates.io/crates/heapless"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><strong
                      class="gq ii">heapless</strong></a><strong class="gq ii">] </strong><a
                    href="https://web.archive.org/web/20200612094614/https://docs.rs/heapless/0.5.1/heapless/struct.Vec.html"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><strong
                      class="gq ii">Vectors</strong></a>, which use fixed-size arrays to store Vectors. So that we don’t
                  rely on Heap Memory, which is harder to manage on embedded devices like PineTime.</p>
                <p id="2f26" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Any graphic
                  object that’s <strong class="gq ii">100 pixels wide</strong> (or smaller) will be batched efficiently
                  into pixels rows and blocks. Like this square of width 90 pixels created with [embedded-graphics]…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/display.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/display.rs</a>
                  </figcaption>
                </figure>
                <figure class="hv hw hx hy hz da cn co paragraph-image">
                  <div class="dc dd de df ai">
                    <div class="cn co ko">
                      <div class="dl r de dm">
                        <div class="kp do r">
                          <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*oSpNIR4KMzDdDpaZwjLTFw.png?q=20"
                              width="2602" height="2120" role="presentation" /></div><img class="dg dh s t u di ai ds"
                            width="2602" height="2120"
                            srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*oSpNIR4KMzDdDpaZwjLTFw.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/1*oSpNIR4KMzDdDpaZwjLTFw.png 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/1*oSpNIR4KMzDdDpaZwjLTFw.png 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1400/1*oSpNIR4KMzDdDpaZwjLTFw.png 700w"
                            sizes="700px" role="presentation" /><noscript><img class="s t u di ai"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/5204/1*oSpNIR4KMzDdDpaZwjLTFw.png"
                              width="2602" height="2120"
                              srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*oSpNIR4KMzDdDpaZwjLTFw.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/1*oSpNIR4KMzDdDpaZwjLTFw.png 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/1*oSpNIR4KMzDdDpaZwjLTFw.png 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1400/1*oSpNIR4KMzDdDpaZwjLTFw.png 700w"
                              sizes="700px" role="presentation" /></noscript>
                        </div>
                      </div>
                    </div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Square of width 90 pixels from the render demo
                  </figcaption>
                </figure>
                <p id="f669" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">When we trace
                  the rendering of the square, we see this log of pixel blocks…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/logs/pixel-block.log"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/logs/pixel-block.log</a>
                  </figcaption>
                </figure>
                <p id="f639" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">(</em><a
                    href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/batch.rs#L122-L125"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><em class="hi">The log was created
                      by uncommenting this code</em></a><em class="hi">)</em></p>
                <p id="cd78" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Which means
                  that we are indeed deconstructing the <strong class="gq ii">90x90 square</strong> into <strong
                    class="gq ii">90x2 pixel blocks</strong> for efficient rendering.</p>
                <blockquote class="kq kr ks">
                  <p id="eacb" class="go hc ap hi gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                      class="cd">💎</em> This deconstruction doesn’t work so well for a square that occupies the entire
                    240x240 PineTime screen. I’ll let you think…<em class="cd"> 1️⃣ </em>Why this doesn’t work <em
                      class="cd">2️⃣ </em>A solution for rendering the huge square efficiently <em class="cd">😀</em>
                  </p>
                </blockquote>
              </div>
            </div>
          </section>
          <hr class="io fe ip iq ir is ic it iu iv iw ix" />
          <section class="cv cw cx cy cz">
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <h1 id="b211" class="iy iz ap cd cc ja dx jb dz jc jd je jf jg jh ji jj">Non-Blocking SPI on PineTime
                  with Mynewt OS</h1>
                <p id="2695" class="go hc ap cd gq b gr jk hd gt jl he gv jm hf gx jn hg gz jo hh hb cv">We could go
                  ahead and run the Pixel Row and Pixel Block Iterators to measure the rendering time… But we won’t. We
                  are now rendering the screen as chunks of pixels, transmitting a long string of pixel colours in
                  <strong class="gq ii">a single SPI request</strong>…</p>
                <p id="6188" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">However our SPI
                  code in PineTime isn’t optimised to handle large SPI requests… Whenever it transmits an SPI request,
                  <em class="hi">it waits for the entire request to be transmitted</em> before returning to the caller.
                  This is known as <strong class="gq ii">Blocking SPI</strong>.</p>
                <p id="4a2c" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Here’s how we
                  call <code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://mynewt.apache.org/latest/os/modules/hal/hal_spi/hal_spi.html#c.hal_spi_txrx" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">hal_spi_txrx</a></code>
                  to transmit a Blocking SPI request in Rust with Mynewt OS…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs</a>
                  </figcaption>
                </figure>
                <p id="8e2b" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Mynewt OS
                  provides an efficient way to transmit SPI requests: <strong class="gq ii">Non-Blocking SPI</strong>.
                  <code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://mynewt.apache.org/latest/os/modules/hal/hal_spi/hal_spi.html#c.hal_spi_txrx_noblock" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">hal_spi_txrx_noblock</a></code>
                  doesn’t hold up the caller while transmitting the request. Instead, Mynewt calls our Callback Function
                  when the request has been completed.</p>
                <p id="a8ba" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Here’s how we
                  set up Non-Blocking SPI and call <code class="dm jq jr js jt b">hal_spi_txrx_noblock</code>…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs</a>
                  </figcaption>
                </figure>
                <p id="53a7" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><code
                    class="dm jq jr js jt b">spi_noblock_handler</code> is our Callback Function in Rust. Mynewt won’t
                  let us transmit a Non-Blocking SPI request while another is in progress, so our Callback Function
                  needs to ensure that never happens. More about <code
                    class="dm jq jr js jt b">spi_noblock_handler</code> in a while.</p>
                <blockquote class="kq kr ks">
                  <p id="fc4d" class="go hc ap hi gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                      class="cd">💎 </em>What’s <code
                      class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://doc.rust-lang.org/core/mem/fn.transmute.html" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">core::mem::transmute</a></code>?
                    We use this function from the <a
                      href="https://web.archive.org/web/20200612094614/https://doc.rust-lang.org/core/index.html"
                      class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">Rust Core Library</a> to cast
                    pointer types when passing pointers and references from Rust to C. It’s similar to casting <code
                      class="dm jq jr js jt b">char *</code> to <code class="dm jq jr js jt b">void *</code> in C.</p>
                  <p id="ab06" class="go hc ap hi gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Why don’t we
                    need to specify the pointer type that we are casting to? Because the Rust Compiler performs <a
                      href="https://web.archive.org/web/20200612094614/https://doc.rust-lang.org/stable/rust-by-example/types/inference.html"
                      class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">Type Inference</a> to deduce the
                    pointer type.</p>
                </blockquote>
              </div>
            </div>
          </section>
          <hr class="io fe ip iq ir is ic it iu iv iw ix" />
          <section class="cv cw cx cy cz">
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <h1 id="7ad3" class="iy iz ap cd cc ja dx jb dz jc jd je jf jg jh ji jj">Work Around an SPI Quirk</h1>
                <p id="d6bc" class="go hc ap cd gq b gr jk hd gt jl he gv jm hf gx jn hg gz jo hh hb cv"><em
                    class="hi">Bad News:</em> Non-Blocking SPI doesn’t work 100% as advertised for Nordic nRF52832
                  Microcontroller, the heart of PineTime. <a
                    href="https://web.archive.org/web/20200612094614/https://github.com/apache/mynewt-core/blob/master/hw/mcu/nordic/nrf52xxx/src/hal_spi.c#L1106-L1118"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">According to this note in Mynewt
                    OS</a>, <strong class="gq ii">Non-Blocking SPI on nRF52832 fails if we’re sending a single byte over
                    SPI</strong>.</p>
                <p id="f6f1" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">But why would we send single-byte SPI requests anyway?</em></p>
                <p id="614d" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Remember this
                  SPI log that we captured earlier? We seem to be sending single bytes very often: <code
                    class="dm jq jr js jt b">2a</code>, <code class="dm jq jr js jt b">2b</code> and <code
                    class="dm jq jr js jt b">2c</code>, which are <strong class="gq ii">Command Bytes</strong>…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/logs/spi-non-blocking.log"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/logs/spi-non-blocking.log</a>
                  </figcaption>
                </figure>
                <p id="6ca6" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">PineTime’s <a
                    href="https://web.archive.org/web/20200612094614/https://wiki.pine64.org/images/5/54/ST7789V_v1.6.pdf"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">ST7789 Display Controller</a> has
                  an unusual SPI interface with a special pin: the <strong class="gq ii">Data/Command (DC) Pin</strong>.
                  The display controller expects our microcontroller to set the <strong class="gq ii">DC Pin to Low when
                    sending the Command Byte</strong>, and set the <strong class="gq ii">DC Pin to High when sending
                    Data Bytes</strong>…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs</a>
                  </figcaption>
                </figure>
                <p id="26f7" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Unfortunately
                  our <strong class="gq ii">Command Bytes are single bytes</strong>, hence we see plenty of single-byte
                  SPI requests. <em class="hi">All because of the need to flip the DC Pin!</em></p>
                <p id="bddf" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">This
                  complicates our SPI design but let’s overcome this microcontroller hardware defect with good firmware…
                  <strong class="gq ii">All single-byte SPI requests are now sent the Blocking way</strong>, other
                  requests are sent the Non-Blocking way…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs</a>
                  </figcaption>
                </figure>
                <p id="8b9a" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">The code uses a
                  Semaphore <code class="dm jq jr js jt b">SPI_SEM</code> to wait for the Non-Blocking SPI operation to
                  complete before proceeding. <code class="dm jq jr js jt b">SPI_SEM</code> is signalled by our Callback
                  Function <code class="dm jq jr js jt b">spi_noblock_handler</code> like this…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs</a>
                  </figcaption>
                </figure>
                <p id="747b" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">Something smells fishy…</em> <em class="hi">Why are we now waiting for a Non-Blocking SPI
                    request to complete?</em></p>
                <p id="4fa2" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Well this
                  happens when we do things the <a class="bw gc hj hk hl hm" target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/@ly.lee/my-5-year-iot-mission-5f2f28348780?source=friends_link&amp;sk=8c9ab6f607d4b6af4a2b233e4096d623">Lean
                    and Agile Way</a>… When we hit problems (like the single-byte SPI issue), we assess various simple
                  solutions before we select and implement the right permanent fix. <em class="hi">(And I don’t think we
                    have found the right fix yet)</em></p>
                <p id="4706" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">This Semaphore
                  workaround also makes the function <code class="dm jq jr js jt b">internal_spi_noblock_write</code>
                  easier to troubleshoot… Whether the SPI request consists of a single byte or multiple bytes, <code
                    class="dm jq jr js jt b">internal_spi_noblock_write</code> will always wait for the SPI request to
                  complete, instead of having diverging paths.</p>
                <p id="5a97" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">This story also
                  highlights the benefit of building our Rust firmware on top of an established Real Time Operating
                  System like Mynewt OS… We quickly discover platform quirks that others have experienced, so that we
                  can avoid the same trap.</p>
              </div>
            </div>
          </section>
          <hr class="io fe ip iq ir is ic it iu iv iw ix" />
          <section class="cv cw cx cy cz">
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <h1 id="7688" class="iy iz ap cd cc ja dx jb dz jc jd je jf jg jh ji jj">Render Graphics and Send SPI
                  Requests Simultaneously on PineTime</h1>
                <p id="1041" class="go hc ap cd gq b gr jk hd gt jl he gv jm hf gx jn hg gz jo hh hb cv">Now we can send
                  large SPI requests efficiently to PineTime’s LCD display. We are blocking on a Semaphore while waiting
                  for the SPI request to be completed, which means that our CPU is actually free to do some other tasks
                  while blocking.</p>
                <p id="c77b" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">Can we do some [embedded-graphics] rendering while waiting for the SPI requests to be
                    completed?</em></p>
                <p id="079d" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Two problems
                  with that…</p>
                <ol class="">
                  <li id="e4fd" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb if ig ih">
                    [embedded-graphics] creates Rust Iterators and SPI requests in temporary RAM storage. To let
                    [embedded-graphics] continue working, we need to <strong class="gq ii">copy the generated SPI
                      requests</strong> into RAM before sending the requests</li>
                  <li id="bfe8" class="go hc ap cd gq b gr ij hd gt ik he gv il hf gx im hg gz in hh hb if ig ih">To
                    perform [embedded-graphics] rendering independently from the SPI request transmission, we need a
                    <strong class="gq ii">background task</strong>. The main task will render graphics with
                    [embedded-graphics] (which is our current design), the background task will transmit SPI requests
                    (this part is new).</li>
                </ol>
                <figure class="hv hw hx hy hz da cn co paragraph-image">
                  <div class="dc dd de df ai">
                    <div class="cn co kt">
                      <div class="dl r de dm">
                        <div class="ku do r">
                          <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg?q=20"
                              width="5536" height="3033" role="presentation" /></div><img class="dg dh s t u di ai ds"
                            width="5536" height="3033"
                            srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1400/1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg 700w"
                            sizes="700px" role="presentation" /><noscript><img class="s t u di ai"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/11072/1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg"
                              width="5536" height="3033"
                              srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1400/1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg 700w"
                              sizes="700px" role="presentation" /></noscript>
                        </div>
                      </div>
                    </div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Rendering graphics and transmitting SPI
                    requests at the same time on PineTime. Yes this is the Producer-Consumer Pattern found in many
                    programs.</figcaption>
                </figure>
                <p id="79f7" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Fortunately
                  Mynewt OS has everything we need to experiment with this multitasking…</p>
                <ol class="">
                  <li id="6c8a" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb if ig ih">
                    Mynewt’s <strong class="gq ii">Mbuf Chains</strong> may be used to copy SPI requests easily into a
                    RAM space that’s specially managed by Mynewt OS</li>
                  <li id="cfe5" class="go hc ap cd gq b gr ij hd gt ik he gv il hf gx im hg gz in hh hb if ig ih">
                    Mynewt’s <strong class="gq ii">Mbuf Queues</strong> may be used to enqueue the SPI requests for
                    transmission by the background task</li>
                  <li id="b503" class="go hc ap cd gq b gr ij hd gt ik he gv il hf gx im hg gz in hh hb if ig ih">Mynewt
                    lets us create a <strong class="gq ii">background task</strong> to send SPI requests from the Mbuf
                    Queue</li>
                </ol>
                <p id="17b0" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Let’s look at
                  Mbuf Chains, Mbuf Queues and Multitasking in Mynewt OS.</p>
              </div>
            </div>
          </section>
          <hr class="io fe ip iq ir is ic it iu iv iw ix" />
          <section class="cv cw cx cy cz">
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <h1 id="3cd0" class="iy iz ap cd cc ja dx jb dz jc jd je jf jg jh ji jj">Buffer SPI Requests with Mbuf
                  Chains in Mynewt OS</h1>
                <p id="16d8" class="go hc ap cd gq b gr jk hd gt jl he gv jm hf gx jn hg gz jo hh hb cv">In the Unix
                  world of Network Drivers, <a
                    href="https://web.archive.org/web/20200612094614/https://mynewt.apache.org/latest/os/core_os/mbuf/mbuf.html"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><strong
                      class="gq ii">Mbufs</strong></a> (short for Memory Buffers) are often used to store network
                  packets. Mbufs were created to make common networking stack operations (like stripping and adding
                  protocol headers) efficient and as copy-free as possible. <em class="hi">(Mbufs are also used by the
                    NimBLE Bluetooth Stack, which we have seen in the </em><a class="bw gc hj hk hl hm" target="_blank"
                    rel="noopener"
                    href="/web/20200612094614/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&amp;sk=d9301466f5499bece3e7b638e99ec20d"><em
                      class="hi">first PineTime article</em></a><em class="hi">)</em></p>
                <p id="6fc8" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">What makes Mbufs so versatile? How are they different from Heap Storage?</em></p>
                <p id="b66c" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">When handling
                  Network Packets (and SPI Requests), we need a quick way to allocate and deallocate buffers of varying
                  sizes. When we request memory from Heap Storage, we get a contiguous block of RAM that’s exactly what
                  we need (or maybe more). But it causes our Heap Storage to become <em class="hi">fragmented and poorly
                    utilised.</em></p>
                <figure class="hv hw hx hy hz da cn co paragraph-image">
                  <div class="dc dd de df ai">
                    <div class="cn co kv">
                      <div class="dl r de dm">
                        <div class="kw do r">
                          <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/0*re5J9-NnVP3D_vk9.png?q=20"
                              width="720" height="540" role="presentation" /></div><img class="dg dh s t u di ai ds"
                            width="720" height="540"
                            srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/0*re5J9-NnVP3D_vk9.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/0*re5J9-NnVP3D_vk9.png 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/0*re5J9-NnVP3D_vk9.png 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1400/0*re5J9-NnVP3D_vk9.png 700w"
                            sizes="700px" role="presentation" /><noscript><img class="s t u di ai"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1440/0*re5J9-NnVP3D_vk9.png"
                              width="720" height="540"
                              srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/0*re5J9-NnVP3D_vk9.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/0*re5J9-NnVP3D_vk9.png 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/0*re5J9-NnVP3D_vk9.png 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1400/0*re5J9-NnVP3D_vk9.png 700w"
                              sizes="700px" role="presentation" /></noscript>
                        </div>
                      </div>
                    </div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Chain of Mbufs. From <a
                      href="https://web.archive.org/web/20200612094614/https://mynewt.apache.org/latest/os/core_os/mbuf/mbuf.html"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://mynewt.apache.org/latest/os/core_os/mbuf/mbuf.html</a>
                  </figcaption>
                </figure>
                <p id="845c" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">With Mbufs, we
                  get a <strong class="gq ii">chain (linked list) of memory blocks</strong> instead. We can’t be sure
                  how much RAM we’ll get in each block, but we can be sure that the total RAM in the entire chain meets
                  what we need. <em class="hi">(The diagram above shows how Mynewt OS allocates Mbuf Chains in a compact
                    way using fixed-size Mbuf blocks)</em></p>
                <p id="78df" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">Isn’t it harder to code with a chain of memory blocks?</em> Yes, it makes coding more
                  cumbersome, but Mbuf Chains will utilise our tiny pool of RAM on PineTime much better than a Heap
                  Storage allocator.</p>
                <p id="afff" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">With Rust and
                  Mynewt OS, here’s how we allocate an Mbuf Chain and append our SPI request to the Mbuf Chain…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs</a>
                  </figcaption>
                </figure>
                <p id="b180" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">We may call
                  <code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://mynewt.apache.org/latest/os/core_os/mbuf/mbuf.html#c.os_mbuf_append" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">os_mbuf_append</a></code>
                  as often as we like to append data to our Mbuf Chain, which keeps growing and growing… (Unlike Heap
                  Storage blocks which are fixed-size). <em class="hi">So cool!</em></p>
                <p id="51e0" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Here’s how we
                  walk the Mbuf Chain to transmit each block of SPI data in the chain, and deallocate the chain when
                  we’re done…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs</a>
                  </figcaption>
                </figure>
                <p id="15ec" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Note that we
                  don’t transmit the entire Mbuf Chain of SPI data in a single SPI operation… We transmit the SPI data
                  one Mbuf at a time. This works fine for PineTime’s ST7789 Display Controller. And with limited RAM,
                  it’s best not to make an extra copy of the entire Mbuf Chain before transmitting.</p>
              </div>
            </div>
          </section>
          <hr class="io fe ip iq ir is ic it iu iv iw ix" />
          <section class="cv cw cx cy cz">
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <h1 id="e4e5" class="iy iz ap cd cc ja dx jb dz jc jd je jf jg jh ji jj">Enqueue SPI Requests with Mbuf
                  Queues in Mynewt OS</h1>
                <p id="b733" class="go hc ap cd gq b gr jk hd gt jl he gv jm hf gx jn hg gz jo hh hb cv">After
                  [embedded-graphics] has completed its rendering, we get an Mbuf Chain that contains the SPI request
                  that will be transmitted to the PineTime Display Controller by the background task. Now we need a way
                  to enqueue the SPI requests (Mbuf Chains) produced by [embedded-graphics]…</p>
                <figure class="hv hw hx hy hz da cn co paragraph-image">
                  <div class="dc dd de df ai">
                    <div class="cn co kx">
                      <div class="dl r de dm">
                        <div class="ky do r">
                          <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*n5g0mKyghlDkaCNhcfu2yQ.png?q=20"
                              width="3942" height="2230" role="presentation" /></div><img class="dg dh s t u di ai ds"
                            width="3942" height="2230"
                            srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*n5g0mKyghlDkaCNhcfu2yQ.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/1*n5g0mKyghlDkaCNhcfu2yQ.png 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/1*n5g0mKyghlDkaCNhcfu2yQ.png 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1400/1*n5g0mKyghlDkaCNhcfu2yQ.png 700w"
                            sizes="700px" role="presentation" /><noscript><img class="s t u di ai"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/7884/1*n5g0mKyghlDkaCNhcfu2yQ.png"
                              width="3942" height="2230"
                              srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*n5g0mKyghlDkaCNhcfu2yQ.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/1*n5g0mKyghlDkaCNhcfu2yQ.png 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/1*n5g0mKyghlDkaCNhcfu2yQ.png 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1400/1*n5g0mKyghlDkaCNhcfu2yQ.png 700w"
                              sizes="700px" role="presentation" /></noscript>
                        </div>
                      </div>
                    </div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Enqueuing SPI requests in an MBuf Queue before
                    transmitting</figcaption>
                </figure>
                <p id="c367" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">When we use
                  Mbuf Chains in Mynewt OS, <em class="hi">we get Mbuf Queues for free!</em></p>
                <p id="80b7" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Check the
                  function <code class="dm jq jr js jt b">spi_event_callback</code> from the last code snippet… It’s
                  actually calling <code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://mynewt.apache.org/latest/os/core_os/mbuf/mbuf.html#c.os_mqueue_get" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">os_mqueue_get</a></code>
                  to read SPI requests (Mbuf Chains) from an Mbuf Queue named <code
                    class="dm jq jr js jt b">SPI_DATA_QUEUE</code>.</p>
                <p id="a9ea" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Adding an SPI
                  request to an Mbuf Queue is done by calling <code class="dm jq jr js jt b">os_mqueue_put</code> in
                  Rust like this…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs</a>
                  </figcaption>
                </figure>
                <p id="e602" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><code
                    class="dm jq jr js jt b">spi_noblock_write</code> is the complete Rust function we use in our
                  PineTime firmware to 1️⃣ Allocate an Mbuf Chain 2️⃣ Append the SPI request to the Mbuf Chain 3️⃣ Add
                  the Mbuf Chain to the Mbuf Queue. <em class="hi">Yep it’s that easy to use Mbuf Chains and Mbuf Queues
                    in Mynewt OS!</em></p>
              </div>
            </div>
          </section>
          <hr class="io fe ip iq ir is ic it iu iv iw ix" />
          <section class="cv cw cx cy cz">
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <h1 id="8904" class="iy iz ap cd cc ja dx jb dz jc jd je jf jg jh ji jj">Transmit Enqueued SPI Requests
                  with Mynewt Background Task</h1>
                <p id="56b6" class="go hc ap cd gq b gr jk hd gt jl he gv jm hf gx jn hg gz jo hh hb cv">Here comes the
                  final part of our quick experiment… Create a background task in Mynewt to read the Mbuf Queue and
                  transmit each SPI request to PineTime’s Display Controller…</p>
                <figure class="hv hw hx hy hz da cn co paragraph-image">
                  <div class="dc dd de df ai">
                    <div class="cn co kz">
                      <div class="dl r de dm">
                        <div class="la do r">
                          <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*c7kIxO4BfkJo3hhSUloHPw.png?q=20"
                              width="4755" height="2284" role="presentation" /></div><img class="dg dh s t u di ai ds"
                            width="4755" height="2284"
                            srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*c7kIxO4BfkJo3hhSUloHPw.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/1*c7kIxO4BfkJo3hhSUloHPw.png 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/1*c7kIxO4BfkJo3hhSUloHPw.png 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1400/1*c7kIxO4BfkJo3hhSUloHPw.png 700w"
                            sizes="700px" role="presentation" /><noscript><img class="s t u di ai"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/9510/1*c7kIxO4BfkJo3hhSUloHPw.png"
                              width="4755" height="2284"
                              srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/552/1*c7kIxO4BfkJo3hhSUloHPw.png 276w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1104/1*c7kIxO4BfkJo3hhSUloHPw.png 552w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1280/1*c7kIxO4BfkJo3hhSUloHPw.png 640w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/1400/1*c7kIxO4BfkJo3hhSUloHPw.png 700w"
                              sizes="700px" role="presentation" /></noscript>
                        </div>
                      </div>
                    </div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">Transmitting SPI Requests enqueued in an Mbuf
                    Queue</figcaption>
                </figure>
                <p id="a326" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">With Rust and
                  Mynewt OS, here’s how we create a background task <code class="dm jq jr js jt b">SPI_TASK</code> that
                  runs the neverending function <code class="dm jq jr js jt b">spi_task_func</code>…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs</a>
                  </figcaption>
                </figure>
                <p id="17a5" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">(Note that we’re calling Mynewt to create background tasks instead of using </em><a
                    href="https://web.archive.org/web/20200612094614/https://doc.rust-lang.org/book/ch16-01-threads.html"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><em class="hi">Rust
                      multitasking</em></a><em class="hi">, because Mynewt controls all our tasks on PineTime)</em></p>
                <p id="1c59" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><code
                    class="dm jq jr js jt b">spi_task_func</code> runs forever, blocking until there’s a request in the
                  Mbuf Queue, and executes the request. The request is handled by the function <code
                    class="dm jq jr js jt b">spi_event_callback</code> that we have seen earlier. <em class="hi">(How
                    does Mynewt know that it should invoke </em><code
                    class="dm jq jr js jt b">spi_event_callback</code><em class="hi">? It’s defined in the call to
                  </em><code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://mynewt.apache.org/latest/os/core_os/mbuf/mbuf.html#c.os_mqueue_init" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">os_mqueue_init</a></code><em
                    class="hi"> above.)</em></p>
                <p id="2e59" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://mynewt.apache.org/latest/os/modules/hal/hal_watchdog/hal_watchdog.html#c.hal_watchdog_tickle" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">hal_watchdog_tickle</a></code>
                  <em class="hi">appears oddly in the code… What is that?</em></p>
                <p id="7560" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Mynewt
                  helpfully pings our background task every couple of milliseconds, to make sure that it’s not hung…
                  That’s why it’s called a <a
                    href="https://web.archive.org/web/20200612094614/https://mynewt.apache.org/latest/os/modules/hal/hal_watchdog/hal_watchdog.html"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><strong
                      class="gq ii">Watchdog</strong></a>.</p>
                <p id="3458" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">To prevent
                  Mynewt from raising a Watchdog Exception, we need to tell the Watchdog every couple of milliseconds
                  that we are OK… By calling <code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://mynewt.apache.org/latest/os/modules/hal/hal_watchdog/hal_watchdog.html#c.hal_watchdog_tickle" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">hal_watchdog_tickle</a></code>
                </p>
              </div>
            </div>
          </section>
          <hr class="io fe ip iq ir is ic it iu iv iw ix" />
          <section class="cv cw cx cy cz">
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <h1 id="40dd" class="iy iz ap cd cc ja dx jb dz jc jd je jf jg jh ji jj">Optimised PineTime Display
                  Driver… Assemble!</h1>
                <p id="9b7e" class="go hc ap cd gq b gr jk hd gt jl he gv jm hf gx jn hg gz jo hh hb cv">This has been a
                  lengthy but quick <em class="hi">(two-week)</em> experiment in optimising the display rendering for
                  PineTime. Here’s how we put everything together…</p>
                <p id="5e60" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">1️⃣ We have
                  <strong class="gq ii">batched the rendering of pixels by rows and by blocks</strong>. This batching
                  code has been added to the [<a
                    href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/batch.rs"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">piet-embedded</a>] crate that
                  calls [embedded-graphics] to render 2D graphics and text on our PineTime.</p>
                <p id="fcca" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">2️⃣ <a
                    href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/display.rs"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">The code that demos the batching
                    of pixels</a> is also in the [piet-embedded] crate. Batching is enabled when we enable the <code
                    class="dm jq jr js jt b">noblock_spi</code> feature in [piet-embedded]’s <code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/Cargo.toml" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">Cargo.toml</a></code>
                  like this…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/Cargo.toml"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/Cargo.toml</a>
                  </figcaption>
                </figure>
                <p id="0788" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">3️⃣ <code
                    class="dm jq jr js jt b">noblock_spi</code> is referenced in the demo code like this…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/display.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/display.rs</a>
                  </figcaption>
                </figure>
                <p id="dd93" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">4️⃣ We have
                  implemented <strong class="gq ii">Non-Blocking SPI with Mbuf Chains and Mbuf Queues</strong> (plus a
                  background task). The code is located in the [<a
                    href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">mynewt</a>] crate.</p>
                <p id="b3e4" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">5️⃣ We have
                  forked the original [st7735-lcd] display driver into [<a
                    href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/st7735-lcd-batch-rs"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">st7735-lcd-batch</a>] to test
                  Non-Blocking SPI. Non-Blocking SPI is enabled when we enable the <code
                    class="dm jq jr js jt b">noblock_spi</code> feature in [st7735-lcd-batch]’s <code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/st7735-lcd-batch-rs/blob/master/Cargo.toml" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">Cargo.toml</a></code>…
                </p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/st7735-lcd-batch-rs/blob/master/Cargo.toml"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/st7735-lcd-batch-rs/blob/master/Cargo.toml</a>
                  </figcaption>
                </figure>
                <p id="93b7" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">6️⃣ <code
                    class="dm jq jr js jt b">noblock_spi</code> is referenced by [st7735-lcd-batch] like this…</p>
                <figure class="hv hw hx hy hz da">
                  <div class="dl r de">
                    <div class="jp do r"></div>
                  </div>
                  <figcaption class="ib ic cp cn co id ie cc fe ff ce ch">From <a
                      href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/st7735-lcd-batch-rs/blob/master/src/lib.rs"
                      class="bw gc hj hk hl hm" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/st7735-lcd-batch-rs/blob/master/src/lib.rs</a>
                  </figcaption>
                </figure>
                <p id="f603" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">(Plus a few other spots in that file)</em></p>
                <p id="2256" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">We have
                  attempted to optimise the display driver for PineTime… <em class="hi">But it’s far from optimal!</em>
                </p>
                <p id="6e00" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">There are a few
                  parameters that we may tweak to make PineTime render faster… Just be mindful that some of these tweaks
                  will take up precious RAM…</p>
                <p id="c2e2" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">1️⃣ <code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/batch.rs#L26" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">MaxRowSize</a></code>:
                  Maximum number of pixels per batched row. Currently set to 100.</p>
                <p id="d305" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">2️⃣ <code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/batch.rs#L28" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">MaxBlockSize</a></code>:
                  Maximum number of pixels per batched block. Currently set to 200.</p>
                <p id="447c" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">3️⃣ <code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/mynewt/src/spi.rs#L109" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">SPI_THROTTLE_SEM</a></code>:
                  How many SPI requests are allowed to be enqueued before blocking the rendering task. Currently set to
                  2.</p>
                <p id="05bc" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">4️⃣ <code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/apps/my_sensor_app/syscfg.yml#L100" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">OS_MAIN_STACK_SIZE</a></code>:
                  Stack Size for the main task. Currently set to 16 KB</p>
                <p id="85d7" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">5️⃣ <code
                    class="dm jq jr js jt b"><a href="https://web.archive.org/web/20200612094614/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/apps/my_sensor_app/syscfg.yml#L102" class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">MSYS_1_BLOCK_COUNT</a></code>:
                  Number of Mbuf blocks available. Currently set to 64.</p>
                <p id="8534" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><a
                    href="https://web.archive.org/web/20200612094614/https://gist.github.com/lupyuen/35d8471a200bebd4bd6de8696d3eeff0"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow"><em class="hi">Is it possible to
                      render PineTime graphics at the theoretical maximum speed of the SPI bus? Read this</em></a></p>
              </div>
            </div>
          </section>
          <hr class="io fe ip iq ir is ic it iu iv iw ix" />
          <section class="cv cw cx cy cz">
            <div class="n p">
              <div class="z ab ac ae af dt ah ai">
                <h1 id="bef2" class="iy iz ap cd cc ja dx jb dz jc jd je jf jg jh ji jj">What’s Next?</h1>
                <p id="1d10" class="go hc ap cd gq b gr jk hd gt jl he gv jm hf gx jn hg gz jo hh hb cv"><a
                    href="https://web.archive.org/web/20200612094614/https://store.pine64.org/?product=pinetime-dev-kit"
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener nofollow">PineTime is available for purchase
                    by general public</a>! Check this article for updated instructions to build and flash PineTime
                  firmware…</p>
                <div class="lb lc ld le lf lg"><a target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/@ly.lee/build-and-flash-rust-mynewt-firmware-for-pinetime-smart-watch-5e14259c55">
                    <div class="lh n bv">
                      <div class="li n lj p lk ll">
                        <h2 class="cc ja lm ce av ln fh as lo au ap">Build and Flash Rust+Mynewt Firmware for PineTime
                          Smart Watch</h2>
                        <div class="lp r">
                          <h3 class="cc fe ff ce av ln fh as lo au ch">All you need is a Raspberry Pi and a Windows or
                            macOS computer!</h3>
                        </div>
                        <div class="lq r">
                          <h4 class="cc fe fy ce av ln fh as lo au ch">medium.com</h4>
                        </div>
                      </div>
                      <div class="lr r">
                        <div class="ls r lt lu lv lr lw lx ly"></div>
                      </div>
                    </div>
                  </a></div>
                <p id="ac85" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">In the next
                  article we’ll have…</p>
                <p id="858c" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">1️⃣ The <strong
                    class="gq ii">prebuilt Rust + Mynewt OS firmware</strong> that we may download and install on
                  PineTime</p>
                <p id="dfea" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">2️⃣ <strong
                    class="gq ii">Instructions for flashing the firmware</strong> to PineTime with Raspberry Pi (or ST
                  Link)</p>
                <p id="6a1a" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">3️⃣ <strong
                    class="gq ii">Instructions for developing our own Watch Apps</strong> with the <a
                    class="bw gc hj hk hl hm" target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a?source=friends_link&amp;sk=09b153c68483f7fa9e63350efd167b07">druid
                    Rust UI Framework</a></p>
                <p id="3927" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv">Stay tuned!</p>
                <p id="023f" class="go hc ap cd gq b gr gs hd gt gu he gv gw hf gx gy hg gz ha hh hb cv"><em
                    class="hi">Here are the other articles in the PineTime series…</em></p>
                <div class="lb lc ld le lf lg"><a target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159">
                    <div class="lh n bv">
                      <div class="li n lj p lk ll">
                        <h2 class="cc ja lm ce av ln fh as lo au ap">Sneak Peek of PineTime Smart Watch… And why it’s
                          perfect for teaching IoT</h2>
                        <div class="lp r">
                          <h3 class="cc fe ff ce av ln fh as lo au ch">I’m one of the lucky few who received the
                            developer preview version of the PineTime Smart Watch by Pine64. (My official…</h3>
                        </div>
                        <div class="lq r">
                          <h4 class="cc fe fy ce av ln fh as lo au ch">medium.com</h4>
                        </div>
                      </div>
                      <div class="lr r">
                        <div class="lz r lt lu lv lr lw lx ly"></div>
                      </div>
                    </div>
                  </a></div>
                <div class="lb lc ld le lf lg"><a target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9">
                    <div class="lh n bv">
                      <div class="li n lj p lk ll">
                        <h2 class="cc ja lm ce av ln fh as lo au ap">Building a Rust Driver for PineTime’s Touch
                          Controller</h2>
                        <div class="lp r">
                          <h3 class="cc fe ff ce av ln fh as lo au ch">Pretend you’re my IoT student. I give you a
                            PineTime Smart Watch and challenge you to “Make it work… Especially the…</h3>
                        </div>
                        <div class="lq r">
                          <h4 class="cc fe fy ce av ln fh as lo au ch">medium.com</h4>
                        </div>
                      </div>
                      <div class="lr r">
                        <div class="ma r lt lu lv lr lw lx ly"></div>
                      </div>
                    </div>
                  </a></div>
                <div class="lb lc ld le lf lg"><a target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a">
                    <div class="lh n bv">
                      <div class="li n lj p lk ll">
                        <h2 class="cc ja lm ce av ln fh as lo au ap">Porting [druid] Rust Widgets to PineTime Smart
                          Watch</h2>
                        <div class="lp r">
                          <h3 class="cc fe ff ce av ln fh as lo au ch">A button that responds to our tapping and
                            increments a counter… That’s what we shall accomplish today on the PineTime…</h3>
                        </div>
                        <div class="lq r">
                          <h4 class="cc fe fy ce av ln fh as lo au ch">medium.com</h4>
                        </div>
                      </div>
                      <div class="lr r">
                        <div class="mb r lt lu lv lr lw lx ly"></div>
                      </div>
                    </div>
                  </a></div>
                <div class="lb lc ld le lf lg"><a target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/@ly.lee/build-and-flash-rust-mynewt-firmware-for-pinetime-smart-watch-5e14259c55">
                    <div class="lh n bv">
                      <div class="li n lj p lk ll">
                        <h2 class="cc ja lm ce av ln fh as lo au ap">Build and Flash Rust+Mynewt Firmware for PineTime
                          Smart Watch</h2>
                        <div class="lp r">
                          <h3 class="cc fe ff ce av ln fh as lo au ch">All you need is a Raspberry Pi and a Windows or
                            macOS computer!</h3>
                        </div>
                        <div class="lq r">
                          <h4 class="cc fe fy ce av ln fh as lo au ch">medium.com</h4>
                        </div>
                      </div>
                      <div class="lr r">
                        <div class="ls r lt lu lv lr lw lx ly"></div>
                      </div>
                    </div>
                  </a></div>
                <div class="lb lc ld le lf lg"><a target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/@ly.lee/debug-rust-mynewt-firmware-for-pinetime-on-raspberry-pi-4b9ac2d093a9">
                    <div class="lh n bv">
                      <div class="li n lj p lk ll">
                        <h2 class="cc ja lm ce av ln fh as lo au ap">Debug Rust+Mynewt Firmware for PineTime on
                          Raspberry Pi</h2>
                        <div class="lp r">
                          <h3 class="cc fe ff ce av ln fh as lo au ch">Using only a Raspberry Pi, we may debug the
                            firmware on PineTime Smart Watch: Step into the flashed program line by…</h3>
                        </div>
                        <div class="lq r">
                          <h4 class="cc fe fy ce av ln fh as lo au ch">medium.com</h4>
                        </div>
                      </div>
                      <div class="lr r">
                        <div class="mc r lt lu lv lr lw lx ly"></div>
                      </div>
                    </div>
                  </a></div>
                <div class="lb lc ld le lf lg"><a target="_blank" rel="noopener"
                    href="/web/20200612094614/https://medium.com/@ly.lee/my-first-week-as-embedded-foss-advocate-106d625deae">
                    <div class="lh n bv">
                      <div class="li n lj p lk ll">
                        <h2 class="cc ja lm ce av ln fh as lo au ap">My First Week As Embedded FOSS Advocate</h2>
                        <div class="lp r">
                          <h3 class="cc fe ff ce av ln fh as lo au ch">Challenges teaching Embedded IoT with free
                            open-source software</h3>
                        </div>
                        <div class="lq r">
                          <h4 class="cc fe fy ce av ln fh as lo au ch">medium.com</h4>
                        </div>
                      </div>
                      <div class="lr r">
                        <div class="md r lt lu lv lr lw lx ly"></div>
                      </div>
                    </div>
                  </a></div>
                <div class="lb lc ld le lf lg"><a
                    href="https://web.archive.org/web/20200612094614/https://marketplace.visualstudio.com/items?itemName=LeeLupYuen.visual-embedded-rust"
                    target="_blank" rel="noopener nofollow">
                    <div class="lh n bv">
                      <div class="li n lj p lk ll">
                        <h2 class="cc ja lm ce av ln fh as lo au ap">Visual Embedded Rust</h2>
                        <div class="lp r">
                          <h3 class="cc fe ff ce av ln fh as lo au ch">Create and edit Embedded Rust programs visually
                            by dragging and dropping blocks Generates Embedded Rust firmware code…</h3>
                        </div>
                        <div class="lq r">
                          <h4 class="cc fe fy ce av ln fh as lo au ch">marketplace.visualstudio.com</h4>
                        </div>
                      </div>
                      <div class="lr r">
                        <div class="me r lt lu lv lr lw lx ly"></div>
                      </div>
                    </div>
                  </a></div>
                <div class="lb lc ld le lf lg"><a
                    href="https://web.archive.org/web/20200612094614/https://lupyuen.github.io/pinetime-rust-mynewt/articles/chip8"
                    target="_blank" rel="noopener nofollow">
                    <div class="lh n bv">
                      <div class="li n lj p lk ll">
                        <h2 class="cc ja lm ce av ln fh as lo au ap">chip8.rs: CHIP-8 Game Emulator in Rust for PineTime
                          Smart Watch</h2>
                        <div class="lp r">
                          <h3 class="cc fe ff ce av ln fh as lo au ch">Space Invaders running on CHIP-8 Emulator on
                            PineTime Smart Watch Running Retro Games with Rust is not that hard on…</h3>
                        </div>
                        <div class="lq r">
                          <h4 class="cc fe fy ce av ln fh as lo au ch">lupyuen.github.io</h4>
                        </div>
                      </div>
                      <div class="lr r">
                        <div class="mf r lt lu lv lr lw lx ly"></div>
                      </div>
                    </div>
                  </a></div>
              </div>
            </div>
          </section>
        </div>
      </article>
      <div class="dg cu mg mh ai mi mj mk" data-test-id="post-sidebar">
        <div class="n p">
          <div class="z ab ac ae af ag ah ai">
            <div class="mp n lj">
              <div class="cu">
                <div class="mq mr ms n">
                  <div class="n o">
                    <div class="r de mt mu mv mw mx"><a
                        href="https://web.archive.org/web/20200612094614/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c&amp;source=post_sidebar-----3ba269ea2f5c---------------------clap_sidebar-"
                        class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb" rel="noopener">
                        <div class="bl my mz na nb nc nd ne q nf ng"><svg width="29" height="29">
                            <g fill-rule="evenodd">
                              <path
                                d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z">
                              </path>
                            </g>
                          </svg></div>
                      </a></div>
                    <div class="r nh ni nj nk nl nm nn">
                      <div class="no">
                        <h4 class="cc fe ff ce ch"><button class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb">35
                            <!-- -->
                          </button></h4>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="mr r"></div>
                <div class="q"><a
                    href="https://web.archive.org/web/20200612094614/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c&amp;source=post_sidebar--------------------------post_sidebar-"
                    class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb" rel="noopener"><svg width="25" height="25"
                      viewbox="0 0 25 25">
                      <path
                        d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                        fill-rule="evenodd"></path>
                    </svg></a></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="dg cu mg mh ml ey mm mn mj mo"></div>
      <div>
        <div class="np da n lj p">
          <div class="n p">
            <div class="z ab ac ae af dt ah ai">
              <div class="n nq"></div>
              <div class="n o nq"></div>
              <div class="nr r">
                <ul class="bl bm">
                  <li class="gb ns gm nt"><a href="/web/20200612094614/https://medium.com/tag/rust"
                      class="nu nv gc ch r nw nx a b fy">Rust</a></li>
                  <li class="gb ns gm nt"><a href="/web/20200612094614/https://medium.com/tag/programming"
                      class="nu nv gc ch r nw nx a b fy">Programming</a></li>
                  <li class="gb ns gm nt"><a href="/web/20200612094614/https://medium.com/tag/gadgets"
                      class="nu nv gc ch r nw nx a b fy">Gadgets</a></li>
                  <li class="gb ns gm nt"><a href="/web/20200612094614/https://medium.com/tag/internet-of-things"
                      class="nu nv gc ch r nw nx a b fy">Internet of Things</a></li>
                  <li class="gb ns gm nt"><a href="/web/20200612094614/https://medium.com/tag/embedded-systems"
                      class="nu nv gc ch r nw nx a b fy">Embedded Systems</a></li>
                </ul>
              </div>
              <div class="ny n eo y">
                <div class="n eu">
                  <div class="nz r">
                    <div class="n o">
                      <div class="r de oa ob oc od oe"><a
                          href="https://web.archive.org/web/20200612094614/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c&amp;source=post_actions_footer-----3ba269ea2f5c---------------------clap_footer-"
                          class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb" rel="noopener">
                          <div class="c of fa n o og de oh oi oj ok ol om on oo op oq or os ot ou">
                            <div class="bl my mz na nb nc ov ne o ds fa n p ow u di s t ai q nf ng ox"><svg width="33"
                                height="33" viewbox="0 0 33 33">
                                <path
                                  d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z"
                                  fill-rule="evenodd"></path>
                              </svg></div>
                          </div>
                        </a></div>
                      <div class="r nh ni nj nk nl nm nn">
                        <div class="de oy no">
                          <h4 class="cc fe ff ce ap"><button class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb">35
                              <!-- -->
                              <!-- -->claps
                            </button></h4>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="r oz pa pb pc pd"></div>
                </div>
                <div class="n o">
                  <div class="gl r bv"><button class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb"><svg width="29"
                        height="29" class="q">
                        <path
                          d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z">
                        </path>
                      </svg></button></div>
                  <div class="gl r bv"><button class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb"><svg width="29"
                        height="29" viewbox="0 0 29 29" fill="none" class="q">
                        <path
                          d="M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z">
                        </path>
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z"
                          fill="#fff"></path>
                      </svg></button></div>
                  <div class="gl r bv"><button class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb"><svg width="29"
                        height="29" class="q">
                        <path
                          d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79">
                        </path>
                      </svg></button></div>
                  <div class="pe r bv">
                    <div class="q"><a
                        href="https://web.archive.org/web/20200612094614/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c&amp;source=post_actions_footer--------------------------bookmark_footer-"
                        class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb" rel="noopener"><svg width="25" height="25"
                          viewbox="0 0 25 25">
                          <path
                            d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                            fill-rule="evenodd"></path>
                        </svg></a></div>
                  </div>
                </div>
              </div>
              <div class="pf pg ph nr r pi y">
                <div class="r g">
                  <div class="pj pk r de"><span class="r pl al pm">
                      <div class="r s pn po"><a rel="noopener"
                          href="/web/20200612094614/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-">
                          <div class="de pp pq">
                            <div class="bf n eu o p s ev ew ex ey ez cu"><svg width="91" height="91"
                                viewbox="0 0 91 91">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                  d="M45.5 1.4c-17.14 0-32 9.95-39.25 24.5L5 25.28C12.47 10.28 27.8 0 45.5 0S78.53 10.29 86 25.28l-1.25.62C77.5 11.35 62.65 1.4 45.5 1.4zM6.25 65.1c7.25 14.55 22.1 24.5 39.25 24.5 17.14 0 32-9.95 39.25-24.5l1.25.62C78.53 80.72 63.2 91 45.5 91S12.47 80.71 5 65.72l1.25-.62z">
                                </path>
                              </svg></div><img alt="Lup Yuen Lee 李立源" class="r fa pq pp"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/160/160/1*72qLH3RF4S4q2AcxlnIdSw.jpeg"
                              width="80" height="80" />
                          </div>
                        </a></div><span class="r">
                        <div class="pr r ps">
                          <p class="cc fe fy ce ch pt pu">Written by</p>
                        </div>
                        <div class="pr pv n ps">
                          <div class="ai n o eo">
                            <h2 class="cc ja ip pw ap"><a class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb"
                                rel="noopener"
                                href="/web/20200612094614/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-">Lup
                                Yuen Lee 李立源</a></h2>
                            <div class="r g"><button
                                class="px ap q fl fm fn fo fp bn ca fq fr fs ft fu fv fw cc b cd ce cf cg fz ga cq gb gc">Follow</button>
                            </div>
                          </div>
                        </div>
                      </span>
                    </span>
                    <div class="pr py r ps bb">
                      <div class="pz r">
                        <h4 class="cc fe lm qa ch">Techie and Educator in IoT 物聯網教師</h4>
                      </div>
                      <div class="ba qb bb"><button
                          class="px ap q fl fm fn fo fp bn ca fq fr fs ft fu fv fw cc b cd ce cf cg fz ga cq gb gc">Follow</button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="ba bb">
                  <div class="qc r">
                    <div class="n eu">
                      <div class="qd r"><a rel="noopener"
                          href="/web/20200612094614/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-">
                          <div class="de qe qf">
                            <div class="bf n eu o p s ev ew ex ey ez cu"><svg width="49" height="49"
                                viewbox="0 0 49 49">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                  d="M24.5 1.1c-9.39 0-17.53 5.55-21.51 13.66L2 14.28C6.15 5.82 14.66 0 24.5 0S42.85 5.82 47 14.28l-.99.48C42.03 6.65 33.9 1.1 24.5 1.1zM2.99 34.24C6.97 42.35 15.1 47.9 24.5 47.9c9.39 0 17.53-5.55 21.51-13.66l.99.48C42.85 43.18 34.34 49 24.5 49S6.15 43.18 2 34.72l.99-.48z">
                                </path>
                              </svg></div><img alt="Lup Yuen Lee 李立源" class="r fa qf qe"
                              src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/80/80/1*72qLH3RF4S4q2AcxlnIdSw.jpeg"
                              width="40" height="40" />
                          </div>
                        </a></div>
                      <div class="fb r">
                        <p class="cc fe qg qh ch pt pu">Written by</p>
                        <div class="n eu">
                          <h2 class="cc ja lm ce ap"><a class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb"
                              rel="noopener"
                              href="/web/20200612094614/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-">Lup
                              Yuen Lee 李立源</a></h2>
                          <div class="fb r"><button
                              class="fk ap q fl fm fn fo fp bn ca fq fr fs ft fu fv fw cc b cd fx fy cg fz ga cq gb gc">Follow</button>
                          </div>
                        </div>
                        <div class="qi r">
                          <h4 class="cc fe ff ce ch">Techie and Educator in IoT 物聯網教師</h4>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="qj pg r pi qk y"><a
                  href="https://web.archive.org/web/20200612094614/https://medium.com/p/3ba269ea2f5c/responses/show?source=follow_footer--------------------------follow_footer-"
                  class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb" rel="noopener"><span class="ql qm nb">
                    <div class="qn qo fw r ic g"><span class="be">Write the first response</span></div>
                  </span></a></div>
            </div>
          </div>
          <div class="qp r qq y">
            <div class="n p">
              <div class="z ab ac ae af ag ah ai">
                <div class="qr qs r">
                  <div class="qt qu qv qs r qw qx">
                    <h2 class="cc ja qy hd qz he ra rb rc rd re rf ap">More From Medium</h2>
                  </div>
                  <div class="rg n eu nq rh ri rj rk rl rm rn ro rp rq rr rs rt ru rv">
                    <div class="rw rx ry ho rz sa sb hq sc sd se sf sg sh si sj sk sl sm sn so">
                      <div class="sp sq r">
                        <div class="ai di">
                          <div class="n eo">
                            <div class="r sr ss st oc">
                              <div class="su r">
                                <h2 class="cc ja sv sw sx sy sz ta tb tc td te ap"><a rel="noopener"
                                    href="/web/20200612094614/https://medium.com/@ly.lee/visual-programming-with-embedded-rust-yes-we-can-with-apache-mynewt-and-google-blockly-8b67ef7412d7?source=post_internal_links---------0------------------">Visual
                                    Programming with Embedded Rust? Yes we can with Apache Mynewt and Google
                                    Blockly!</a></h2>
                              </div>
                              <div class="o n">
                                <div></div>
                                <div class="ai r">
                                  <div class="n">
                                    <div style="flex:1"><span class="cc b cd ce cf cg r ap q">
                                        <div class="cj n o fd"><span class="cc fe fy ce ap"><a
                                              class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb" rel="noopener"
                                              href="/web/20200612094614/https://medium.com/@ly.lee?source=post_internal_links---------0------------------">Lup
                                              Yuen Lee 李立源</a></span></div>
                                      </span></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="fb gm r ob tf"><a class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb r"
                                rel="noopener"
                                href="/web/20200612094614/https://medium.com/@ly.lee/visual-programming-with-embedded-rust-yes-we-can-with-apache-mynewt-and-google-blockly-8b67ef7412d7?source=post_internal_links---------0------------------">
                                <div class="dl r de dm">
                                  <div class="tg do r">
                                    <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*mdQJEEvM9AQsiTyhvVda7A.png?q=20"
                                        width="70" height="70" role="presentation" /></div><img
                                      class="dg dh th ti tj tk tl tm tn to tp tq ds" width="70" height="70"
                                      srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*mdQJEEvM9AQsiTyhvVda7A.png 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*mdQJEEvM9AQsiTyhvVda7A.png 70w"
                                      sizes="70px" role="presentation" /><noscript><img
                                        class="th ti tj tk tl tm tn to tp tq"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*mdQJEEvM9AQsiTyhvVda7A.png"
                                        width="70" height="70"
                                        srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*mdQJEEvM9AQsiTyhvVda7A.png 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*mdQJEEvM9AQsiTyhvVda7A.png 70w"
                                        sizes="70px" role="presentation" /></noscript>
                                  </div>
                                </div>
                              </a></div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="rw rx ry ho rz sa sb hq sc sd se sf sg sh si sj sk sl sm sn so">
                      <div class="sp sq r">
                        <div class="ai di">
                          <div class="n eo">
                            <div class="r sr ss st oc">
                              <div class="su r">
                                <h2 class="cc ja sv sw sx sy sz ta tb tc td te ap"><a rel="noopener"
                                    href="/web/20200612094614/https://medium.com/@dennis.luxen/breaking-circular-dependencies-in-recursive-union-types-with-c-17-the-curious-case-of-4ab00cfda10d?source=post_internal_links---------1------------------">Breaking
                                    Circular Dependencies in Recursive Union Types With C++17: The Curious Case of…</a>
                                </h2>
                              </div>
                              <div class="o n">
                                <div></div>
                                <div class="ai r">
                                  <div class="n">
                                    <div style="flex:1"><span class="cc b cd ce cf cg r ap q">
                                        <div class="cj n o fd"><span class="cc fe fy ce ap"><a
                                              class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb" rel="noopener"
                                              href="/web/20200612094614/https://medium.com/@dennis.luxen?source=post_internal_links---------1------------------">Don’t
                                              Compute In Public</a></span></div>
                                      </span></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="fb gm r ob tf"><a class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb r"
                                rel="noopener"
                                href="/web/20200612094614/https://medium.com/@dennis.luxen/breaking-circular-dependencies-in-recursive-union-types-with-c-17-the-curious-case-of-4ab00cfda10d?source=post_internal_links---------1------------------">
                                <div class="dl r de dm">
                                  <div class="tg do r">
                                    <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*hn4v1tCaJy7cWMyb0bpNpQ.png?q=20"
                                        width="70" height="70" role="presentation" /></div><img
                                      class="dg dh th ti tj tk tl tm tn to tp tq ds" width="70" height="70"
                                      srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png 70w"
                                      sizes="70px" role="presentation" /><noscript><img
                                        class="th ti tj tk tl tm tn to tp tq"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png"
                                        width="70" height="70"
                                        srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*hn4v1tCaJy7cWMyb0bpNpQ.png 70w"
                                        sizes="70px" role="presentation" /></noscript>
                                  </div>
                                </div>
                              </a></div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="rw rx ry ho rz sa sb hq sc sd se sf sg sh si sj sk sl sm sn so">
                      <div class="sp sq r">
                        <div class="ai di">
                          <div class="n eo">
                            <div class="r sr ss st oc">
                              <div class="su r">
                                <h2 class="cc ja sv sw sx sy sz ta tb tc td te ap"><a
                                    href="https://web.archive.org/web/20200612094614/https://levelup.gitconnected.com/using-sqlite-with-rust-and-actix-web-with-tests-11a935ac3d95?source=post_internal_links---------2------------------"
                                    rel="noopener nofollow">Using SQLite with Rust and Actix Web (with Tests)</a></h2>
                              </div>
                              <div class="o n">
                                <div></div>
                                <div class="ai r">
                                  <div class="n">
                                    <div style="flex:1"><span class="cc b cd ce cf cg r ap q">
                                        <div class="cj n o fd"><span class="cc fe fy ce ap"><a
                                              class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb" rel="noopener"
                                              href="/web/20200612094614/https://medium.com/@ukchukx?source=post_internal_links---------2------------------">Uk
                                              Chukundah</a><span>
                                              <!-- -->in
                                              <!-- --> <a
                                                href="https://web.archive.org/web/20200612094614/https://levelup.gitconnected.com/?source=post_internal_links---------2------------------"
                                                class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb"
                                                rel="noopener nofollow">Level Up Coding</a>
                                            </span></span></div>
                                      </span></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="fb gm r ob tf"><a
                                href="https://web.archive.org/web/20200612094614/https://levelup.gitconnected.com/using-sqlite-with-rust-and-actix-web-with-tests-11a935ac3d95?source=post_internal_links---------2------------------"
                                class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb r" rel="noopener nofollow">
                                <div class="dl r de dm">
                                  <div class="tg do r">
                                    <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/0*Y_p2i3T0L0Y3w9Hw.jpg?q=20"
                                        width="70" height="70" role="presentation" /></div><img
                                      class="dg dh th ti tj tk tl tm tn to tp tq ds" width="70" height="70"
                                      srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/0*Y_p2i3T0L0Y3w9Hw.jpg 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/0*Y_p2i3T0L0Y3w9Hw.jpg 70w"
                                      sizes="70px" role="presentation" /><noscript><img
                                        class="th ti tj tk tl tm tn to tp tq"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/0*Y_p2i3T0L0Y3w9Hw.jpg"
                                        width="70" height="70"
                                        srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/0*Y_p2i3T0L0Y3w9Hw.jpg 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/0*Y_p2i3T0L0Y3w9Hw.jpg 70w"
                                        sizes="70px" role="presentation" /></noscript>
                                  </div>
                                </div>
                              </a></div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="rw rx ry ho rz sa sb hq sc sd se sf sg sh si sj sk sl sm sn so">
                      <div class="sp sq r">
                        <div class="ai di">
                          <div class="n eo">
                            <div class="r sr ss st oc">
                              <div class="su r">
                                <h2 class="cc ja sv sw sx sy sz ta tb tc td te ap"><a rel="noopener"
                                    href="/web/20200612094614/https://medium.com/swlh/binary-search-vs-eytzinger-order-301f0a9a797d?source=post_internal_links---------3------------------">Binary
                                    Search vs. Eytzinger Order</a></h2>
                              </div>
                              <div class="o n">
                                <div></div>
                                <div class="ai r">
                                  <div class="n">
                                    <div style="flex:1"><span class="cc b cd ce cf cg r ap q">
                                        <div class="cj n o fd"><span class="cc fe fy ce ap"><a
                                              class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb" rel="noopener"
                                              href="/web/20200612094614/https://medium.com/@icex33?source=post_internal_links---------3------------------">Maxim
                                              Zaks</a><span>
                                              <!-- -->in
                                              <!-- --> <a
                                                href="/web/20200612094614/https://medium.com/swlh?source=post_internal_links---------3------------------"
                                                class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb" rel="noopener">The
                                                Startup</a>
                                            </span></span></div>
                                      </span></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="fb gm r ob tf"><a class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb r"
                                rel="noopener"
                                href="/web/20200612094614/https://medium.com/swlh/binary-search-vs-eytzinger-order-301f0a9a797d?source=post_internal_links---------3------------------">
                                <div class="dl r de dm">
                                  <div class="tg do r">
                                    <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*oDNtPnLQgA5Z2X8dn1yQdQ.png?q=20"
                                        width="70" height="70" role="presentation" /></div><img
                                      class="dg dh th ti tj tk tl tm tn to tp tq ds" width="70" height="70"
                                      srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*oDNtPnLQgA5Z2X8dn1yQdQ.png 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*oDNtPnLQgA5Z2X8dn1yQdQ.png 70w"
                                      sizes="70px" role="presentation" /><noscript><img
                                        class="th ti tj tk tl tm tn to tp tq"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*oDNtPnLQgA5Z2X8dn1yQdQ.png"
                                        width="70" height="70"
                                        srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*oDNtPnLQgA5Z2X8dn1yQdQ.png 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*oDNtPnLQgA5Z2X8dn1yQdQ.png 70w"
                                        sizes="70px" role="presentation" /></noscript>
                                  </div>
                                </div>
                              </a></div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="rw rx ry ho rz sa sb hq sc sd se sf sg sh si sj sk sl sm sn so">
                      <div class="sp sq r">
                        <div class="ai di">
                          <div class="n eo">
                            <div class="r sr ss st oc">
                              <div class="su r">
                                <h2 class="cc ja sv sw sx sy sz ta tb tc td te ap"><a rel="noopener"
                                    href="/web/20200612094614/https://medium.com/@ly.lee/stm32-blue-pill-dissecting-the-webusb-bootloader-for-makecode-b7f1a1508e89?source=post_internal_links---------4------------------">STM32
                                    Blue Pill — Dissecting the WebUSB Bootloader for MakeCode</a></h2>
                              </div>
                              <div class="o n">
                                <div></div>
                                <div class="ai r">
                                  <div class="n">
                                    <div style="flex:1"><span class="cc b cd ce cf cg r ap q">
                                        <div class="cj n o fd"><span class="cc fe fy ce ap"><a
                                              class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb" rel="noopener"
                                              href="/web/20200612094614/https://medium.com/@ly.lee?source=post_internal_links---------4------------------">Lup
                                              Yuen Lee 李立源</a></span></div>
                                      </span></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="fb gm r ob tf"><a class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb r"
                                rel="noopener"
                                href="/web/20200612094614/https://medium.com/@ly.lee/stm32-blue-pill-dissecting-the-webusb-bootloader-for-makecode-b7f1a1508e89?source=post_internal_links---------4------------------">
                                <div class="dl r de dm">
                                  <div class="tg do r">
                                    <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*0P7BkmUox48Rak_cta48QA.png?q=20"
                                        width="70" height="70" role="presentation" /></div><img
                                      class="dg dh th ti tj tk tl tm tn to tp tq ds" width="70" height="70"
                                      srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*0P7BkmUox48Rak_cta48QA.png 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*0P7BkmUox48Rak_cta48QA.png 70w"
                                      sizes="70px" role="presentation" /><noscript><img
                                        class="th ti tj tk tl tm tn to tp tq"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*0P7BkmUox48Rak_cta48QA.png"
                                        width="70" height="70"
                                        srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*0P7BkmUox48Rak_cta48QA.png 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*0P7BkmUox48Rak_cta48QA.png 70w"
                                        sizes="70px" role="presentation" /></noscript>
                                  </div>
                                </div>
                              </a></div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="rw rx ry ho rz sa sb hq sc sd se sf sg sh si sj sk sl sm sn so">
                      <div class="sp sq r">
                        <div class="ai di">
                          <div class="n eo">
                            <div class="r sr ss st oc">
                              <div class="su r">
                                <h2 class="cc ja sv sw sx sy sz ta tb tc td te ap"><a rel="noopener"
                                    href="/web/20200612094614/https://medium.com/@ly.lee/sigfox-teacher-answers-your-questions-7e47122716dc?source=post_internal_links---------5------------------">Sigfox
                                    Teacher Answers Your Questions</a></h2>
                              </div>
                              <div class="o n">
                                <div></div>
                                <div class="ai r">
                                  <div class="n">
                                    <div style="flex:1"><span class="cc b cd ce cf cg r ap q">
                                        <div class="cj n o fd"><span class="cc fe fy ce ap"><a
                                              class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb" rel="noopener"
                                              href="/web/20200612094614/https://medium.com/@ly.lee?source=post_internal_links---------5------------------">Lup
                                              Yuen Lee 李立源</a></span></div>
                                      </span></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="fb gm r ob tf"><a class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb r"
                                rel="noopener"
                                href="/web/20200612094614/https://medium.com/@ly.lee/sigfox-teacher-answers-your-questions-7e47122716dc?source=post_internal_links---------5------------------">
                                <div class="dl r de dm">
                                  <div class="tg do r">
                                    <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*C5-q9x36EEXy_rIdr9zvkg.jpeg?q=20"
                                        width="70" height="70" role="presentation" /></div><img
                                      class="dg dh th ti tj tk tl tm tn to tp tq ds" width="70" height="70"
                                      srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*C5-q9x36EEXy_rIdr9zvkg.jpeg 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*C5-q9x36EEXy_rIdr9zvkg.jpeg 70w"
                                      sizes="70px" role="presentation" /><noscript><img
                                        class="th ti tj tk tl tm tn to tp tq"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*C5-q9x36EEXy_rIdr9zvkg.jpeg"
                                        width="70" height="70"
                                        srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*C5-q9x36EEXy_rIdr9zvkg.jpeg 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*C5-q9x36EEXy_rIdr9zvkg.jpeg 70w"
                                        sizes="70px" role="presentation" /></noscript>
                                  </div>
                                </div>
                              </a></div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="rw rx ry ho rz sa sb hq sc sd se sf sg sh si sj sk sl sm sn so">
                      <div class="sp sq r">
                        <div class="ai di">
                          <div class="n eo">
                            <div class="r sr ss st oc">
                              <div class="su r">
                                <h2 class="cc ja sv sw sx sy sz ta tb tc td te ap"><a
                                    href="https://web.archive.org/web/20200612094614/https://blog.usejournal.com/visual-embedded-rust-programming-with-visual-studio-code-1bc1262e398c?source=post_internal_links---------6------------------"
                                    rel="noopener nofollow">Visual Embedded Rust Programming with Visual Studio Code</a>
                                </h2>
                              </div>
                              <div class="o n">
                                <div></div>
                                <div class="ai r">
                                  <div class="n">
                                    <div style="flex:1"><span class="cc b cd ce cf cg r ap q">
                                        <div class="cj n o fd"><span class="cc fe fy ce ap"><a
                                              class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb" rel="noopener"
                                              href="/web/20200612094614/https://medium.com/@ly.lee?source=post_internal_links---------6------------------">Lup
                                              Yuen Lee 李立源</a><span>
                                              <!-- -->in
                                              <!-- --> <a
                                                href="https://web.archive.org/web/20200612094614/https://blog.usejournal.com/?source=post_internal_links---------6------------------"
                                                class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb"
                                                rel="noopener nofollow">Noteworthy - The Journal Blog</a>
                                            </span></span></div>
                                      </span></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="fb gm r ob tf"><a
                                href="https://web.archive.org/web/20200612094614/https://blog.usejournal.com/visual-embedded-rust-programming-with-visual-studio-code-1bc1262e398c?source=post_internal_links---------6------------------"
                                class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb r" rel="noopener nofollow">
                                <div class="dl r de dm">
                                  <div class="tg do r">
                                    <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*cWkz4VgkkdnGOdTMoAxcmQ.png?q=20"
                                        width="70" height="70" role="presentation" /></div><img
                                      class="dg dh th ti tj tk tl tm tn to tp tq ds" width="70" height="70"
                                      srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*cWkz4VgkkdnGOdTMoAxcmQ.png 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*cWkz4VgkkdnGOdTMoAxcmQ.png 70w"
                                      sizes="70px" role="presentation" /><noscript><img
                                        class="th ti tj tk tl tm tn to tp tq"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*cWkz4VgkkdnGOdTMoAxcmQ.png"
                                        width="70" height="70"
                                        srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*cWkz4VgkkdnGOdTMoAxcmQ.png 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*cWkz4VgkkdnGOdTMoAxcmQ.png 70w"
                                        sizes="70px" role="presentation" /></noscript>
                                  </div>
                                </div>
                              </a></div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="rw rx ry ho rz sa sb hq sc sd se sf sg sh si sj sk sl sm sn so">
                      <div class="sp sq r">
                        <div class="ai di">
                          <div class="n eo">
                            <div class="r sr ss st oc">
                              <div class="su r">
                                <h2 class="cc ja sv sw sx sy sz ta tb tc td te ap"><a rel="noopener"
                                    href="/web/20200612094614/https://medium.com/@ssofia/curiosity-strikes-the-intricacies-before-main-in-c-d4327714f8ee?source=post_internal_links---------7------------------">Curiosity
                                    Strikes! The Intricacies Before main() in C</a></h2>
                              </div>
                              <div class="o n">
                                <div></div>
                                <div class="ai r">
                                  <div class="n">
                                    <div style="flex:1"><span class="cc b cd ce cf cg r ap q">
                                        <div class="cj n o fd"><span class="cc fe fy ce ap"><a
                                              class="bw bx bg bh bi bj bk bl bm bn fi bq ca cb" rel="noopener"
                                              href="/web/20200612094614/https://medium.com/@ssofia?source=post_internal_links---------7------------------">Stella
                                              Sofia</a></span></div>
                                      </span></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="fb gm r ob tf"><a class="bw bx bg bh bi bj bk bl bm bn by bz bq ca cb r"
                                rel="noopener"
                                href="/web/20200612094614/https://medium.com/@ssofia/curiosity-strikes-the-intricacies-before-main-in-c-d4327714f8ee?source=post_internal_links---------7------------------">
                                <div class="dl r de dm">
                                  <div class="tg do r">
                                    <div class="dg dh s t u di ai av dj dk"><img class="s t u di ai dp dq dr"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/60/1*7_Z7QZWhqnN8PWIbGVbgSA.png?q=20"
                                        width="70" height="70" role="presentation" /></div><img
                                      class="dg dh th ti tj tk tl tm tn to tp tq ds" width="70" height="70"
                                      srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*7_Z7QZWhqnN8PWIbGVbgSA.png 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*7_Z7QZWhqnN8PWIbGVbgSA.png 70w"
                                      sizes="70px" role="presentation" /><noscript><img
                                        class="th ti tj tk tl tm tn to tp tq"
                                        src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*7_Z7QZWhqnN8PWIbGVbgSA.png"
                                        width="70" height="70"
                                        srcset="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/96/140/1*7_Z7QZWhqnN8PWIbGVbgSA.png 48w, https://web.archive.org/web/20200612094614im_/https://miro.medium.com/fit/c/140/140/1*7_Z7QZWhqnN8PWIbGVbgSA.png 70w"
                                        sizes="70px" role="presentation" /></noscript>
                                  </div>
                                </div>
                              </a></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="tr r ts tt">
        <section class="cn co ai cq r tu tv tw tx ty tz ua ub uc ud ue uf ug uh ui">
          <div class="uj uk pj n eo g">
            <div class="ul n eo">
              <div class="um r un">
                <div class="uo r"><a class="bw bx bg bh bi bj bk bl bm bn up uq bq ur us" rel="noopener"
                    href="/web/20200612094614/https://medium.com/about?autoplay=1&amp;source=post_page-----3ba269ea2f5c----------------------">
                    <h4 class="ut uu uv cc ja cd qa uw ux r">Discover
                      <!-- -->Medium
                    </h4>
                  </a></div><span class="cc b cd ce cf cg r uy uz">Welcome to a place where words matter. On
                  <!-- -->Medium
                  <!-- -->, smart voices and original ideas take center stage - with no ads in sight.
                  <!-- --> <a class="bw bx bg bh bi bj bk bl bm bn bq ur us va" rel="noopener"
                    href="/web/20200612094614/https://medium.com/about?autoplay=1&amp;source=post_page-----3ba269ea2f5c----------------------">Watch</a>
                </span>
              </div>
              <div class="um r un">
                <div class="su r"><a
                    href="https://web.archive.org/web/20200612094614/https://medium.com/topics?source=post_page-----3ba269ea2f5c----------------------"
                    class="bw bx bg bh bi bj bk bl bm bn up uq bq ur us" rel="noopener">
                    <h4 class="ut uu uv cc ja cd qa uw ux r">Make
                      <!-- -->Medium
                      <!-- --> yours
                    </h4>
                  </a></div><span class="cc b cd ce cf cg r uy uz">Follow all the topics you care about, and we’ll
                  deliver the best stories for you to your homepage and inbox.
                  <!-- --> <a
                    href="https://web.archive.org/web/20200612094614/https://medium.com/topics?source=post_page-----3ba269ea2f5c----------------------"
                    class="bw bx bg bh bi bj bk bl bm bn bq ur us va" rel="noopener">Explore</a>
                </span>
              </div>
              <div class="um r un">
                <div class="uo r"><a class="bw bx bg bh bi bj bk bl bm bn up uq bq ur us" rel="noopener"
                    href="/web/20200612094614/https://medium.com/membership?source=post_page-----3ba269ea2f5c----------------------">
                    <h4 class="ut uu uv cc ja cd qa uw ux r">Become a member</h4>
                  </a></div><span class="cc b cd ce cf cg r uy uz">Get unlimited access to the best stories on
                  <!-- -->Medium
                  <!-- --> — and support writers while you’re at it. Just $5/month.
                  <!-- --> <a class="bw bx bg bh bi bj bk bl bm bn bq ur us va" rel="noopener"
                    href="/web/20200612094614/https://medium.com/membership?source=post_page-----3ba269ea2f5c----------------------">Upgrade</a>
                </span>
              </div>
            </div>
          </div>
          <div class="n lj">
            <div class="n o eo"><a class="bw bx bg bh bi bj bk bl bm bn up uq bq ur us" rel="noopener"
                href="/web/20200612094614/https://medium.com/?source=post_page-----3ba269ea2f5c----------------------"><svg
                  height="22" width="112" viewbox="0 0 111.5 22" class="uu">
                  <path
                    d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z">
                  </path>
                </svg></a><span class="cc b cd ce cf cg r uy uz">
                <div class="qi vb n eo vc al">
                  <h4 class="cc fe lm qa ut"><a class="bw bx bg bh bi bj bk bl bm bn fi bq ur us" rel="noopener"
                      href="/web/20200612094614/https://medium.com/about?autoplay=1&amp;source=post_page-----3ba269ea2f5c----------------------">About</a>
                  </h4>
                  <h4 class="cc fe lm qa ut"><a
                      href="https://web.archive.org/web/20200612094614/https://help.medium.com/?source=post_page-----3ba269ea2f5c----------------------"
                      class="bw bx bg bh bi bj bk bl bm bn fi bq ur us" rel="noopener">Help</a></h4>
                  <h4 class="cc fe lm qa ut"><a class="bw bx bg bh bi bj bk bl bm bn fi bq ur us" rel="noopener"
                      href="/web/20200612094614/https://medium.com/policy/9db0094a1e0f?source=post_page-----3ba269ea2f5c----------------------">Legal</a>
                  </h4>
                </div>
              </span></div>
            <div class="ba vd ve al">
              <h4 class="cc fe lm qa uy">Get the Medium app</h4>
            </div>
            <div class="ba vd vf al vg">
              <div class="vh r"><a
                  href="https://web.archive.org/web/20200612094614/https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&amp;mt=8&amp;ct=post_page&amp;source=post_page-----3ba269ea2f5c----------------------"
                  class="bw bx bg bh bi bj bk bl bm bn up uq bq ur us" rel="noopener nofollow"><img
                    alt="A button that says 'Download on the App Store', and if clicked it will lead you to the iOS App store"
                    class=""
                    src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/270/1*M2FVPPidy2x386MRAE-EeA.png"
                    width="135" height="41" /></a></div>
              <div class="r"><a
                  href="https://web.archive.org/web/20200612094614/https://play.google.com/store/apps/details?id=com.medium.reader&amp;source=post_page-----3ba269ea2f5c----------------------"
                  class="bw bx bg bh bi bj bk bl bm bn up uq bq ur us" rel="noopener nofollow"><img
                    alt="A button that says 'Get it on, Google Play', and if clicked it will lead you to the Google Play store"
                    class=""
                    src="https://web.archive.org/web/20200612094614im_/https://miro.medium.com/max/270/1*HyH8oIcJvXp7xzu5oF6dTg.png"
                    width="135" height="41" /></a></div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
  <script>window.__BUILD_ID__ = "master-20200611-215216-2036698c34"</script>
  <script>window.__GRAPHQL_URI__ = "https://web.archive.org/web/20200612094614/https://medium.com/_/graphql"</script>
  <script>window.__PRELOADED_STATE__ = { "config": { "nodeEnv": "production", "version": "master-20200611-215216-2036698c34", "productName": "Medium", "publicUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fcdn-client.medium.com\u002Flite", "authDomain": "medium.com", "authGoogleClientId": "216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com", "favicon": "production", "glyphUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fglyph.medium.com", "branchKey": "key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm", "lightStep": { "name": "lite-web", "host": "lightstep.medium.systems", "token": "ce5be895bef60919541332990ac9fef2", "appVersion": "master-20200611-215216-2036698c34" }, "algolia": { "appId": "MQ57UUUQZ2", "apiKeySearch": "394474ced050e3911ae2249ecc774921", "indexPrefix": "medium_", "host": "-dsn.algolia.net" }, "recaptchaKey": "6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk", "recaptcha3Key": "6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5", "datadog": { "clientToken": "pub853ea8d17ad6821d9f8f11861d23dfed", "context": { "deployment": { "target": "production", "tag": "master-20200611-215216-2036698c34", "commit": "2036698c34af2a13b1246df808f856fb5eba3c10" } }, "datacenter": "us" }, "isAmp": false, "googleAnalyticsCode": "UA-24232453-2", "signInWallCustomDomainCollectionIds": ["3a8144eabfe3", "336d898217ee", "61061eb0c96b", "138adf9c44c", "819cc2aaeee0"], "mediumOwnedAndOperatedCollectionIds": ["544c7006046e", "bcc38c8f6edf", "444d13b52878", "8d6b8a439e32", "92d2092dc598", "1285ba81cada", "cb8577c9149e", "8ccfed20cbb2", "ae2a65f35510", "3f6ecf56618", "7b6769f2748b", "fc8964313712", "ef8e90590e66", "191186aaafa0", "d944778ce714", "bdc4052bbdba", "88d9857e584e", "9dc80918cc93"], "tierOneDomains": ["medium.com", "thebolditalic.com", "arcdigital.media", "towardsdatascience.com", "uxdesign.cc", "codeburst.io", "psiloveyou.xyz", "writingcooperative.com", "entrepreneurshandbook.co", "prototypr.io", "betterhumans.coach.me", "theascent.pub"], "defaultImages": { "avatar": { "imageId": "1*dmbNkD5D-u45r44go_cf0g.png", "height": 150, "width": 150 }, "orgLogo": { "imageId": "1*OMF3fSqH8t4xBJ9-6oZDZw.png", "height": 106, "width": 545 }, "postLogo": { "imageId": "1*3sela1OADrJr7dJk_CXaEQ.png", "height": 810, "width": 1440 }, "postPreviewImage": { "imageId": "1*hn4v1tCaJy7cWMyb0bpNpQ.png", "height": 386, "width": 579 } }, "performanceTags": [], "collectionStructuredData": { "8d6b8a439e32": { "name": "Elemental", "data": { "@type": "NewsMediaOrganization", "ethicsPolicy": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473", "logo": { "@type": "ImageObject", "url": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png", "width": 980, "height": 159 } } }, "3f6ecf56618": { "name": "Forge", "data": { "@type": "NewsMediaOrganization", "ethicsPolicy": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473", "logo": { "@type": "ImageObject", "url": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png", "width": 596, "height": 183 } } }, "ae2a65f35510": { "name": "GEN", "data": { "@type": "NewsMediaOrganization", "ethicsPolicy": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473", "logo": { "@type": "ImageObject", "url": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png", "width": 264, "height": 140 } } }, "88d9857e584e": { "name": "LEVEL", "data": { "@type": "NewsMediaOrganization", "ethicsPolicy": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473", "logo": { "@type": "ImageObject", "url": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png", "width": 540, "height": 108 } } }, "7b6769f2748b": { "name": "Marker", "data": { "@type": "NewsMediaOrganization", "ethicsPolicy": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473", "logo": { "@type": "ImageObject", "url": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png", "width": 383, "height": 92 } } }, "444d13b52878": { "name": "OneZero", "data": { "@type": "NewsMediaOrganization", "ethicsPolicy": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473", "logo": { "@type": "ImageObject", "url": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png", "width": 540, "height": 123 } } }, "8ccfed20cbb2": { "name": "Zora", "data": { "@type": "NewsMediaOrganization", "ethicsPolicy": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473", "logo": { "@type": "ImageObject", "url": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png", "width": 540, "height": 106 } } } }, "embeddedPostIds": { "coronavirus": "cd3010f9d81f" }, "sharedCdcMessaging": { "COVID_APPLICABLE_TAG_SLUGS": ["pandemic", "epidemic", "coronavirus", "covid19", "co-vid-19", "containment", "self-care", "flatten-the-curve", "public-health", "virus", "public-health-crisis", "quarantine", "self-quarantine", "zika", "corona", "disease-prevention", "wuhan", "chinavirus", "outbreak", "influenza", "socialdistancing", "social-distance", "flu", "vaccines", "healthcare", "medicine", "conspiracy-theories", "conspiracy", "virality", "epidemia", "pandemia", "salud", "corona-e-virus", "coronavirus-covid19", "covid-19", "covid-19-symptoms", "covid-19-crisis", "covid-19-testing", "covid-19-treatment", "coronavirus-update", "coronavirus-diaries"], "COVID_APPLICABLE_TOPIC_NAMES": ["coronavirus"], "COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE": ["coronavirus", "health"], "COVID_MESSAGES": { "tierA": { "text": "For more information on the novel coronavirus and Covid-19, visit cdc.gov.", "markups": [{ "start": 66, "end": 73, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV" }] }, "tierB": { "text": "Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.", "markups": [{ "start": 37, "end": 45, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety" }, { "start": 125, "end": 132, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV" }] }, "paywall": { "text": "This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.", "markups": [{ "start": 56, "end": 70, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002Fmembership" }, { "start": 138, "end": 145, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV" }] } }, "COVID_BANNER_POST_ID_OVERRIDE_WHITELIST": ["3b31a67bff4a"] }, "embedPostRules": [], "recircOptions": { "v1": { "limit": 3 }, "v2": { "limit": 8 } }, "braintreeClientKey": "production_zjkj96jm_m56f8fqpf7ngnrd4" }, "debug": { "requestId": "fb4e91b3-6fc8-4cda-9ab5-4c48296bd2de", "edge": "", "originalSpanCarrier": { "ot-tracer-spanid": "64d7fb81536ce257", "ot-tracer-traceid": "444ac3c21df932af", "ot-tracer-sampled": "true" } }, "session": { "user": { "id": "lo_SoitE6LMtMyT" }, "xsrf": "", "isSpoofed": false }, "stats": { "itemCount": 0, "sending": false, "timeout": null, "backup": {} }, "navigation": { "branch": { "show": null, "hasRendered": null, "blockedByCTA": false }, "hideGoogleOneTap": false, "hasRenderedGoogleOneTap": null, "hasRenderedAlternateUserBanner": null, "currentLocation": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "host": "medium.com", "hostname": "medium.com", "referrer": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81", "susiModal": { "step": null, "operation": "register" }, "postRead": false }, "client": { "isBot": false, "isCustomDomain": false, "isEu": false, "isNativeMedium": false, "isSafariMobile": false, "inAppBrowserName": "", "supportsWebp": false }, "multiVote": { "clapsPerPost": {} }, "tracing": {} }</script>
  <script>window.__APOLLO_STATE__ = { "ROOT_QUERY": { "viewer": null, "variantFlags": [{ "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.0", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.1", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.2", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.3", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.4", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.5", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.6", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.7", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.8", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.9", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.10", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.11", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.12", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.13", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.14", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.15", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.16", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.17", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.18", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.19", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.20", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.21", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.22", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.23", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.24", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.25", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.26", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.27", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.28", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.29", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.30", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.31", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.32", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.33", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.34", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.35", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.36", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.37", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.38", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.39", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.40", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.41", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.42", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.43", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.44", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.45", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.46", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.47", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.48", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.49", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.50", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.51", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.52", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.53", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.54", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.55", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.56", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.57", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.58", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.59", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.60", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.61", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.62", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.63", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.64", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.65", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.66", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.67", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.68", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.69", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.70", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.71", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.72", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.73", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.74", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.75", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.76", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.77", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.78", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.79", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.80", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.81", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.82", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.83", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.84", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.85", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.86", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.87", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.88", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.89", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.90", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.91", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.92", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.93", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.94", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.95", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.96", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.97", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.98", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.99", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.100", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.101", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.102", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.103", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.104", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.105", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.106", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.107", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.108", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.109", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.110", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.111", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.112", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.113", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.114", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.115", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.116", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.117", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.118", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.119", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.120", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.121", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.122", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.123", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.124", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.125", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.126", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.127", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.128", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.129", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.130", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.131", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.132", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.133", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.134", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.135", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.136", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.137", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.138", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.139", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.140", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.141", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.142", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.143", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.144", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.145", "typename": "VariantFlag" }], "meterPost({\"postId\":\"3ba269ea2f5c\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}})": { "type": "id", "generated": false, "id": "MeteringInfo:singleton", "typename": "MeteringInfo" }, "postResult({\"id\":\"3ba269ea2f5c\"})": { "type": "id", "generated": false, "id": "Post:3ba269ea2f5c", "typename": "Post" } }, "ROOT_QUERY.variantFlags.0": { "name": "add_friction_to_signup", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.0.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.0.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.1": { "name": "allow_access", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.1.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.1.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.2": { "name": "allow_signup", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.2.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.2.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.3": { "name": "allow_test_auth", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.3.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.3.valueType": { "__typename": "VariantFlagString", "value": "disallow" }, "ROOT_QUERY.variantFlags.4": { "name": "assign_default_topic_to_posts", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.4.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.4.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.5": { "name": "available_annual_plan", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.5.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.5.valueType": { "__typename": "VariantFlagString", "value": "2c754bcc2995" }, "ROOT_QUERY.variantFlags.6": { "name": "available_monthly_plan", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.6.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.6.valueType": { "__typename": "VariantFlagString", "value": "60e220181034" }, "ROOT_QUERY.variantFlags.7": { "name": "bane_add_user", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.7.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.7.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.8": { "name": "branch_seo_metadata", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.8.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.8.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.9": { "name": "browsable_stream_config_bucket", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.9.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.9.valueType": { "__typename": "VariantFlagString", "value": "curated-topics" }, "ROOT_QUERY.variantFlags.10": { "name": "coronavirus_topic_recirc", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.10.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.10.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.11": { "name": "covid_19_cdc_banner", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.11.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.11.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.12": { "name": "disable_android_subscription_activity_carousel", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.12.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.12.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.13": { "name": "disable_gosocial_followers_that_you_follow", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.13.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.13.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.14": { "name": "disable_ios_resume_reading_toast", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.14.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.14.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.15": { "name": "disable_ios_subscription_activity_carousel", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.15.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.15.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.16": { "name": "disable_mobile_featured_chunk", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.16.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.16.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.17": { "name": "disable_post_recommended_from_friends_provider", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.17.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.17.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.18": { "name": "enable_alternate_onboarding_email_subject", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.18.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.18.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.19": { "name": "enable_android_local_currency", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.19.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.19.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.20": { "name": "enable_annual_renewal_reminder_email", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.20.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.20.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.21": { "name": "enable_app_flirty_thirty", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.21.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.21.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.22": { "name": "enable_apple_sign_in", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.22.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.22.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.23": { "name": "enable_automated_mission_control_triggers", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.23.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.23.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.24": { "name": "enable_braintree_integration", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.24.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.24.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.25": { "name": "enable_braintree_webhook", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.25.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.25.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.26": { "name": "enable_branch_io", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.26.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.26.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.27": { "name": "enable_branding", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.27.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.27.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.28": { "name": "enable_branding_fonts", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.28.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.28.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.29": { "name": "enable_cc_trial_member_onboarding_emails", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.29.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.29.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.30": { "name": "enable_cleansweep_cachev2_reads", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.30.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.30.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.31": { "name": "enable_cleansweep_double_writes", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.31.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.31.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.32": { "name": "enable_confirm_sign_in", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.32.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.32.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.33": { "name": "enable_cta_meter", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.33.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.33.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.34": { "name": "enable_curation_priority_queue_experiment", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.34.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.34.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.35": { "name": "enable_dedicated_series_tab_api_ios", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.35.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.35.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.36": { "name": "enable_different_grid", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.36.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.36.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.37": { "name": "enable_digest_feature_logging", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.37.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.37.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.38": { "name": "enable_digest_tagline", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.38.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.38.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.39": { "name": "enable_disregard_trunc_state_for_footer", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.39.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.39.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.40": { "name": "enable_edit_alt_text", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.40.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.40.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.41": { "name": "enable_email_sign_in_captcha", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.41.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.41.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.42": { "name": "enable_embedding_based_diversification", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.42.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.42.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.43": { "name": "enable_end_of_post_cleanup", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.43.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.43.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.44": { "name": "enable_expanded_feature_chunk_pool", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.44.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.44.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.45": { "name": "enable_filter_by_resend_rules", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.45.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.45.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.46": { "name": "enable_filter_expire_processor", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.46.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.46.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.47": { "name": "enable_first_name_on_paywall", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.47.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.47.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.48": { "name": "enable_footer_app_buttons", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.48.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.48.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.49": { "name": "enable_free_corona_topic", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.49.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.49.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.50": { "name": "enable_global_susi_modal", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.50.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.50.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.51": { "name": "enable_google_one_tap", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.51.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.51.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.52": { "name": "enable_highlander_member_digest", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.52.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.52.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.53": { "name": "enable_icelandic_truncated_posts", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.53.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.53.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.54": { "name": "enable_ios_post_stats", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.54.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.54.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.55": { "name": "enable_janky_spam_rules", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.55.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.55.valueType": { "__typename": "VariantFlagString", "value": "users,posts" }, "ROOT_QUERY.variantFlags.56": { "name": "enable_json_logs_trained_ranker", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.56.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.56.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.57": { "name": "enable_kafka_events", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.57.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.57.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.58": { "name": "enable_kbfd_rex", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.58.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.58.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.59": { "name": "enable_kbfd_rex_app_highlights", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.59.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.59.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.60": { "name": "enable_kbfd_rex_daily_digest", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.60.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.60.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.61": { "name": "enable_li_open_in_app", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.61.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.61.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.62": { "name": "enable_lite_about_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.62.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.62.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.63": { "name": "enable_lite_notifications", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.63.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.63.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.64": { "name": "enable_lite_post", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.64.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.64.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.65": { "name": "enable_lite_post_cd", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.65.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.65.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.66": { "name": "enable_lite_post_highlights", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.66.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.66.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.67": { "name": "enable_lite_post_highlights_view_only", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.67.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.67.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.68": { "name": "enable_lite_profile", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.68.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.68.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.69": { "name": "enable_lite_pub_header_menu", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.69.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.69.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.70": { "name": "enable_lite_pub_homepage_for_selected_domains", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.70.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.70.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.71": { "name": "enable_lite_server_upstream_deadlines", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.71.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.71.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.72": { "name": "enable_lite_stories", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.72.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.72.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.73": { "name": "enable_lite_topics", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.73.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.73.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.74": { "name": "enable_lite_unread_notification_count_mutation", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.74.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.74.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.75": { "name": "enable_lo_homepage", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.75.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.75.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.76": { "name": "enable_lo_open_in_app", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.76.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.76.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.77": { "name": "enable_logged_out_history", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.77.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.77.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.78": { "name": "enable_login_code_flow", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.78.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.78.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.79": { "name": "enable_m2_unviewable_filter", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.79.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.79.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.80": { "name": "enable_marketing_emails", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.80.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.80.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.81": { "name": "enable_media_resource_try_catch", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.81.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.81.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.82": { "name": "enable_membership_remove_section_a", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.82.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.82.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.83": { "name": "enable_miro_on_kubernetes", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.83.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.83.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.84": { "name": "enable_ml_rank_modules", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.84.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.84.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.85": { "name": "enable_ml_rank_rex_anno", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.85.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.85.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.86": { "name": "enable_monthly_member_onboarding_emails", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.86.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.86.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.87": { "name": "enable_more_on_coronavirus", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.87.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.87.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.88": { "name": "enable_mute", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.88.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.88.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.89": { "name": "enable_new_collaborative_filtering_data", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.89.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.89.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.90": { "name": "enable_new_suspended_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.90.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.90.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.91": { "name": "enable_new_three_dot_menu", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.91.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.91.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.92": { "name": "enable_newsletter_v3", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.92.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.92.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.93": { "name": "enable_olsen", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.93.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.93.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.94": { "name": "enable_open_in_app_regwall", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.94.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.94.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.95": { "name": "enable_optimizely", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.95.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.95.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.96": { "name": "enable_orion", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.96.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.96.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.97": { "name": "enable_parsely", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.97.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.97.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.98": { "name": "enable_patronus_on_kubernetes", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.98.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.98.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.99": { "name": "enable_popularity_feature", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.99.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.99.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.100": { "name": "enable_post_import", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.100.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.100.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.101": { "name": "enable_post_page_nav_stickiness_removal", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.101.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.101.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.102": { "name": "enable_post_seo_settings_screen", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.102.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.102.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.103": { "name": "enable_post_settings_screen", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.103.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.103.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.104": { "name": "enable_primary_topic_for_mobile", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.104.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.104.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.105": { "name": "enable_responses_2", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.105.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.105.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.106": { "name": "enable_rito_upstream_deadlines", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.106.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.106.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.107": { "name": "enable_rtr_channel", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.107.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.107.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.108": { "name": "enable_save_to_medium", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.108.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.108.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.109": { "name": "enable_send_event_for_active_users_only", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.109.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.109.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.110": { "name": "enable_sepia_to_olsen", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.110.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.110.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.111": { "name": "enable_sisko", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.111.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.111.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.112": { "name": "enable_starspace", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.112.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.112.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.113": { "name": "enable_starspace_digest_app", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.113.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.113.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.114": { "name": "enable_starspace_ranker_starspace", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.114.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.114.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.115": { "name": "enable_stripe_idempotent_subscription_requests", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.115.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.115.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.116": { "name": "enable_theme_editor", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.116.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.116.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.117": { "name": "enable_tick_landing_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.117.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.117.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.118": { "name": "enable_tipalti_onboarding", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.118.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.118.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.119": { "name": "enable_topic_lifecycle_email", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.119.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.119.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.120": { "name": "enable_tribute_landing_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.120.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.120.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.121": { "name": "enable_trumpland_landing_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.121.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.121.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.122": { "name": "enable_utc_fix_on_partner_program_dashboard", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.122.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.122.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.123": { "name": "exclude_curated_in_popular_topic", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.123.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.123.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.124": { "name": "featured_fc_and_ydr", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.124.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.124.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.125": { "name": "filter_low_scoring_users", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.125.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.125.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.126": { "name": "glyph_embed_commands", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.126.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.126.valueType": { "__typename": "VariantFlagString", "value": "control" }, "ROOT_QUERY.variantFlags.127": { "name": "glyph_font_set", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.127.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.127.valueType": { "__typename": "VariantFlagString", "value": "m2" }, "ROOT_QUERY.variantFlags.128": { "name": "google_sign_in_android", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.128.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.128.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.129": { "name": "ios_pub_follow_email_opt_in", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.129.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.129.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.130": { "name": "is_not_medium_subscriber", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.130.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.130.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.131": { "name": "limit_post_referrers", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.131.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.131.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.132": { "name": "make_nav_sticky", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.132.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.132.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.133": { "name": "new_transition_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.133.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.133.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.134": { "name": "pub_sidebar", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.134.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.134.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.135": { "name": "rank_model", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.135.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.135.valueType": { "__typename": "VariantFlagString", "value": "default" }, "ROOT_QUERY.variantFlags.136": { "name": "remove_email_opt_in_on_pub_follow", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.136.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.136.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.137": { "name": "remove_post_post_similarity", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.137.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.137.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.138": { "name": "share_post_linkedin", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.138.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.138.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.139": { "name": "sign_up_with_email_button", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.139.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.139.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.140": { "name": "signin_services", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.140.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.140.valueType": { "__typename": "VariantFlagString", "value": "twitter,facebook,google,email,google-fastidv,google-one-tap,apple" }, "ROOT_QUERY.variantFlags.141": { "name": "signup_services", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.141.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.141.valueType": { "__typename": "VariantFlagString", "value": "twitter,facebook,google,email,google-fastidv,google-one-tap,apple" }, "ROOT_QUERY.variantFlags.142": { "name": "skip_sign_in_recaptcha", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.142.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.142.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.143": { "name": "sourcing_refactor_2", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.143.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.143.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.144": { "name": "use_new_admin_topic_backend", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.144.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.144.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.145": { "name": "xgboost_auto_suspend", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.145.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.145.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "MeteringInfo:singleton": { "__typename": "MeteringInfo", "postIds": { "type": "json", "json": [] }, "maxUnlockCount": 3, "unlocksRemaining": 3 }, "Post:3ba269ea2f5c": { "__typename": "Post", "id": "3ba269ea2f5c", "mediumUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "canonicalUrl": "", "collection": null, "content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}})": { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}})", "typename": "PostContent" }, "creator": { "type": "id", "generated": false, "id": "User:1da08193a324", "typename": "User" }, "firstPublishedAt": 1577576103457, "isLocked": false, "isPublished": true, "layerCake": 0, "primaryTopic": null, "title": "Optimising PineTime’s Display Driver with Rust and Mynewt", "latestPublishedVersion": "3c84c6b4715b", "visibility": "PUBLIC", "isLimitedState": false, "sequence": null, "pendingCollection": null, "shareKey": null, "statusForCollection": null, "readingTime": 14.385849056603774, "readingList": "READING_LIST_NONE", "allowResponses": true, "clapCount": 35, "viewerClapCount": 0, "voterCount": 9, "recommenders": [], "license": "ALL_RIGHTS_RESERVED", "tags": [{ "type": "id", "generated": false, "id": "Tag:rust", "typename": "Tag" }, { "type": "id", "generated": false, "id": "Tag:programming", "typename": "Tag" }, { "type": "id", "generated": false, "id": "Tag:gadgets", "typename": "Tag" }, { "type": "id", "generated": false, "id": "Tag:internet-of-things", "typename": "Tag" }, { "type": "id", "generated": false, "id": "Tag:embedded-systems", "typename": "Tag" }], "topics": [], "postResponses": { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.postResponses", "typename": "PostResponses" }, "responsesCount": 0, "collaborators": [], "translationSourcePost": null, "internalLinks({\"paging\":{\"limit\":8}})": { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.internalLinks({\"paging\":{\"limit\":8}})", "typename": "InternalLinksConnection" }, "newsletterId": "", "inResponseToPostResult": null, "inResponseToMediaResource": null, "lockedSource": "LOCKED_POST_SOURCE_NONE", "curationEligibleAt": 0, "isDistributionAlertDismissed": true, "audioVersionUrl": "", "socialTitle": "", "socialDek": "", "metaDescription": "", "latestPublishedAt": 1583384311032, "previewContent": { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.previewContent", "typename": "PreviewContent" }, "previewImage": { "type": "id", "generated": false, "id": "ImageMetadata:1*qWOFrWPOkQm-nf1shcDSSA.png", "typename": "ImageMetadata" }, "isShortform": false, "seoTitle": "", "updatedAt": 1583384311250, "shortformType": "SHORTFORM_TYPE_LINK", "seoDescription": "", "isSuspended": false }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}})": { "isLockedPreviewOnly": false, "validatedShareKey": "", "__typename": "PostContent", "bodyModel": { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel", "typename": "RichText" } }, "User:1da08193a324": { "id": "1da08193a324", "isSuspended": false, "__typename": "User", "allowNotes": true, "name": "Lup Yuen Lee 李立源", "isFollowing": null, "username": "ly.lee", "bio": "Techie and Educator in IoT 物聯網教師", "imageId": "1*72qLH3RF4S4q2AcxlnIdSw.jpeg", "mediumMemberAt": 1571194811000, "isBlocking": null, "isMuting": null, "isPartnerProgramEnrolled": false, "twitterScreenName": "MisterTechBlog" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.0": { "name": "63ff", "startIndex": 0, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.1": { "name": "f971", "startIndex": 11, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.2": { "name": "fe10", "startIndex": 33, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.3": { "name": "d674", "startIndex": 53, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.4": { "name": "3a6f", "startIndex": 61, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.5": { "name": "0c73", "startIndex": 74, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.6": { "name": "7946", "startIndex": 85, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.7": { "name": "921d", "startIndex": 101, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.8": { "name": "c015", "startIndex": 113, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.9": { "name": "751f", "startIndex": 126, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.10": { "name": "78a1", "startIndex": 134, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.11": { "name": "c566", "startIndex": 144, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.12": { "name": "6c79", "startIndex": 165, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel": { "sections": [{ "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.0", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.1", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.2", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.3", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.4", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.5", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.6", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.7", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.8", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.9", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.10", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.11", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:3ba269ea2f5c.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c?source=friends_link&sk=4d2cbd2e6cd2343eed62d214814f7b81\"}}).bodyModel.sections.12", "typename": "Section" }], "paragraphs": [{ "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_0", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_1", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_2", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_3", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_4", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_5", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_6", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_7", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_8", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_9", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_10", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_11", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_12", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_13", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_14", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_15", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_16", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_17", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_18", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_19", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_20", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_21", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_22", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_23", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_24", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_25", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_26", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_27", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_28", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_29", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_30", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_31", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_32", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_33", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_34", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_35", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_36", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_37", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_38", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_39", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_40", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_41", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_42", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_43", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_44", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_45", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_46", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_47", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_48", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_49", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_50", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_51", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_52", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_53", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_54", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_55", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_56", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_57", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_58", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_59", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_60", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_61", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_62", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_63", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_64", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_65", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_66", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_67", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_68", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_69", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_70", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_71", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_72", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_73", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_74", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_75", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_76", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_77", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_78", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_79", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_80", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_81", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_82", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_83", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_84", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_85", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_86", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_87", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_88", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_89", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_90", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_91", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_92", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_93", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_94", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_95", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_96", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_97", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_98", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_99", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_100", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_101", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_102", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_103", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_104", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_105", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_106", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_107", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_108", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_109", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_110", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_111", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_112", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_113", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_114", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_115", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_116", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_117", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_118", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_119", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_120", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_121", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_122", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_123", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_124", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_125", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_126", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_127", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_128", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_129", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_130", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_131", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_132", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_133", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_134", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_135", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_136", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_137", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_138", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_139", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_140", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_141", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_142", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_143", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_144", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_145", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_146", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_147", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_148", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_149", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_150", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_151", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_152", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_153", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_154", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_155", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_156", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_157", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_158", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_159", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_160", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_161", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_162", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_163", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_164", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_165", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_166", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_167", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_168", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_169", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_170", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_171", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_172", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_173", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_174", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_175", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_176", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_177", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_178", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_179", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_180", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:3c84c6b4715b_181", "typename": "Paragraph" }], "__typename": "RichText" }, "Paragraph:3c84c6b4715b_0": { "id": "3c84c6b4715b_0", "name": "a8c7", "type": "IMG", "href": null, "layout": "FULL_WIDTH", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*qWOFrWPOkQm-nf1shcDSSA.png", "typename": "ImageMetadata" }, "text": "", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*qWOFrWPOkQm-nf1shcDSSA.png": { "id": "1*qWOFrWPOkQm-nf1shcDSSA.png", "originalHeight": 1720, "originalWidth": 3208, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:3c84c6b4715b_1": { "id": "3c84c6b4715b_1", "name": "4cb4", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Optimising PineTime’s Display Driver with Rust and Mynewt", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_2": { "id": "3c84c6b4715b_2", "name": "7fd8", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Simple tweaks like Batched Updates and Non-Blocking SPI can have a huge impact on rendering performance…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_2.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_2.markups.0": { "type": "EM", "start": 0, "end": 104, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_3": { "id": "3c84c6b4715b_3", "name": "fbba", "type": "P", "href": null, "layout": null, "metadata": null, "text": "PineTime Smart Watch has been an awesome educational tool for teaching embedded coding with Rust and Mynewt OS… Check out PineTime articles #1, #2 and #3", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_3.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_3.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_3.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_3.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_3.markups.4", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_3.markups.5", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_3.markups.0": { "type": "A", "start": 0, "end": 20, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&sk=d9301466f5499bece3e7b638e99ec20d", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_3.markups.1": { "type": "A", "start": 92, "end": 96, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fbook\u002Ftitle-page.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_3.markups.2": { "type": "A", "start": 101, "end": 110, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002F", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_3.markups.3": { "type": "A", "start": 140, "end": 142, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&sk=d9301466f5499bece3e7b638e99ec20d", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_3.markups.4": { "type": "A", "start": 144, "end": 146, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9?source=friends_link&sk=d8cf73fc943d9c0e960627d768f309cb", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_3.markups.5": { "type": "A", "start": 151, "end": 153, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a?source=friends_link&sk=09b153c68483f7fa9e63350efd167b07", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_4": { "id": "3c84c6b4715b_4", "name": "6bd8", "type": "P", "href": null, "layout": null, "metadata": null, "text": "But stare closely at the video demos in the articles… You’ll realise that the rendering of graphics on PineTime’s LCD display looks sluggish.", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_5": { "id": "3c84c6b4715b_5", "name": "2bbf", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Can we expect speedy screen updates from a $20 smart watch… Powered by a Nordic nRF52832 Microcontroller that drives an ST7789 Display Controller over SPI?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_5.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_5.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_5.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_5.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_5.markups.4", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_5.markups.0": { "type": "A", "start": 43, "end": 58, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fstore.pine64.org\u002F?product=pinetime-dev-kit", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_5.markups.1": { "type": "A", "start": 73, "end": 104, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Finfocenter.nordicsemi.com\u002Fpdf\u002FnRF52832_PS_v1.0.pdf", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_5.markups.2": { "type": "A", "start": 120, "end": 145, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fwiki.pine64.org\u002Fimages\u002F5\u002F54\u002FST7789V_v1.6.pdf", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_5.markups.3": { "type": "A", "start": 151, "end": 154, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FSerial_Peripheral_Interface", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_5.markups.4": { "type": "EM", "start": 0, "end": 155, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_6": { "id": "3c84c6b4715b_6", "name": "7774", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Yes we can! Check the rendering performance of Rust and Mynewt OS on PineTime, before and after optimisation…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_6.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_6.markups.0": { "type": "EM", "start": 0, "end": 11, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_7": { "id": "3c84c6b4715b_7", "name": "5aec", "type": "IFRAME", "href": null, "layout": "OUTSET_CENTER", "metadata": null, "text": "Before and after optimising PineTime’s display driver", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_7.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "MediaResource:0e3ab0b6c454d6edb712cc130050eaf1": { "id": "0e3ab0b6c454d6edb712cc130050eaf1", "iframeSrc": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fcdn.embedly.com\u002Fwidgets\u002Fmedia.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F_x6B-L5KOtU%3Ffeature%3Doembed&url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D_x6B-L5KOtU&image=https%3A%2F%2Fi.ytimg.com%2Fvi%2F_x6B-L5KOtU%2Fhqdefault.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=youtube", "iframeHeight": 480, "iframeWidth": 854, "title": "Blocking vs Non Blocking SPI on PineTime", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_7.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:0e3ab0b6c454d6edb712cc130050eaf1", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_8": { "id": "3c84c6b4715b_8", "name": "aa7f", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Today we’ll learn how we optimised the PineTime Display Driver to render text and graphics in sub-seconds…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_9": { "id": "3c84c6b4715b_9", "name": "1e34", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "We group the pixels to be rendered into rows and blocks. This allows graphics and text to be rendered in fewer SPI operations.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_9.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_9.markups.0": { "type": "STRONG", "start": 0, "end": 56, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_10": { "id": "3c84c6b4715b_10", "name": "b32b", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "We changed Blocking SPI operations to Non-Blocking SPI operations. This enables the Rust rendering functions to be executed while SPI operations are running concurrently. (Think graphics rendering pipeline)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_10.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_10.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_10.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_10.markups.0": { "type": "A", "start": 172, "end": 205, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FGraphics_pipeline", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_10.markups.1": { "type": "STRONG", "start": 0, "end": 67, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_10.markups.2": { "type": "EM", "start": 171, "end": 206, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_11": { "id": "3c84c6b4715b_11", "name": "b1c9", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Rendering PineTime Graphics Pixel by Pixel", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_12": { "id": "3c84c6b4715b_12", "name": "3957", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Let’s look at a simple example to understand how the [embedded-graphics] and [st7735-lcd] crates work together to render graphics on PineTime’s LCD display. This code creates a rectangle with [embedded-graphics] and renders the rectangle to the [st7735-lcd] display…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_12.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_12.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_12.markups.0": { "type": "A", "start": 54, "end": 71, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fembedded-graphics", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_12.markups.1": { "type": "A", "start": 78, "end": 88, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fst7735-lcd", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_13": { "id": "3c84c6b4715b_13", "name": "6ddb", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fdisplay.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_13.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_13.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_13.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fdisplay.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:c5e793814862656246e5586536ab0bb4": { "id": "c5e793814862656246e5586536ab0bb4", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_13.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:c5e793814862656246e5586536ab0bb4", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_14": { "id": "3c84c6b4715b_14", "name": "246f", "type": "P", "href": null, "layout": null, "metadata": null, "text": "When we trace the SPI requests generated by the [st7735-lcd] driver, we see lots of repetition…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_15": { "id": "3c84c6b4715b_15", "name": "b816", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Flogs\u002Fspi-blocking.log", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_15.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_15.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_15.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Flogs\u002Fspi-blocking.log", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:cbb8c56876ce3d8c8bd8f6a9cb2e5e4b": { "id": "cbb8c56876ce3d8c8bd8f6a9cb2e5e4b", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_15.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:cbb8c56876ce3d8c8bd8f6a9cb2e5e4b", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_16": { "id": "3c84c6b4715b_16", "name": "39a3", "type": "P", "href": null, "layout": null, "metadata": null, "text": "(The SPI log was obtained by uncommenting this code)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_16.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_16.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_16.markups.0": { "type": "A", "start": 1, "end": 51, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs#L183-L188", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_16.markups.1": { "type": "EM", "start": 0, "end": 52, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_17": { "id": "3c84c6b4715b_17", "name": "fb87", "type": "P", "href": null, "layout": null, "metadata": null, "text": "For each pixel in the rectangle, the display driver is setting the X and Y coordinates of each pixel and setting the colour of each pixel… Pixel by pixel! (0, 0), (0, 1), (0, 2), …", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_17.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_17.markups.0": { "type": "EM", "start": 139, "end": 180, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_18": { "id": "3c84c6b4715b_18", "name": "3932", "type": "P", "href": null, "layout": null, "metadata": null, "text": "That’s not efficient for rendering graphics, pixel by pixel… Why are [embedded-graphics] and [st7735-lcd] doing that?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_18.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_18.markups.0": { "type": "EM", "start": 61, "end": 117, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_19": { "id": "3c84c6b4715b_19", "name": "7847", "type": "P", "href": null, "layout": null, "metadata": null, "text": "That’s because [embedded-graphics] was designed to run on highly-constrained microcontrollers with very little RAM… Think STM32 Blue Pill, which has only 20 KB RAM! That’s too little RAM for rendering rectangles and other graphics into RAM and copying the rendered RAM bitmap to the display. How does [embedded-graphics] render graphics?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_19.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_19.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_19.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_19.markups.0": { "type": "STRONG", "start": 58, "end": 93, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_19.markups.1": { "type": "STRONG", "start": 154, "end": 163, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_19.markups.2": { "type": "EM", "start": 292, "end": 337, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_20": { "id": "3c84c6b4715b_20", "name": "0532", "type": "P", "href": null, "layout": null, "metadata": null, "text": "By using Rust Iterators! Every graphic object to be rendered (rectangles, circles, even text) is transformed by [embedded-graphics] into a Rust Iterator that returns the (X, Y) coordinates of each pixel and its colour. This requires very little RAM because the pixel information is computed on the fly, only when the Iterator needs to return the next pixel.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_20.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_20.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_20.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_20.markups.0": { "type": "A", "start": 9, "end": 23, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fbook\u002Fch13-02-iterators.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_20.markups.1": { "type": "STRONG", "start": 9, "end": 23, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_20.markups.2": { "type": "STRONG", "start": 139, "end": 217, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_21": { "id": "3c84c6b4715b_21", "name": "9b66", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Rendering a Pixel Iterator to the display is really easy and doesn’t need much RAM, like this…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_22": { "id": "3c84c6b4715b_22", "name": "f162", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fst7735-lcd-batch-rs\u002Fblob\u002Fmaster\u002Fsrc\u002Flib.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_22.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_22.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_22.markups.0": { "type": "A", "start": 5, "end": 74, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fst7735-lcd-batch-rs\u002Fblob\u002Fmaster\u002Fsrc\u002Flib.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:bd6be5f6a44d63bcc4376442e1a99b0c": { "id": "bd6be5f6a44d63bcc4376442e1a99b0c", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_22.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:bd6be5f6a44d63bcc4376442e1a99b0c", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_23": { "id": "3c84c6b4715b_23", "name": "ee99", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Upon inspecting the set_pixel function that’s called for each pixel, we see this…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_23.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_23.markups.0": { "type": "CODE", "start": 20, "end": 29, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_24": { "id": "3c84c6b4715b_24", "name": "40f0", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fst7735-lcd-batch-rs\u002Fblob\u002Fmaster\u002Fsrc\u002Flib.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_24.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_24.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_24.markups.0": { "type": "A", "start": 5, "end": 74, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fst7735-lcd-batch-rs\u002Fblob\u002Fmaster\u002Fsrc\u002Flib.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:81250916adc217ac18411e3c8b3b219a": { "id": "81250916adc217ac18411e3c8b3b219a", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_24.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:81250916adc217ac18411e3c8b3b219a", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_25": { "id": "3c84c6b4715b_25", "name": "4b14", "type": "P", "href": null, "layout": null, "metadata": null, "text": "A-ha! We have discovered the code that creates all the repeated SPI requests for setting the (X, Y) coordinates and colour of each pixel!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_25.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_25.markups.0": { "type": "EM", "start": 0, "end": 5, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_26": { "id": "3c84c6b4715b_26", "name": "4d53", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Instead of updating the LED display pixel by pixel, can we batch the pixels together and blast the entire batch of pixels in a single SPI request?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_26.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_26.markups.0": { "type": "EM", "start": 52, "end": 146, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_27": { "id": "3c84c6b4715b_27", "name": "7e43", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Digging into the [st7735-lcd] display driver code, we see this clue…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_28": { "id": "3c84c6b4715b_28", "name": "6126", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fst7735-lcd-batch-rs\u002Fblob\u002Fmaster\u002Fsrc\u002Flib.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_28.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_28.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_28.markups.0": { "type": "A", "start": 5, "end": 74, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fst7735-lcd-batch-rs\u002Fblob\u002Fmaster\u002Fsrc\u002Flib.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:4ac4d489b7dc69fbd0f785b4b3379220": { "id": "4ac4d489b7dc69fbd0f785b4b3379220", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_28.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:4ac4d489b7dc69fbd0f785b4b3379220", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_29": { "id": "3c84c6b4715b_29", "name": "3079", "type": "P", "href": null, "layout": null, "metadata": null, "text": "See the difference? The function set_pixels sets the pixel window to the region from (X Start, Y Start) to (X End, Y End)… Then it blasts a list of pixel colours to populate that entire window region!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_29.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_29.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_29.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_29.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_29.markups.0": { "type": "CODE", "start": 33, "end": 43, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_29.markups.1": { "type": "CODE", "start": 85, "end": 103, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_29.markups.2": { "type": "CODE", "start": 107, "end": 121, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_29.markups.3": { "type": "STRONG", "start": 131, "end": 161, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_30": { "id": "3c84c6b4715b_30", "name": "7936", "type": "P", "href": null, "layout": null, "metadata": null, "text": "When we call set_pixels the SPI requests generated by the display driver would look like this… (Note the long lists of pixel colours)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_30.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_30.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_30.markups.0": { "type": "CODE", "start": 13, "end": 23, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_30.markups.1": { "type": "EM", "start": 95, "end": 133, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_31": { "id": "3c84c6b4715b_31", "name": "100d", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Flogs\u002Fspi-non-blocking.log", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_31.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_31.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_31.markups.0": { "type": "A", "start": 5, "end": 99, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Flogs\u002Fspi-non-blocking.log", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:f2ca75a37f0119aefb14d089af9f1e2e": { "id": "f2ca75a37f0119aefb14d089af9f1e2e", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_31.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:f2ca75a37f0119aefb14d089af9f1e2e", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_32": { "id": "3c84c6b4715b_32", "name": "9799", "type": "P", "href": null, "layout": null, "metadata": null, "text": "But will this really improve rendering performance? Let’s test this hypothesis the Lean and Agile Way by batching the pixels (in the simplest way possible) without disturbing too much [embedded-graphics] and [st7735-lcd] code…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_32.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_32.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_32.markups.0": { "type": "A", "start": 83, "end": 101, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fmy-5-year-iot-mission-5f2f28348780?source=friends_link&sk=8c9ab6f607d4b6af4a2b233e4096d623", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_32.markups.1": { "type": "EM", "start": 0, "end": 51, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_33": { "id": "3c84c6b4715b_33", "name": "8d93", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Batching PineTime Pixels into Rows and Blocks", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_34": { "id": "3c84c6b4715b_34", "name": "c037", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here’s our situation…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_35": { "id": "3c84c6b4715b_35", "name": "ce78", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "[embedded-graphics] creates Rust Iterators for rendering graphic objects. Works with minimal RAM, but generates excessive SPI requests.", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_36": { "id": "3c84c6b4715b_36", "name": "19b3", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "PineTime’s Nordic nRF52832 microcontroller has 64 KB of RAM… Not quite sufficient to render the entire 240x240 screen into RAM. (2 bytes of colour per pixel ✖ ️240 rows ✖ 240 columns = 112.5 KB) RAM-based bitmap rendering is no go.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_36.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_36.markups.0": { "type": "STRONG", "start": 185, "end": 193, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_37": { "id": "3c84c6b4715b_37", "name": "a21c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Is there a Middle Way… Keeping the RAM-efficient Rust Iterators... But get the Iterators to return small batches of pixels (instead of returning individual pixels)? Let’s experiment with two very simple Rust Iterators: Pixel Row Iterator and Pixel Block Iterator!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_37.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_37.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_37.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_37.markups.0": { "type": "STRONG", "start": 219, "end": 263, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_37.markups.1": { "type": "EM", "start": 0, "end": 22, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_37.markups.2": { "type": "EM", "start": 92, "end": 122, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_38": { "id": "3c84c6b4715b_38", "name": "77ce", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Suppose we ask [embedded-graphics] to render this trapezoid shape with 10 pixels…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_39": { "id": "3c84c6b4715b_39", "name": "8c49", "type": "IMG", "href": null, "layout": "INSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*sXRkBs9tR1cieU9LwYb63Q.png", "typename": "ImageMetadata" }, "text": "10 pixels from the rendered letter K", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*sXRkBs9tR1cieU9LwYb63Q.png": { "id": "1*sXRkBs9tR1cieU9LwYb63Q.png", "originalHeight": 2950, "originalWidth": 3050, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:3c84c6b4715b_40": { "id": "3c84c6b4715b_40", "name": "5925", "type": "P", "href": null, "layout": null, "metadata": null, "text": "[embedded-graphics] returns a Pixel Iterator that generates the 10 pixels from left to right, top to bottom…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_41": { "id": "3c84c6b4715b_41", "name": "1ad8", "type": "IMG", "href": null, "layout": "OUTSET_LEFT", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*kRvQ0Hg2xTZ6MhHgpCQhRw.png", "typename": "ImageMetadata" }, "text": "Zig-zag Pixel Iterator returned by [embedded-graphics]", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*kRvQ0Hg2xTZ6MhHgpCQhRw.png": { "id": "1*kRvQ0Hg2xTZ6MhHgpCQhRw.png", "originalHeight": 1253, "originalWidth": 1987, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:3c84c6b4715b_42": { "id": "3c84c6b4715b_42", "name": "6153", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Which needs 10 SPI requests to render, 1 pixel per SPI request. (Let’s count only the set colour requests)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_42.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_42.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_42.markups.0": { "type": "STRONG", "start": 12, "end": 27, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_42.markups.1": { "type": "EM", "start": 64, "end": 106, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_43": { "id": "3c84c6b4715b_43", "name": "6b71", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Since the Pixel Iterator produces pixels row by row, let’s create a Pixel Row Iterator that returns pixels grouped by row…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_43.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_43.markups.0": { "type": "STRONG", "start": 68, "end": 86, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_44": { "id": "3c84c6b4715b_44", "name": "c106", "type": "IMG", "href": null, "layout": "OUTSET_LEFT", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*dD_OZ-xAR2L14peOvLfJTg.png", "typename": "ImageMetadata" }, "text": "Our Pixel Row Iterator returns 3 rows", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*dD_OZ-xAR2L14peOvLfJTg.png": { "id": "1*dD_OZ-xAR2L14peOvLfJTg.png", "originalHeight": 1302, "originalWidth": 2083, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:3c84c6b4715b_45": { "id": "3c84c6b4715b_45", "name": "fd97", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Awesome! When we group the pixels into rows, we only need to make 3 SPI requests to render all 10 pixels!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_45.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_45.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_45.markups.0": { "type": "STRONG", "start": 66, "end": 80, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_45.markups.1": { "type": "EM", "start": 0, "end": 8, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_46": { "id": "3c84c6b4715b_46", "name": "5705", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Can we do better? What if we group consecutive rows of the same width into rectangular blocks… Creating a Pixel Block Iterator…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_46.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_46.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_46.markups.0": { "type": "STRONG", "start": 106, "end": 126, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_46.markups.1": { "type": "EM", "start": 0, "end": 17, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_47": { "id": "3c84c6b4715b_47", "name": "5b0a", "type": "IMG", "href": null, "layout": "OUTSET_LEFT", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*0kGCWh1acxSEV1q-L-t0Mg.png", "typename": "ImageMetadata" }, "text": "Our Pixel Block Iterator returns 2 blocks", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*0kGCWh1acxSEV1q-L-t0Mg.png": { "id": "1*0kGCWh1acxSEV1q-L-t0Mg.png", "originalHeight": 1304, "originalWidth": 2023, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:3c84c6b4715b_48": { "id": "3c84c6b4715b_48", "name": "2ed4", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Yay! We have grouped 10 pixels into 2 blocks… Only 2 SPI requests to render all 10 pixels!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_48.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_48.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_48.markups.0": { "type": "STRONG", "start": 51, "end": 65, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_48.markups.1": { "type": "EM", "start": 0, "end": 4, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_49": { "id": "3c84c6b4715b_49", "name": "f417", "type": "P", "href": null, "layout": null, "metadata": null, "text": "What’s the catch? How did we optimise 10 SPI requests into 2 SPI requests… Without sacrificing anything?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_49.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_49.markups.0": { "type": "EM", "start": 0, "end": 104, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_50": { "id": "3c84c6b4715b_50", "name": "32fb", "type": "P", "href": null, "layout": null, "metadata": null, "text": "While grouping the pixels into rows and blocks, we actually use more RAM. Every time the Pixel Row Iterator returns the next row, it needs up to 8 bytes of temporary RAM storage (4 pixels with 2 colour bytes each).", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_50.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_50.markups.0": { "type": "STRONG", "start": 145, "end": 152, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_51": { "id": "3c84c6b4715b_51", "name": "5c5e", "type": "P", "href": null, "layout": null, "metadata": null, "text": "And every time the Pixel Block Iterator returns the next block (max 8 pixels), it needs up to 16 bytes of temporary RAM storage. Which isn’t a lot of RAM, if we keep our block size small. Also the Iterator will reuse the storage for each block returned, so we won’t need to worry about storing 2 or more blocks returned by the Iterator.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_51.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_51.markups.0": { "type": "STRONG", "start": 94, "end": 102, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_52": { "id": "3c84c6b4715b_52", "name": "3814", "type": "P", "href": null, "layout": null, "metadata": null, "text": "This is the classical Space-Time Tradeoff in Computer Science… Sacrificing some storage space (RAM) to make things run faster.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_52.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_52.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_52.markups.0": { "type": "A", "start": 22, "end": 41, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FSpace%E2%80%93time_tradeoff", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_52.markups.1": { "type": "STRONG", "start": 22, "end": 41, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_53": { "id": "3c84c6b4715b_53", "name": "1326", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Pixel Row and Pixel Block Iterators", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_54": { "id": "3c84c6b4715b_54", "name": "98b3", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here’s the code for the Pixel Row Iterator that returns the next row of contiguous pixels…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_55": { "id": "3c84c6b4715b_55", "name": "a26b", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "Pixel Row Iterator. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fbatch.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_55.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_55.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_55.markups.0": { "type": "A", "start": 25, "end": 113, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fbatch.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:d690bcdb07e93f6caf8132e623ad1ca2": { "id": "d690bcdb07e93f6caf8132e623ad1ca2", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_55.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:d690bcdb07e93f6caf8132e623ad1ca2", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_56": { "id": "3c84c6b4715b_56", "name": "68f8", "type": "P", "href": null, "layout": null, "metadata": null, "text": "And here’s the code for the Pixel Block Iterator that returns the next block of contiguous rows of the same width. Turns out we only need to tweak the code above slightly to get what we need… Instead of iterating over pixels, we now iterate over rows…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_57": { "id": "3c84c6b4715b_57", "name": "7d8e", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "Pixel Block Iterator. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fbatch.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_57.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_57.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_57.markups.0": { "type": "A", "start": 27, "end": 115, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fbatch.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:fdbe3f8cfaeff4dc048a3aa9cbdb3a95": { "id": "fdbe3f8cfaeff4dc048a3aa9cbdb3a95", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_57.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:fdbe3f8cfaeff4dc048a3aa9cbdb3a95", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_58": { "id": "3c84c6b4715b_58", "name": "c9b4", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Combining the Pixel Row Iterator and the Pixel Block Iterator, we get the draw_blocks function that renders any [embedded-graphics] graphic object (including text) as pixel blocks…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_58.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_58.markups.0": { "type": "CODE", "start": 74, "end": 85, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_59": { "id": "3c84c6b4715b_59", "name": "c1a0", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "Rendering a graphic object as Pixel Blocks. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fbatch.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_59.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_59.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_59.markups.0": { "type": "A", "start": 49, "end": 137, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fbatch.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:ca420086b14b219dec17375596ae274e": { "id": "ca420086b14b219dec17375596ae274e", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_59.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:ca420086b14b219dec17375596ae274e", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_60": { "id": "3c84c6b4715b_60", "name": "b84b", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Thus we now render graphic objects as RAM-efficient chunks of pixels, instead of individual pixels. Middle Way found!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_60.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_60.markups.0": { "type": "EM", "start": 100, "end": 117, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_61": { "id": "3c84c6b4715b_61", "name": "20f4", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Test the Pixel Row and Pixel Block Iterators", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_62": { "id": "3c84c6b4715b_62", "name": "b629", "type": "P", "href": null, "layout": null, "metadata": null, "text": "“Space-Time Tradeoff called and wants to know how much space we’ll be allocating to make things run faster…”", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_62.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_62.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_62.markups.0": { "type": "A", "start": 1, "end": 20, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FSpace%E2%80%93time_tradeoff", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_62.markups.1": { "type": "EM", "start": 0, "end": 108, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_63": { "id": "3c84c6b4715b_63", "name": "4d29", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The more RAM storage we allocate for batching pixels into rows and blocks, the fewer SPI requests we need to make. The code currently sets the limits at 100 pixels per row, 200 pixels per block…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_63.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_63.markups.0": { "type": "STRONG", "start": 153, "end": 193, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_64": { "id": "3c84c6b4715b_64", "name": "7239", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "Pixel Row and Pixel Block Sizes. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fbatch.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_64.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_64.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_64.markups.0": { "type": "A", "start": 38, "end": 126, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fbatch.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:bdbd61470413869026d08d16866f619c": { "id": "bdbd61470413869026d08d16866f619c", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_64.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:bdbd61470413869026d08d16866f619c", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_65": { "id": "3c84c6b4715b_65", "name": "c26d", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Note that the rows and blocks are returned by the Iterators as [heapless] Vectors, which use fixed-size arrays to store Vectors. So that we don’t rely on Heap Memory, which is harder to manage on embedded devices like PineTime.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_65.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_65.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_65.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_65.markups.0": { "type": "A", "start": 64, "end": 72, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fheapless", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_65.markups.1": { "type": "A", "start": 74, "end": 81, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fdocs.rs\u002Fheapless\u002F0.5.1\u002Fheapless\u002Fstruct.Vec.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_65.markups.2": { "type": "STRONG", "start": 63, "end": 81, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_66": { "id": "3c84c6b4715b_66", "name": "2f26", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Any graphic object that’s 100 pixels wide (or smaller) will be batched efficiently into pixels rows and blocks. Like this square of width 90 pixels created with [embedded-graphics]…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_66.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_66.markups.0": { "type": "STRONG", "start": 26, "end": 41, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_67": { "id": "3c84c6b4715b_67", "name": "1b6b", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fdisplay.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_67.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_67.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_67.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fdisplay.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:52ce07ec157a8e6ad7ceb4580b2130c2": { "id": "52ce07ec157a8e6ad7ceb4580b2130c2", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_67.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:52ce07ec157a8e6ad7ceb4580b2130c2", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_68": { "id": "3c84c6b4715b_68", "name": "3170", "type": "IMG", "href": null, "layout": "INSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*oSpNIR4KMzDdDpaZwjLTFw.png", "typename": "ImageMetadata" }, "text": "Square of width 90 pixels from the render demo", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*oSpNIR4KMzDdDpaZwjLTFw.png": { "id": "1*oSpNIR4KMzDdDpaZwjLTFw.png", "originalHeight": 2120, "originalWidth": 2602, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:3c84c6b4715b_69": { "id": "3c84c6b4715b_69", "name": "f669", "type": "P", "href": null, "layout": null, "metadata": null, "text": "When we trace the rendering of the square, we see this log of pixel blocks…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_70": { "id": "3c84c6b4715b_70", "name": "b919", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Flogs\u002Fpixel-block.log", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_70.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_70.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_70.markups.0": { "type": "A", "start": 5, "end": 94, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Flogs\u002Fpixel-block.log", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:2586cb418173bc5f0424db1e8feef8ae": { "id": "2586cb418173bc5f0424db1e8feef8ae", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "pixel-block.log", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_70.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:2586cb418173bc5f0424db1e8feef8ae", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_71": { "id": "3c84c6b4715b_71", "name": "f639", "type": "P", "href": null, "layout": null, "metadata": null, "text": "(The log was created by uncommenting this code)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_71.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_71.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_71.markups.0": { "type": "A", "start": 1, "end": 46, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fbatch.rs#L122-L125", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_71.markups.1": { "type": "EM", "start": 0, "end": 47, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_72": { "id": "3c84c6b4715b_72", "name": "cd78", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Which means that we are indeed deconstructing the 90x90 square into 90x2 pixel blocks for efficient rendering.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_72.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_72.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_72.markups.0": { "type": "STRONG", "start": 50, "end": 62, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_72.markups.1": { "type": "STRONG", "start": 68, "end": 85, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_73": { "id": "3c84c6b4715b_73", "name": "eacb", "type": "BQ", "href": null, "layout": null, "metadata": null, "text": "💎 This deconstruction doesn’t work so well for a square that occupies the entire 240x240 PineTime screen. I’ll let you think… 1️⃣ Why this doesn’t work 2️⃣ A solution for rendering the huge square efficiently 😀", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_73.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_73.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_73.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_73.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_73.markups.0": { "type": "EM", "start": 0, "end": 2, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_73.markups.1": { "type": "EM", "start": 126, "end": 131, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_73.markups.2": { "type": "EM", "start": 153, "end": 157, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_73.markups.3": { "type": "EM", "start": 210, "end": 212, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_74": { "id": "3c84c6b4715b_74", "name": "b211", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Non-Blocking SPI on PineTime with Mynewt OS", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_75": { "id": "3c84c6b4715b_75", "name": "2695", "type": "P", "href": null, "layout": null, "metadata": null, "text": "We could go ahead and run the Pixel Row and Pixel Block Iterators to measure the rendering time… But we won’t. We are now rendering the screen as chunks of pixels, transmitting a long string of pixel colours in a single SPI request…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_75.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_75.markups.0": { "type": "STRONG", "start": 211, "end": 231, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_76": { "id": "3c84c6b4715b_76", "name": "6188", "type": "P", "href": null, "layout": null, "metadata": null, "text": "However our SPI code in PineTime isn’t optimised to handle large SPI requests… Whenever it transmits an SPI request, it waits for the entire request to be transmitted before returning to the caller. This is known as Blocking SPI.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_76.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_76.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_76.markups.0": { "type": "STRONG", "start": 216, "end": 228, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_76.markups.1": { "type": "EM", "start": 117, "end": 166, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_77": { "id": "3c84c6b4715b_77", "name": "4a2c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here’s how we call hal_spi_txrx to transmit a Blocking SPI request in Rust with Mynewt OS…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_77.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_77.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_77.markups.0": { "type": "CODE", "start": 19, "end": 31, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_77.markups.1": { "type": "A", "start": 19, "end": 31, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fmodules\u002Fhal\u002Fhal_spi\u002Fhal_spi.html#c.hal_spi_txrx", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_78": { "id": "3c84c6b4715b_78", "name": "7939", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_78.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_78.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_78.markups.0": { "type": "A", "start": 5, "end": 96, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:a7427f99001dac1dd43f674acf625b2f": { "id": "a7427f99001dac1dd43f674acf625b2f", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "blocking-spi.rs", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_78.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:a7427f99001dac1dd43f674acf625b2f", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_79": { "id": "3c84c6b4715b_79", "name": "8e2b", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Mynewt OS provides an efficient way to transmit SPI requests: Non-Blocking SPI. hal_spi_txrx_noblock doesn’t hold up the caller while transmitting the request. Instead, Mynewt calls our Callback Function when the request has been completed.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_79.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_79.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_79.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_79.markups.0": { "type": "CODE", "start": 80, "end": 100, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_79.markups.1": { "type": "A", "start": 80, "end": 100, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fmodules\u002Fhal\u002Fhal_spi\u002Fhal_spi.html#c.hal_spi_txrx_noblock", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_79.markups.2": { "type": "STRONG", "start": 62, "end": 78, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_80": { "id": "3c84c6b4715b_80", "name": "a8ba", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here’s how we set up Non-Blocking SPI and call hal_spi_txrx_noblock…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_80.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_80.markups.0": { "type": "CODE", "start": 47, "end": 67, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_81": { "id": "3c84c6b4715b_81", "name": "cbd3", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_81.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_81.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_81.markups.0": { "type": "A", "start": 5, "end": 96, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:f2ae86f5e56b8a8025e9bc3dc849d439": { "id": "f2ae86f5e56b8a8025e9bc3dc849d439", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "non-blocking-spi.rs", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_81.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:f2ae86f5e56b8a8025e9bc3dc849d439", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_82": { "id": "3c84c6b4715b_82", "name": "53a7", "type": "P", "href": null, "layout": null, "metadata": null, "text": "spi_noblock_handler is our Callback Function in Rust. Mynewt won’t let us transmit a Non-Blocking SPI request while another is in progress, so our Callback Function needs to ensure that never happens. More about spi_noblock_handler in a while.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_82.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_82.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_82.markups.0": { "type": "CODE", "start": 0, "end": 19, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_82.markups.1": { "type": "CODE", "start": 212, "end": 231, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_83": { "id": "3c84c6b4715b_83", "name": "fc4d", "type": "BQ", "href": null, "layout": null, "metadata": null, "text": "💎 What’s core::mem::transmute? We use this function from the Rust Core Library to cast pointer types when passing pointers and references from Rust to C. It’s similar to casting char * to void * in C.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_83.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_83.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_83.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_83.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_83.markups.4", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_83.markups.5", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_83.markups.0": { "type": "CODE", "start": 10, "end": 30, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_83.markups.1": { "type": "CODE", "start": 179, "end": 185, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_83.markups.2": { "type": "CODE", "start": 189, "end": 195, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_83.markups.3": { "type": "A", "start": 10, "end": 30, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fcore\u002Fmem\u002Ffn.transmute.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_83.markups.4": { "type": "A", "start": 62, "end": 79, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fcore\u002Findex.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_83.markups.5": { "type": "EM", "start": 0, "end": 3, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_84": { "id": "3c84c6b4715b_84", "name": "ab06", "type": "BQ", "href": null, "layout": null, "metadata": null, "text": "Why don’t we need to specify the pointer type that we are casting to? Because the Rust Compiler performs Type Inference to deduce the pointer type.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_84.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_84.markups.0": { "type": "A", "start": 105, "end": 119, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstable\u002Frust-by-example\u002Ftypes\u002Finference.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_85": { "id": "3c84c6b4715b_85", "name": "7ad3", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Work Around an SPI Quirk", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_86": { "id": "3c84c6b4715b_86", "name": "d6bc", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Bad News: Non-Blocking SPI doesn’t work 100% as advertised for Nordic nRF52832 Microcontroller, the heart of PineTime. According to this note in Mynewt OS, Non-Blocking SPI on nRF52832 fails if we’re sending a single byte over SPI.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_86.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_86.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_86.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_86.markups.0": { "type": "A", "start": 119, "end": 154, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Fapache\u002Fmynewt-core\u002Fblob\u002Fmaster\u002Fhw\u002Fmcu\u002Fnordic\u002Fnrf52xxx\u002Fsrc\u002Fhal_spi.c#L1106-L1118", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_86.markups.1": { "type": "STRONG", "start": 156, "end": 230, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_86.markups.2": { "type": "EM", "start": 0, "end": 9, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_87": { "id": "3c84c6b4715b_87", "name": "f6f1", "type": "P", "href": null, "layout": null, "metadata": null, "text": "But why would we send single-byte SPI requests anyway?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_87.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_87.markups.0": { "type": "EM", "start": 0, "end": 54, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_88": { "id": "3c84c6b4715b_88", "name": "614d", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Remember this SPI log that we captured earlier? We seem to be sending single bytes very often: 2a, 2b and 2c, which are Command Bytes…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_88.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_88.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_88.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_88.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_88.markups.0": { "type": "CODE", "start": 95, "end": 97, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_88.markups.1": { "type": "CODE", "start": 99, "end": 101, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_88.markups.2": { "type": "CODE", "start": 106, "end": 108, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_88.markups.3": { "type": "STRONG", "start": 120, "end": 133, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_89": { "id": "3c84c6b4715b_89", "name": "4f3b", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Flogs\u002Fspi-non-blocking.log", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_89.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_89.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_89.markups.0": { "type": "A", "start": 5, "end": 99, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Flogs\u002Fspi-non-blocking.log", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:3c84c6b4715b_89.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:f2ca75a37f0119aefb14d089af9f1e2e", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_90": { "id": "3c84c6b4715b_90", "name": "6ca6", "type": "P", "href": null, "layout": null, "metadata": null, "text": "PineTime’s ST7789 Display Controller has an unusual SPI interface with a special pin: the Data\u002FCommand (DC) Pin. The display controller expects our microcontroller to set the DC Pin to Low when sending the Command Byte, and set the DC Pin to High when sending Data Bytes…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_90.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_90.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_90.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_90.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_90.markups.0": { "type": "A", "start": 11, "end": 36, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fwiki.pine64.org\u002Fimages\u002F5\u002F54\u002FST7789V_v1.6.pdf", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_90.markups.1": { "type": "STRONG", "start": 90, "end": 111, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_90.markups.2": { "type": "STRONG", "start": 175, "end": 218, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_90.markups.3": { "type": "STRONG", "start": 232, "end": 270, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_91": { "id": "3c84c6b4715b_91", "name": "dad4", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_91.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_91.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_91.markups.0": { "type": "A", "start": 5, "end": 96, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:937414430f7c44ff91ef32796375bb19": { "id": "937414430f7c44ff91ef32796375bb19", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_91.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:937414430f7c44ff91ef32796375bb19", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_92": { "id": "3c84c6b4715b_92", "name": "26f7", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Unfortunately our Command Bytes are single bytes, hence we see plenty of single-byte SPI requests. All because of the need to flip the DC Pin!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_92.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_92.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_92.markups.0": { "type": "STRONG", "start": 18, "end": 48, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_92.markups.1": { "type": "EM", "start": 99, "end": 142, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_93": { "id": "3c84c6b4715b_93", "name": "bddf", "type": "P", "href": null, "layout": null, "metadata": null, "text": "This complicates our SPI design but let’s overcome this microcontroller hardware defect with good firmware… All single-byte SPI requests are now sent the Blocking way, other requests are sent the Non-Blocking way…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_93.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_93.markups.0": { "type": "STRONG", "start": 108, "end": 166, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_94": { "id": "3c84c6b4715b_94", "name": "f792", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_94.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_94.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_94.markups.0": { "type": "A", "start": 5, "end": 96, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:17f7d62e19a82c8f2f190fb5c4e06059": { "id": "17f7d62e19a82c8f2f190fb5c4e06059", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_94.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:17f7d62e19a82c8f2f190fb5c4e06059", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_95": { "id": "3c84c6b4715b_95", "name": "8b9a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The code uses a Semaphore SPI_SEM to wait for the Non-Blocking SPI operation to complete before proceeding. SPI_SEM is signalled by our Callback Function spi_noblock_handler like this…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_95.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_95.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_95.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_95.markups.0": { "type": "CODE", "start": 26, "end": 33, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_95.markups.1": { "type": "CODE", "start": 108, "end": 115, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_95.markups.2": { "type": "CODE", "start": 154, "end": 173, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_96": { "id": "3c84c6b4715b_96", "name": "013b", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_96.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_96.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_96.markups.0": { "type": "A", "start": 5, "end": 96, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:a7a6ce519e96d2b1ba3e43431fe2d756": { "id": "a7a6ce519e96d2b1ba3e43431fe2d756", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "spi_noblock_handler.rs", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_96.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:a7a6ce519e96d2b1ba3e43431fe2d756", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_97": { "id": "3c84c6b4715b_97", "name": "747b", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Something smells fishy… Why are we now waiting for a Non-Blocking SPI request to complete?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_97.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_97.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_97.markups.0": { "type": "EM", "start": 0, "end": 23, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_97.markups.1": { "type": "EM", "start": 24, "end": 90, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_98": { "id": "3c84c6b4715b_98", "name": "4fa2", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Well this happens when we do things the Lean and Agile Way… When we hit problems (like the single-byte SPI issue), we assess various simple solutions before we select and implement the right permanent fix. (And I don’t think we have found the right fix yet)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_98.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_98.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_98.markups.0": { "type": "A", "start": 40, "end": 58, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fmy-5-year-iot-mission-5f2f28348780?source=friends_link&sk=8c9ab6f607d4b6af4a2b233e4096d623", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_98.markups.1": { "type": "EM", "start": 206, "end": 257, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_99": { "id": "3c84c6b4715b_99", "name": "4706", "type": "P", "href": null, "layout": null, "metadata": null, "text": "This Semaphore workaround also makes the function internal_spi_noblock_write easier to troubleshoot… Whether the SPI request consists of a single byte or multiple bytes, internal_spi_noblock_write will always wait for the SPI request to complete, instead of having diverging paths.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_99.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_99.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_99.markups.0": { "type": "CODE", "start": 50, "end": 76, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_99.markups.1": { "type": "CODE", "start": 170, "end": 196, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_100": { "id": "3c84c6b4715b_100", "name": "5a97", "type": "P", "href": null, "layout": null, "metadata": null, "text": "This story also highlights the benefit of building our Rust firmware on top of an established Real Time Operating System like Mynewt OS… We quickly discover platform quirks that others have experienced, so that we can avoid the same trap.", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_101": { "id": "3c84c6b4715b_101", "name": "7688", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Render Graphics and Send SPI Requests Simultaneously on PineTime", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_102": { "id": "3c84c6b4715b_102", "name": "1041", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Now we can send large SPI requests efficiently to PineTime’s LCD display. We are blocking on a Semaphore while waiting for the SPI request to be completed, which means that our CPU is actually free to do some other tasks while blocking.", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_103": { "id": "3c84c6b4715b_103", "name": "c77b", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Can we do some [embedded-graphics] rendering while waiting for the SPI requests to be completed?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_103.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_103.markups.0": { "type": "EM", "start": 0, "end": 96, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_104": { "id": "3c84c6b4715b_104", "name": "079d", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Two problems with that…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_105": { "id": "3c84c6b4715b_105", "name": "e4fd", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "[embedded-graphics] creates Rust Iterators and SPI requests in temporary RAM storage. To let [embedded-graphics] continue working, we need to copy the generated SPI requests into RAM before sending the requests", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_105.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_105.markups.0": { "type": "STRONG", "start": 142, "end": 173, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_106": { "id": "3c84c6b4715b_106", "name": "bfe8", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "To perform [embedded-graphics] rendering independently from the SPI request transmission, we need a background task. The main task will render graphics with [embedded-graphics] (which is our current design), the background task will transmit SPI requests (this part is new).", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_106.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_106.markups.0": { "type": "STRONG", "start": 100, "end": 115, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_107": { "id": "3c84c6b4715b_107", "name": "11dc", "type": "IMG", "href": null, "layout": "INSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg", "typename": "ImageMetadata" }, "text": "Rendering graphics and transmitting SPI requests at the same time on PineTime. Yes this is the Producer-Consumer Pattern found in many programs.", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg": { "id": "1*B1WC9dfxTj1F4aHQ0-xcxg.jpeg", "originalHeight": 3033, "originalWidth": 5536, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:3c84c6b4715b_108": { "id": "3c84c6b4715b_108", "name": "79f7", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Fortunately Mynewt OS has everything we need to experiment with this multitasking…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_109": { "id": "3c84c6b4715b_109", "name": "6c8a", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Mynewt’s Mbuf Chains may be used to copy SPI requests easily into a RAM space that’s specially managed by Mynewt OS", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_109.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_109.markups.0": { "type": "STRONG", "start": 9, "end": 20, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_110": { "id": "3c84c6b4715b_110", "name": "cfe5", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Mynewt’s Mbuf Queues may be used to enqueue the SPI requests for transmission by the background task", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_110.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_110.markups.0": { "type": "STRONG", "start": 9, "end": 20, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_111": { "id": "3c84c6b4715b_111", "name": "b503", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Mynewt lets us create a background task to send SPI requests from the Mbuf Queue", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_111.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_111.markups.0": { "type": "STRONG", "start": 24, "end": 39, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_112": { "id": "3c84c6b4715b_112", "name": "17b0", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Let’s look at Mbuf Chains, Mbuf Queues and Multitasking in Mynewt OS.", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_113": { "id": "3c84c6b4715b_113", "name": "3cd0", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Buffer SPI Requests with Mbuf Chains in Mynewt OS", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_114": { "id": "3c84c6b4715b_114", "name": "16d8", "type": "P", "href": null, "layout": null, "metadata": null, "text": "In the Unix world of Network Drivers, Mbufs (short for Memory Buffers) are often used to store network packets. Mbufs were created to make common networking stack operations (like stripping and adding protocol headers) efficient and as copy-free as possible. (Mbufs are also used by the NimBLE Bluetooth Stack, which we have seen in the first PineTime article)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_114.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_114.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_114.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_114.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_114.markups.0": { "type": "A", "start": 38, "end": 43, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fcore_os\u002Fmbuf\u002Fmbuf.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_114.markups.1": { "type": "A", "start": 337, "end": 359, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&sk=d9301466f5499bece3e7b638e99ec20d", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_114.markups.2": { "type": "STRONG", "start": 38, "end": 43, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_114.markups.3": { "type": "EM", "start": 259, "end": 360, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_115": { "id": "3c84c6b4715b_115", "name": "6fc8", "type": "P", "href": null, "layout": null, "metadata": null, "text": "What makes Mbufs so versatile? How are they different from Heap Storage?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_115.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_115.markups.0": { "type": "EM", "start": 0, "end": 72, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_116": { "id": "3c84c6b4715b_116", "name": "b66c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "When handling Network Packets (and SPI Requests), we need a quick way to allocate and deallocate buffers of varying sizes. When we request memory from Heap Storage, we get a contiguous block of RAM that’s exactly what we need (or maybe more). But it causes our Heap Storage to become fragmented and poorly utilised.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_116.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_116.markups.0": { "type": "EM", "start": 284, "end": 315, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_117": { "id": "3c84c6b4715b_117", "name": "23dd", "type": "IMG", "href": null, "layout": "INSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:0*re5J9-NnVP3D_vk9.png", "typename": "ImageMetadata" }, "text": "Chain of Mbufs. From https:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fcore_os\u002Fmbuf\u002Fmbuf.html", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_117.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:0*re5J9-NnVP3D_vk9.png": { "id": "0*re5J9-NnVP3D_vk9.png", "originalHeight": 540, "originalWidth": 720, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:3c84c6b4715b_117.markups.0": { "type": "A", "start": 21, "end": 79, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fcore_os\u002Fmbuf\u002Fmbuf.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_118": { "id": "3c84c6b4715b_118", "name": "845c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "With Mbufs, we get a chain (linked list) of memory blocks instead. We can’t be sure how much RAM we’ll get in each block, but we can be sure that the total RAM in the entire chain meets what we need. (The diagram above shows how Mynewt OS allocates Mbuf Chains in a compact way using fixed-size Mbuf blocks)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_118.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_118.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_118.markups.0": { "type": "STRONG", "start": 21, "end": 57, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_118.markups.1": { "type": "EM", "start": 200, "end": 307, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_119": { "id": "3c84c6b4715b_119", "name": "78df", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Isn’t it harder to code with a chain of memory blocks? Yes, it makes coding more cumbersome, but Mbuf Chains will utilise our tiny pool of RAM on PineTime much better than a Heap Storage allocator.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_119.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_119.markups.0": { "type": "EM", "start": 0, "end": 54, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_120": { "id": "3c84c6b4715b_120", "name": "afff", "type": "P", "href": null, "layout": null, "metadata": null, "text": "With Rust and Mynewt OS, here’s how we allocate an Mbuf Chain and append our SPI request to the Mbuf Chain…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_121": { "id": "3c84c6b4715b_121", "name": "5419", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_121.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_121.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_121.markups.0": { "type": "A", "start": 5, "end": 96, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:6f779a766c9af5fee6523cae4bf98cb6": { "id": "6f779a766c9af5fee6523cae4bf98cb6", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_121.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:6f779a766c9af5fee6523cae4bf98cb6", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_122": { "id": "3c84c6b4715b_122", "name": "b180", "type": "P", "href": null, "layout": null, "metadata": null, "text": "We may call os_mbuf_append as often as we like to append data to our Mbuf Chain, which keeps growing and growing… (Unlike Heap Storage blocks which are fixed-size). So cool!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_122.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_122.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_122.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_122.markups.0": { "type": "CODE", "start": 12, "end": 26, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_122.markups.1": { "type": "A", "start": 12, "end": 26, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fcore_os\u002Fmbuf\u002Fmbuf.html#c.os_mbuf_append", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_122.markups.2": { "type": "EM", "start": 165, "end": 173, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_123": { "id": "3c84c6b4715b_123", "name": "51e0", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here’s how we walk the Mbuf Chain to transmit each block of SPI data in the chain, and deallocate the chain when we’re done…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_124": { "id": "3c84c6b4715b_124", "name": "7e68", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_124.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_124.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_124.markups.0": { "type": "A", "start": 5, "end": 96, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:d6a48faaf4d6a1b2c156f0dbee537d04": { "id": "d6a48faaf4d6a1b2c156f0dbee537d04", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_124.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:d6a48faaf4d6a1b2c156f0dbee537d04", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_125": { "id": "3c84c6b4715b_125", "name": "15ec", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Note that we don’t transmit the entire Mbuf Chain of SPI data in a single SPI operation… We transmit the SPI data one Mbuf at a time. This works fine for PineTime’s ST7789 Display Controller. And with limited RAM, it’s best not to make an extra copy of the entire Mbuf Chain before transmitting.", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_126": { "id": "3c84c6b4715b_126", "name": "e4e5", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Enqueue SPI Requests with Mbuf Queues in Mynewt OS", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_127": { "id": "3c84c6b4715b_127", "name": "b733", "type": "P", "href": null, "layout": null, "metadata": null, "text": "After [embedded-graphics] has completed its rendering, we get an Mbuf Chain that contains the SPI request that will be transmitted to the PineTime Display Controller by the background task. Now we need a way to enqueue the SPI requests (Mbuf Chains) produced by [embedded-graphics]…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_128": { "id": "3c84c6b4715b_128", "name": "dfc5", "type": "IMG", "href": null, "layout": "INSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*n5g0mKyghlDkaCNhcfu2yQ.png", "typename": "ImageMetadata" }, "text": "Enqueuing SPI requests in an MBuf Queue before transmitting", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*n5g0mKyghlDkaCNhcfu2yQ.png": { "id": "1*n5g0mKyghlDkaCNhcfu2yQ.png", "originalHeight": 2230, "originalWidth": 3942, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:3c84c6b4715b_129": { "id": "3c84c6b4715b_129", "name": "c367", "type": "P", "href": null, "layout": null, "metadata": null, "text": "When we use Mbuf Chains in Mynewt OS, we get Mbuf Queues for free!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_129.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_129.markups.0": { "type": "EM", "start": 38, "end": 66, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_130": { "id": "3c84c6b4715b_130", "name": "80b7", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Check the function spi_event_callback from the last code snippet… It’s actually calling os_mqueue_get to read SPI requests (Mbuf Chains) from an Mbuf Queue named SPI_DATA_QUEUE.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_130.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_130.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_130.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_130.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_130.markups.0": { "type": "CODE", "start": 19, "end": 37, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_130.markups.1": { "type": "CODE", "start": 88, "end": 101, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_130.markups.2": { "type": "CODE", "start": 162, "end": 176, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_130.markups.3": { "type": "A", "start": 88, "end": 101, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fcore_os\u002Fmbuf\u002Fmbuf.html#c.os_mqueue_get", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_131": { "id": "3c84c6b4715b_131", "name": "a9ea", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Adding an SPI request to an Mbuf Queue is done by calling os_mqueue_put in Rust like this…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_131.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_131.markups.0": { "type": "CODE", "start": 58, "end": 71, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_132": { "id": "3c84c6b4715b_132", "name": "2df9", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_132.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_132.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_132.markups.0": { "type": "A", "start": 5, "end": 96, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:63fbb1025dc8a2893a551b5df042b21d": { "id": "63fbb1025dc8a2893a551b5df042b21d", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_132.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:63fbb1025dc8a2893a551b5df042b21d", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_133": { "id": "3c84c6b4715b_133", "name": "e602", "type": "P", "href": null, "layout": null, "metadata": null, "text": "spi_noblock_write is the complete Rust function we use in our PineTime firmware to 1️⃣ Allocate an Mbuf Chain 2️⃣ Append the SPI request to the Mbuf Chain 3️⃣ Add the Mbuf Chain to the Mbuf Queue. Yep it’s that easy to use Mbuf Chains and Mbuf Queues in Mynewt OS!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_133.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_133.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_133.markups.0": { "type": "CODE", "start": 0, "end": 17, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_133.markups.1": { "type": "EM", "start": 197, "end": 264, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_134": { "id": "3c84c6b4715b_134", "name": "8904", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Transmit Enqueued SPI Requests with Mynewt Background Task", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_135": { "id": "3c84c6b4715b_135", "name": "56b6", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here comes the final part of our quick experiment… Create a background task in Mynewt to read the Mbuf Queue and transmit each SPI request to PineTime’s Display Controller…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_136": { "id": "3c84c6b4715b_136", "name": "ba6c", "type": "IMG", "href": null, "layout": "INSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*c7kIxO4BfkJo3hhSUloHPw.png", "typename": "ImageMetadata" }, "text": "Transmitting SPI Requests enqueued in an Mbuf Queue", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*c7kIxO4BfkJo3hhSUloHPw.png": { "id": "1*c7kIxO4BfkJo3hhSUloHPw.png", "originalHeight": 2284, "originalWidth": 4755, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:3c84c6b4715b_137": { "id": "3c84c6b4715b_137", "name": "a326", "type": "P", "href": null, "layout": null, "metadata": null, "text": "With Rust and Mynewt OS, here’s how we create a background task SPI_TASK that runs the neverending function spi_task_func…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_137.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_137.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_137.markups.0": { "type": "CODE", "start": 64, "end": 72, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_137.markups.1": { "type": "CODE", "start": 108, "end": 121, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_138": { "id": "3c84c6b4715b_138", "name": "5ef9", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_138.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_138.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_138.markups.0": { "type": "A", "start": 5, "end": 96, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:3aa070c3a2d5e75ac8e6211d2b53a446": { "id": "3aa070c3a2d5e75ac8e6211d2b53a446", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_138.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:3aa070c3a2d5e75ac8e6211d2b53a446", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_139": { "id": "3c84c6b4715b_139", "name": "17a5", "type": "P", "href": null, "layout": null, "metadata": null, "text": "(Note that we’re calling Mynewt to create background tasks instead of using Rust multitasking, because Mynewt controls all our tasks on PineTime)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_139.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_139.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_139.markups.0": { "type": "A", "start": 76, "end": 93, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fbook\u002Fch16-01-threads.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_139.markups.1": { "type": "EM", "start": 0, "end": 145, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_140": { "id": "3c84c6b4715b_140", "name": "1c59", "type": "P", "href": null, "layout": null, "metadata": null, "text": "spi_task_func runs forever, blocking until there’s a request in the Mbuf Queue, and executes the request. The request is handled by the function spi_event_callback that we have seen earlier. (How does Mynewt know that it should invoke spi_event_callback? It’s defined in the call to os_mqueue_init above.)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_140.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_140.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_140.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_140.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_140.markups.4", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_140.markups.5", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_140.markups.6", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_140.markups.7", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_140.markups.0": { "type": "CODE", "start": 0, "end": 13, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_140.markups.1": { "type": "CODE", "start": 145, "end": 163, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_140.markups.2": { "type": "CODE", "start": 235, "end": 253, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_140.markups.3": { "type": "CODE", "start": 283, "end": 297, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_140.markups.4": { "type": "A", "start": 283, "end": 297, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fcore_os\u002Fmbuf\u002Fmbuf.html#c.os_mqueue_init", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_140.markups.5": { "type": "EM", "start": 191, "end": 235, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_140.markups.6": { "type": "EM", "start": 253, "end": 283, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_140.markups.7": { "type": "EM", "start": 297, "end": 305, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_141": { "id": "3c84c6b4715b_141", "name": "2e59", "type": "P", "href": null, "layout": null, "metadata": null, "text": "hal_watchdog_tickle appears oddly in the code… What is that?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_141.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_141.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_141.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_141.markups.0": { "type": "CODE", "start": 0, "end": 19, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_141.markups.1": { "type": "A", "start": 0, "end": 19, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fmodules\u002Fhal\u002Fhal_watchdog\u002Fhal_watchdog.html#c.hal_watchdog_tickle", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_141.markups.2": { "type": "EM", "start": 20, "end": 60, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_142": { "id": "3c84c6b4715b_142", "name": "7560", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Mynewt helpfully pings our background task every couple of milliseconds, to make sure that it’s not hung… That’s why it’s called a Watchdog.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_142.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_142.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_142.markups.0": { "type": "A", "start": 131, "end": 139, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fmodules\u002Fhal\u002Fhal_watchdog\u002Fhal_watchdog.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_142.markups.1": { "type": "STRONG", "start": 131, "end": 139, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_143": { "id": "3c84c6b4715b_143", "name": "3458", "type": "P", "href": null, "layout": null, "metadata": null, "text": "To prevent Mynewt from raising a Watchdog Exception, we need to tell the Watchdog every couple of milliseconds that we are OK… By calling hal_watchdog_tickle", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_143.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_143.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_143.markups.0": { "type": "CODE", "start": 138, "end": 157, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_143.markups.1": { "type": "A", "start": 138, "end": 157, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fmodules\u002Fhal\u002Fhal_watchdog\u002Fhal_watchdog.html#c.hal_watchdog_tickle", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_144": { "id": "3c84c6b4715b_144", "name": "40dd", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Optimised PineTime Display Driver… Assemble!", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_145": { "id": "3c84c6b4715b_145", "name": "9b7e", "type": "P", "href": null, "layout": null, "metadata": null, "text": "This has been a lengthy but quick (two-week) experiment in optimising the display rendering for PineTime. Here’s how we put everything together…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_145.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_145.markups.0": { "type": "EM", "start": 34, "end": 44, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_146": { "id": "3c84c6b4715b_146", "name": "5e60", "type": "P", "href": null, "layout": null, "metadata": null, "text": "1️⃣ We have batched the rendering of pixels by rows and by blocks. This batching code has been added to the [piet-embedded] crate that calls [embedded-graphics] to render 2D graphics and text on our PineTime.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_146.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_146.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_146.markups.0": { "type": "A", "start": 109, "end": 122, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fbatch.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_146.markups.1": { "type": "STRONG", "start": 12, "end": 65, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_147": { "id": "3c84c6b4715b_147", "name": "fcca", "type": "P", "href": null, "layout": null, "metadata": null, "text": "2️⃣ The code that demos the batching of pixels is also in the [piet-embedded] crate. Batching is enabled when we enable the noblock_spi feature in [piet-embedded]’s Cargo.toml like this…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_147.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_147.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_147.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_147.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_147.markups.0": { "type": "CODE", "start": 124, "end": 135, "href": "", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_147.markups.1": { "type": "CODE", "start": 165, "end": 175, "href": "", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_147.markups.2": { "type": "A", "start": 4, "end": 46, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fdisplay.rs", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_147.markups.3": { "type": "A", "start": 165, "end": 175, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002FCargo.toml", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_148": { "id": "3c84c6b4715b_148", "name": "a60b", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002FCargo.toml", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_148.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_148.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_148.markups.0": { "type": "A", "start": 5, "end": 91, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002FCargo.toml", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:5cc17eec02ddaea3ca97600b66f1b191": { "id": "5cc17eec02ddaea3ca97600b66f1b191", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_148.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:5cc17eec02ddaea3ca97600b66f1b191", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_149": { "id": "3c84c6b4715b_149", "name": "0788", "type": "P", "href": null, "layout": null, "metadata": null, "text": "3️⃣ noblock_spi is referenced in the demo code like this…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_149.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_149.markups.0": { "type": "CODE", "start": 4, "end": 15, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_150": { "id": "3c84c6b4715b_150", "name": "d197", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fdisplay.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_150.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_150.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_150.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fdisplay.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:c76a278e26007e740629430566e5c88e": { "id": "c76a278e26007e740629430566e5c88e", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_150.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:c76a278e26007e740629430566e5c88e", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_151": { "id": "3c84c6b4715b_151", "name": "dd93", "type": "P", "href": null, "layout": null, "metadata": null, "text": "4️⃣ We have implemented Non-Blocking SPI with Mbuf Chains and Mbuf Queues (plus a background task). The code is located in the [mynewt] crate.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_151.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_151.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_151.markups.0": { "type": "A", "start": 128, "end": 134, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_151.markups.1": { "type": "STRONG", "start": 24, "end": 73, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_152": { "id": "3c84c6b4715b_152", "name": "b3e4", "type": "P", "href": null, "layout": null, "metadata": null, "text": "5️⃣ We have forked the original [st7735-lcd] display driver into [st7735-lcd-batch] to test Non-Blocking SPI. Non-Blocking SPI is enabled when we enable the noblock_spi feature in [st7735-lcd-batch]’s Cargo.toml…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_152.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_152.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_152.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_152.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_152.markups.0": { "type": "CODE", "start": 157, "end": 168, "href": "", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_152.markups.1": { "type": "CODE", "start": 201, "end": 211, "href": "", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_152.markups.2": { "type": "A", "start": 66, "end": 82, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fst7735-lcd-batch-rs", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_152.markups.3": { "type": "A", "start": 201, "end": 211, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fst7735-lcd-batch-rs\u002Fblob\u002Fmaster\u002FCargo.toml", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_153": { "id": "3c84c6b4715b_153", "name": "5dfc", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fst7735-lcd-batch-rs\u002Fblob\u002Fmaster\u002FCargo.toml", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_153.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_153.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_153.markups.0": { "type": "A", "start": 5, "end": 74, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fst7735-lcd-batch-rs\u002Fblob\u002Fmaster\u002FCargo.toml", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:86790e0afa31f536b3d31c387bb5c6b1": { "id": "86790e0afa31f536b3d31c387bb5c6b1", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_153.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:86790e0afa31f536b3d31c387bb5c6b1", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_154": { "id": "3c84c6b4715b_154", "name": "93b7", "type": "P", "href": null, "layout": null, "metadata": null, "text": "6️⃣ noblock_spi is referenced by [st7735-lcd-batch] like this…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_154.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_154.markups.0": { "type": "CODE", "start": 4, "end": 15, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_155": { "id": "3c84c6b4715b_155", "name": "b7ed", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fst7735-lcd-batch-rs\u002Fblob\u002Fmaster\u002Fsrc\u002Flib.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_155.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_155.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_155.markups.0": { "type": "A", "start": 5, "end": 74, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fst7735-lcd-batch-rs\u002Fblob\u002Fmaster\u002Fsrc\u002Flib.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:4a3914b2d3c4657d9400ac0100710b57": { "id": "4a3914b2d3c4657d9400ac0100710b57", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "__typename": "MediaResource" }, "$Paragraph:3c84c6b4715b_155.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:4a3914b2d3c4657d9400ac0100710b57", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:3c84c6b4715b_156": { "id": "3c84c6b4715b_156", "name": "f603", "type": "P", "href": null, "layout": null, "metadata": null, "text": "(Plus a few other spots in that file)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_156.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_156.markups.0": { "type": "EM", "start": 0, "end": 37, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_157": { "id": "3c84c6b4715b_157", "name": "2256", "type": "P", "href": null, "layout": null, "metadata": null, "text": "We have attempted to optimise the display driver for PineTime… But it’s far from optimal!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_157.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_157.markups.0": { "type": "EM", "start": 63, "end": 89, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_158": { "id": "3c84c6b4715b_158", "name": "6e00", "type": "P", "href": null, "layout": null, "metadata": null, "text": "There are a few parameters that we may tweak to make PineTime render faster… Just be mindful that some of these tweaks will take up precious RAM…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_159": { "id": "3c84c6b4715b_159", "name": "c2e2", "type": "P", "href": null, "layout": null, "metadata": null, "text": "1️⃣ MaxRowSize: Maximum number of pixels per batched row. Currently set to 100.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_159.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_159.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_159.markups.0": { "type": "CODE", "start": 4, "end": 14, "href": "", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_159.markups.1": { "type": "A", "start": 4, "end": 14, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fbatch.rs#L26", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_160": { "id": "3c84c6b4715b_160", "name": "d305", "type": "P", "href": null, "layout": null, "metadata": null, "text": "2️⃣ MaxBlockSize: Maximum number of pixels per batched block. Currently set to 200.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_160.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_160.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_160.markups.0": { "type": "CODE", "start": 4, "end": 16, "href": "", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_160.markups.1": { "type": "A", "start": 4, "end": 16, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fbatch.rs#L28", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_161": { "id": "3c84c6b4715b_161", "name": "447c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "3️⃣ SPI_THROTTLE_SEM: How many SPI requests are allowed to be enqueued before blocking the rendering task. Currently set to 2.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_161.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_161.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_161.markups.0": { "type": "CODE", "start": 4, "end": 20, "href": "", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_161.markups.1": { "type": "A", "start": 4, "end": 20, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fmynewt\u002Fsrc\u002Fspi.rs#L109", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_162": { "id": "3c84c6b4715b_162", "name": "05bc", "type": "P", "href": null, "layout": null, "metadata": null, "text": "4️⃣ OS_MAIN_STACK_SIZE: Stack Size for the main task. Currently set to 16 KB", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_162.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_162.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_162.markups.0": { "type": "CODE", "start": 4, "end": 22, "href": "", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_162.markups.1": { "type": "A", "start": 4, "end": 22, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Fapps\u002Fmy_sensor_app\u002Fsyscfg.yml#L100", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_163": { "id": "3c84c6b4715b_163", "name": "85d7", "type": "P", "href": null, "layout": null, "metadata": null, "text": "5️⃣ MSYS_1_BLOCK_COUNT: Number of Mbuf blocks available. Currently set to 64.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_163.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_163.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_163.markups.0": { "type": "CODE", "start": 4, "end": 22, "href": "", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_163.markups.1": { "type": "A", "start": 4, "end": 22, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Fapps\u002Fmy_sensor_app\u002Fsyscfg.yml#L102", "anchorType": "LINK", "userId": "", "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_164": { "id": "3c84c6b4715b_164", "name": "8534", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Is it possible to render PineTime graphics at the theoretical maximum speed of the SPI bus? Read this", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_164.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_164.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_164.markups.0": { "type": "A", "start": 0, "end": 101, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fgist.github.com\u002Flupyuen\u002F35d8471a200bebd4bd6de8696d3eeff0", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_164.markups.1": { "type": "EM", "start": 0, "end": 101, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_165": { "id": "3c84c6b4715b_165", "name": "bef2", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "What’s Next?", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_166": { "id": "3c84c6b4715b_166", "name": "1d10", "type": "P", "href": null, "layout": null, "metadata": null, "text": "PineTime is available for purchase by general public! Check this article for updated instructions to build and flash PineTime firmware…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_166.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_166.markups.0": { "type": "A", "start": 0, "end": 52, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fstore.pine64.org\u002F?product=pinetime-dev-kit", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_167": { "id": "3c84c6b4715b_167", "name": "8e9e", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "Build and Flash Rust+Mynewt Firmware for PineTime Smart Watch\nAll you need is a Raspberry Pi and a Windows or macOS computer!medium.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_167.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_167.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_167.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_167.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:3c84c6b4715b_167.markups.0": { "type": "A", "start": 0, "end": 135, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuild-and-flash-rust-mynewt-firmware-for-pinetime-smart-watch-5e14259c55", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_167.markups.1": { "type": "STRONG", "start": 0, "end": 61, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_167.markups.2": { "type": "EM", "start": 62, "end": 125, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:3c84c6b4715b_167.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuild-and-flash-rust-mynewt-firmware-for-pinetime-smart-watch-5e14259c55", "thumbnailImageId": "1*Gfl2dimLEVRKPB9BdCus7g.jpeg", "__typename": "MixtapeMetadata" }, "Paragraph:3c84c6b4715b_168": { "id": "3c84c6b4715b_168", "name": "ac85", "type": "P", "href": null, "layout": null, "metadata": null, "text": "In the next article we’ll have…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_169": { "id": "3c84c6b4715b_169", "name": "858c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "1️⃣ The prebuilt Rust + Mynewt OS firmware that we may download and install on PineTime", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_169.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_169.markups.0": { "type": "STRONG", "start": 8, "end": 42, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_170": { "id": "3c84c6b4715b_170", "name": "dfea", "type": "P", "href": null, "layout": null, "metadata": null, "text": "2️⃣ Instructions for flashing the firmware to PineTime with Raspberry Pi (or ST Link)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_170.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_170.markups.0": { "type": "STRONG", "start": 4, "end": 42, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_171": { "id": "3c84c6b4715b_171", "name": "6a1a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "3️⃣ Instructions for developing our own Watch Apps with the druid Rust UI Framework", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_171.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_171.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_171.markups.0": { "type": "A", "start": 60, "end": 83, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a?source=friends_link&sk=09b153c68483f7fa9e63350efd167b07", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_171.markups.1": { "type": "STRONG", "start": 4, "end": 50, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_172": { "id": "3c84c6b4715b_172", "name": "3927", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Stay tuned!", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_173": { "id": "3c84c6b4715b_173", "name": "023f", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here are the other articles in the PineTime series…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_173.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:3c84c6b4715b_173.markups.0": { "type": "EM", "start": 0, "end": 51, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_174": { "id": "3c84c6b4715b_174", "name": "3ef1", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "Sneak Peek of PineTime Smart Watch… And why it’s perfect for teaching IoT\nI’m one of the lucky few who received the developer preview version of the PineTime Smart Watch by Pine64. (My official…medium.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_174.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_174.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_174.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_174.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:3c84c6b4715b_174.markups.0": { "type": "A", "start": 0, "end": 204, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_174.markups.1": { "type": "STRONG", "start": 0, "end": 73, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_174.markups.2": { "type": "EM", "start": 74, "end": 194, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:3c84c6b4715b_174.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159", "thumbnailImageId": "1*1oFvRxqOf1kUmCAxPaJXpw.jpeg", "__typename": "MixtapeMetadata" }, "Paragraph:3c84c6b4715b_175": { "id": "3c84c6b4715b_175", "name": "606b", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "Building a Rust Driver for PineTime’s Touch Controller\nPretend you’re my IoT student. I give you a PineTime Smart Watch and challenge you to “Make it work… Especially the…medium.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_175.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_175.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_175.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_175.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:3c84c6b4715b_175.markups.0": { "type": "A", "start": 0, "end": 181, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_175.markups.1": { "type": "STRONG", "start": 0, "end": 54, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_175.markups.2": { "type": "EM", "start": 55, "end": 171, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:3c84c6b4715b_175.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9", "thumbnailImageId": "1*P9NuG-tqsK3YKVo97v7PRA.png", "__typename": "MixtapeMetadata" }, "Paragraph:3c84c6b4715b_176": { "id": "3c84c6b4715b_176", "name": "02c0", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "Porting [druid] Rust Widgets to PineTime Smart Watch\nA button that responds to our tapping and increments a counter… That’s what we shall accomplish today on the PineTime…medium.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_176.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_176.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_176.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_176.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:3c84c6b4715b_176.markups.0": { "type": "A", "start": 0, "end": 181, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_176.markups.1": { "type": "STRONG", "start": 0, "end": 52, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_176.markups.2": { "type": "EM", "start": 53, "end": 171, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:3c84c6b4715b_176.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "thumbnailImageId": "1*t14h6Hs6uVUifppiEBptFQ.png", "__typename": "MixtapeMetadata" }, "Paragraph:3c84c6b4715b_177": { "id": "3c84c6b4715b_177", "name": "cc63", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "Build and Flash Rust+Mynewt Firmware for PineTime Smart Watch\nAll you need is a Raspberry Pi and a Windows or macOS computer!medium.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_177.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_177.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_177.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_177.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:3c84c6b4715b_177.markups.0": { "type": "A", "start": 0, "end": 135, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuild-and-flash-rust-mynewt-firmware-for-pinetime-smart-watch-5e14259c55", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_177.markups.1": { "type": "STRONG", "start": 0, "end": 61, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_177.markups.2": { "type": "EM", "start": 62, "end": 125, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:3c84c6b4715b_177.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuild-and-flash-rust-mynewt-firmware-for-pinetime-smart-watch-5e14259c55", "thumbnailImageId": "1*Gfl2dimLEVRKPB9BdCus7g.jpeg", "__typename": "MixtapeMetadata" }, "Paragraph:3c84c6b4715b_178": { "id": "3c84c6b4715b_178", "name": "ed20", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "Debug Rust+Mynewt Firmware for PineTime on Raspberry Pi\nUsing only a Raspberry Pi, we may debug the firmware on PineTime Smart Watch: Step into the flashed program line by…medium.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_178.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_178.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_178.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_178.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:3c84c6b4715b_178.markups.0": { "type": "A", "start": 0, "end": 182, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fdebug-rust-mynewt-firmware-for-pinetime-on-raspberry-pi-4b9ac2d093a9", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_178.markups.1": { "type": "STRONG", "start": 0, "end": 55, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_178.markups.2": { "type": "EM", "start": 56, "end": 172, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:3c84c6b4715b_178.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fdebug-rust-mynewt-firmware-for-pinetime-on-raspberry-pi-4b9ac2d093a9", "thumbnailImageId": "1*VYiiT3x-WhL7EaIJAIw-iw.png", "__typename": "MixtapeMetadata" }, "Paragraph:3c84c6b4715b_179": { "id": "3c84c6b4715b_179", "name": "3c49", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "My First Week As Embedded FOSS Advocate\nChallenges teaching Embedded IoT with free open-source softwaremedium.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_179.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_179.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_179.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_179.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:3c84c6b4715b_179.markups.0": { "type": "A", "start": 0, "end": 113, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fmy-first-week-as-embedded-foss-advocate-106d625deae", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_179.markups.1": { "type": "STRONG", "start": 0, "end": 39, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_179.markups.2": { "type": "EM", "start": 40, "end": 103, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:3c84c6b4715b_179.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fmy-first-week-as-embedded-foss-advocate-106d625deae", "thumbnailImageId": "1*9mLfAh8QBiblQJM11-t45g.jpeg", "__typename": "MixtapeMetadata" }, "Paragraph:3c84c6b4715b_180": { "id": "3c84c6b4715b_180", "name": "326c", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "Visual Embedded Rust\nCreate and edit Embedded Rust programs visually by dragging and dropping blocks Generates Embedded Rust firmware code…marketplace.visualstudio.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_180.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_180.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_180.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_180.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:3c84c6b4715b_180.markups.0": { "type": "A", "start": 0, "end": 167, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmarketplace.visualstudio.com\u002Fitems?itemName=LeeLupYuen.visual-embedded-rust", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_180.markups.1": { "type": "STRONG", "start": 0, "end": 20, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_180.markups.2": { "type": "EM", "start": 21, "end": 139, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:3c84c6b4715b_180.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmarketplace.visualstudio.com\u002Fitems?itemName=LeeLupYuen.visual-embedded-rust", "thumbnailImageId": "0*R66H9Rz8cp1mz4iU", "__typename": "MixtapeMetadata" }, "Paragraph:3c84c6b4715b_181": { "id": "3c84c6b4715b_181", "name": "3a37", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "chip8.rs: CHIP-8 Game Emulator in Rust for PineTime Smart Watch\nSpace Invaders running on CHIP-8 Emulator on PineTime Smart Watch Running Retro Games with Rust is not that hard on…lupyuen.github.io", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_181.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_181.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:3c84c6b4715b_181.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:3c84c6b4715b_181.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:3c84c6b4715b_181.markups.0": { "type": "A", "start": 0, "end": 197, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Flupyuen.github.io\u002Fpinetime-rust-mynewt\u002Farticles\u002Fchip8", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_181.markups.1": { "type": "STRONG", "start": 0, "end": 63, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:3c84c6b4715b_181.markups.2": { "type": "EM", "start": 64, "end": 180, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:3c84c6b4715b_181.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Flupyuen.github.io\u002Fpinetime-rust-mynewt\u002Farticles\u002Fchip8", "thumbnailImageId": "0*2y7Ab7xWDZejXLrQ", "__typename": "MixtapeMetadata" }, "Tag:rust": { "id": "rust", "displayTitle": "Rust", "__typename": "Tag" }, "Tag:programming": { "id": "programming", "displayTitle": "Programming", "__typename": "Tag" }, "Tag:gadgets": { "id": "gadgets", "displayTitle": "Gadgets", "__typename": "Tag" }, "Tag:internet-of-things": { "id": "internet-of-things", "displayTitle": "Internet of Things", "__typename": "Tag" }, "Tag:embedded-systems": { "id": "embedded-systems", "displayTitle": "Embedded Systems", "__typename": "Tag" }, "$Post:3ba269ea2f5c.postResponses": { "count": 0, "__typename": "PostResponses" }, "Post:8b67ef7412d7": { "__typename": "Post", "id": "8b67ef7412d7", "title": "Visual Programming with Embedded Rust? Yes we can with Apache Mynewt and Google Blockly!", "mediumUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fvisual-programming-with-embedded-rust-yes-we-can-with-apache-mynewt-and-google-blockly-8b67ef7412d7", "previewImage": { "type": "id", "generated": false, "id": "ImageMetadata:1*mdQJEEvM9AQsiTyhvVda7A.png", "typename": "ImageMetadata" }, "isPublished": true, "firstPublishedAt": 1562839834847, "readingTime": 8.362264150943396, "statusForCollection": null, "isLocked": true, "visibility": "LOCKED", "collection": null, "creator": { "type": "id", "generated": false, "id": "User:1da08193a324", "typename": "User" }, "previewContent": { "type": "id", "generated": true, "id": "$Post:8b67ef7412d7.previewContent", "typename": "PreviewContent" } }, "ImageMetadata:1*mdQJEEvM9AQsiTyhvVda7A.png": { "id": "1*mdQJEEvM9AQsiTyhvVda7A.png", "focusPercentX": null, "focusPercentY": null, "__typename": "ImageMetadata" }, "$Post:8b67ef7412d7.previewContent": { "isFullContent": false, "__typename": "PreviewContent" }, "Post:4ab00cfda10d": { "__typename": "Post", "id": "4ab00cfda10d", "title": "Breaking Circular Dependencies in Recursive Union Types With C++17: The Curious Case of…", "mediumUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@dennis.luxen\u002Fbreaking-circular-dependencies-in-recursive-union-types-with-c-17-the-curious-case-of-4ab00cfda10d", "previewImage": { "type": "id", "generated": false, "id": "ImageMetadata:", "typename": "ImageMetadata" }, "isPublished": true, "firstPublishedAt": 1556481359999, "readingTime": 3.9207547169811323, "statusForCollection": null, "isLocked": true, "visibility": "LOCKED", "collection": null, "creator": { "type": "id", "generated": false, "id": "User:5e68d494c940", "typename": "User" }, "previewContent": { "type": "id", "generated": true, "id": "$Post:4ab00cfda10d.previewContent", "typename": "PreviewContent" } }, "ImageMetadata:": { "id": "", "focusPercentX": null, "focusPercentY": null, "__typename": "ImageMetadata" }, "User:5e68d494c940": { "name": "Don’t Compute In Public", "username": "dennis.luxen", "id": "5e68d494c940", "bio": "", "isFollowing": null, "imageId": "0*iruV2TXf6vnTr76U.jpg", "mediumMemberAt": 0, "__typename": "User" }, "$Post:4ab00cfda10d.previewContent": { "isFullContent": false, "__typename": "PreviewContent" }, "Post:11a935ac3d95": { "__typename": "Post", "id": "11a935ac3d95", "title": "Using SQLite with Rust and Actix Web (with Tests)", "mediumUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Flevelup.gitconnected.com\u002Fusing-sqlite-with-rust-and-actix-web-with-tests-11a935ac3d95", "previewImage": { "type": "id", "generated": false, "id": "ImageMetadata:0*Y_p2i3T0L0Y3w9Hw.jpg", "typename": "ImageMetadata" }, "isPublished": true, "firstPublishedAt": 1591843329763, "readingTime": 6.90566037735849, "statusForCollection": "APPROVED", "isLocked": false, "visibility": "PUBLIC", "collection": { "type": "id", "generated": false, "id": "Collection:5517fd7b58a6", "typename": "Collection" }, "creator": { "type": "id", "generated": false, "id": "User:5114de41076a", "typename": "User" }, "previewContent": { "type": "id", "generated": true, "id": "$Post:11a935ac3d95.previewContent", "typename": "PreviewContent" } }, "ImageMetadata:0*Y_p2i3T0L0Y3w9Hw.jpg": { "id": "0*Y_p2i3T0L0Y3w9Hw.jpg", "focusPercentX": null, "focusPercentY": null, "__typename": "ImageMetadata" }, "Collection:5517fd7b58a6": { "name": "Level Up Coding", "id": "5517fd7b58a6", "slug": "gitconnected", "domain": "levelup.gitconnected.com", "__typename": "Collection" }, "User:5114de41076a": { "name": "Uk Chukundah", "username": "ukchukx", "id": "5114de41076a", "bio": "Software engineer & accountant. I ruminate and regurgitate here.", "isFollowing": null, "imageId": "1*h5y20Q4CN5TgviSv2j42Hg.jpeg", "mediumMemberAt": 0, "__typename": "User" }, "$Post:11a935ac3d95.previewContent": { "isFullContent": false, "__typename": "PreviewContent" }, "Post:301f0a9a797d": { "__typename": "Post", "id": "301f0a9a797d", "title": "Binary Search vs. Eytzinger Order", "mediumUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fbinary-search-vs-eytzinger-order-301f0a9a797d", "previewImage": { "type": "id", "generated": false, "id": "ImageMetadata:1*oDNtPnLQgA5Z2X8dn1yQdQ.png", "typename": "ImageMetadata" }, "isPublished": true, "firstPublishedAt": 1591613755322, "readingTime": 3.659433962264151, "statusForCollection": "APPROVED", "isLocked": false, "visibility": "PUBLIC", "collection": { "type": "id", "generated": false, "id": "Collection:f5af2b715248", "typename": "Collection" }, "creator": { "type": "id", "generated": false, "id": "User:3c5928934a5e", "typename": "User" }, "previewContent": { "type": "id", "generated": true, "id": "$Post:301f0a9a797d.previewContent", "typename": "PreviewContent" } }, "ImageMetadata:1*oDNtPnLQgA5Z2X8dn1yQdQ.png": { "id": "1*oDNtPnLQgA5Z2X8dn1yQdQ.png", "focusPercentX": null, "focusPercentY": null, "__typename": "ImageMetadata" }, "Collection:f5af2b715248": { "name": "The Startup", "id": "f5af2b715248", "slug": "swlh", "domain": null, "__typename": "Collection" }, "User:3c5928934a5e": { "name": "Maxim Zaks", "username": "icex33", "id": "3c5928934a5e", "bio": "Tells computers how to waste electricity. Hopefully in efficient, or at least useful way.", "isFollowing": null, "imageId": "0*cDlOmXgBwGamXnY9.jpeg", "mediumMemberAt": 0, "__typename": "User" }, "$Post:301f0a9a797d.previewContent": { "isFullContent": false, "__typename": "PreviewContent" }, "Post:b7f1a1508e89": { "__typename": "Post", "id": "b7f1a1508e89", "title": "STM32 Blue Pill — Dissecting the WebUSB Bootloader for MakeCode", "mediumUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fstm32-blue-pill-dissecting-the-webusb-bootloader-for-makecode-b7f1a1508e89", "previewImage": { "type": "id", "generated": false, "id": "ImageMetadata:1*0P7BkmUox48Rak_cta48QA.png", "typename": "ImageMetadata" }, "isPublished": true, "firstPublishedAt": 1550250106544, "readingTime": 12.382389937106918, "statusForCollection": "PENDING", "isLocked": true, "visibility": "LOCKED", "collection": null, "creator": { "type": "id", "generated": false, "id": "User:1da08193a324", "typename": "User" }, "previewContent": { "type": "id", "generated": true, "id": "$Post:b7f1a1508e89.previewContent", "typename": "PreviewContent" } }, "ImageMetadata:1*0P7BkmUox48Rak_cta48QA.png": { "id": "1*0P7BkmUox48Rak_cta48QA.png", "focusPercentX": null, "focusPercentY": null, "__typename": "ImageMetadata" }, "$Post:b7f1a1508e89.previewContent": { "isFullContent": false, "__typename": "PreviewContent" }, "Post:7e47122716dc": { "__typename": "Post", "id": "7e47122716dc", "title": "Sigfox Teacher Answers Your Questions", "mediumUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fsigfox-teacher-answers-your-questions-7e47122716dc", "previewImage": { "type": "id", "generated": false, "id": "ImageMetadata:1*C5-q9x36EEXy_rIdr9zvkg.jpeg", "typename": "ImageMetadata" }, "isPublished": true, "firstPublishedAt": 1544164661189, "readingTime": 5.343396226415095, "statusForCollection": "PENDING", "isLocked": true, "visibility": "LOCKED", "collection": null, "creator": { "type": "id", "generated": false, "id": "User:1da08193a324", "typename": "User" }, "previewContent": { "type": "id", "generated": true, "id": "$Post:7e47122716dc.previewContent", "typename": "PreviewContent" } }, "ImageMetadata:1*C5-q9x36EEXy_rIdr9zvkg.jpeg": { "id": "1*C5-q9x36EEXy_rIdr9zvkg.jpeg", "focusPercentX": null, "focusPercentY": null, "__typename": "ImageMetadata" }, "$Post:7e47122716dc.previewContent": { "isFullContent": false, "__typename": "PreviewContent" }, "Post:1bc1262e398c": { "__typename": "Post", "id": "1bc1262e398c", "title": "Visual Embedded Rust Programming with Visual Studio Code", "mediumUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fblog.usejournal.com\u002Fvisual-embedded-rust-programming-with-visual-studio-code-1bc1262e398c", "previewImage": { "type": "id", "generated": false, "id": "ImageMetadata:1*cWkz4VgkkdnGOdTMoAxcmQ.png", "typename": "ImageMetadata" }, "isPublished": true, "firstPublishedAt": 1566020733104, "readingTime": 12.829245283018869, "statusForCollection": "APPROVED", "isLocked": true, "visibility": "LOCKED", "collection": { "type": "id", "generated": false, "id": "Collection:7b837cf1fd73", "typename": "Collection" }, "creator": { "type": "id", "generated": false, "id": "User:1da08193a324", "typename": "User" }, "previewContent": { "type": "id", "generated": true, "id": "$Post:1bc1262e398c.previewContent", "typename": "PreviewContent" } }, "ImageMetadata:1*cWkz4VgkkdnGOdTMoAxcmQ.png": { "id": "1*cWkz4VgkkdnGOdTMoAxcmQ.png", "focusPercentX": null, "focusPercentY": null, "__typename": "ImageMetadata" }, "Collection:7b837cf1fd73": { "name": "Noteworthy - The Journal Blog", "id": "7b837cf1fd73", "slug": "did-you-know-the-journal-blog", "domain": "blog.usejournal.com", "__typename": "Collection" }, "$Post:1bc1262e398c.previewContent": { "isFullContent": false, "__typename": "PreviewContent" }, "Post:d4327714f8ee": { "__typename": "Post", "id": "d4327714f8ee", "title": "Curiosity Strikes! The Intricacies Before main() in C", "mediumUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200612094614\u002Fhttps:\u002F\u002Fmedium.com\u002F@ssofia\u002Fcuriosity-strikes-the-intricacies-before-main-in-c-d4327714f8ee", "previewImage": { "type": "id", "generated": false, "id": "ImageMetadata:1*7_Z7QZWhqnN8PWIbGVbgSA.png", "typename": "ImageMetadata" }, "isPublished": true, "firstPublishedAt": 1591686980864, "readingTime": 2.9833333333333334, "statusForCollection": "PENDING", "isLocked": true, "visibility": "LOCKED", "collection": null, "creator": { "type": "id", "generated": false, "id": "User:8b77d55cad67", "typename": "User" }, "previewContent": { "type": "id", "generated": true, "id": "$Post:d4327714f8ee.previewContent", "typename": "PreviewContent" } }, "ImageMetadata:1*7_Z7QZWhqnN8PWIbGVbgSA.png": { "id": "1*7_Z7QZWhqnN8PWIbGVbgSA.png", "focusPercentX": null, "focusPercentY": null, "__typename": "ImageMetadata" }, "User:8b77d55cad67": { "name": "Stella Sofia", "username": "ssofia", "id": "8b77d55cad67", "bio": "Software Geek | Yoga Instructor🧘 | Life Coach", "isFollowing": null, "imageId": "1*VNX1l3KZbKpx4BJgbUX7ng@2x.jpeg", "mediumMemberAt": 1515595029000, "__typename": "User" }, "$Post:d4327714f8ee.previewContent": { "isFullContent": false, "__typename": "PreviewContent" }, "$Post:3ba269ea2f5c.internalLinks({\"paging\":{\"limit\":8}})": { "items": [{ "type": "id", "generated": false, "id": "Post:8b67ef7412d7", "typename": "Post" }, { "type": "id", "generated": false, "id": "Post:4ab00cfda10d", "typename": "Post" }, { "type": "id", "generated": false, "id": "Post:11a935ac3d95", "typename": "Post" }, { "type": "id", "generated": false, "id": "Post:301f0a9a797d", "typename": "Post" }, { "type": "id", "generated": false, "id": "Post:b7f1a1508e89", "typename": "Post" }, { "type": "id", "generated": false, "id": "Post:7e47122716dc", "typename": "Post" }, { "type": "id", "generated": false, "id": "Post:1bc1262e398c", "typename": "Post" }, { "type": "id", "generated": false, "id": "Post:d4327714f8ee", "typename": "Post" }], "__typename": "InternalLinksConnection" }, "$Post:3ba269ea2f5c.previewContent": { "subtitle": "Simple tweaks like Batched Updates and Non-Blocking SPI can have a huge impact on rendering performance…", "__typename": "PreviewContent" } }</script>
  <script
    src="https://web.archive.org/web/20200612094614js_/https://cdn-client.medium.com/lite/static/js/manifest.2a8725af.js"></script>
  <script
    src="https://web.archive.org/web/20200612094614js_/https://cdn-client.medium.com/lite/static/js/vendors~main.a99cd09e.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200612094614js_/https://cdn-client.medium.com/lite/static/js/main.9a0dacd9.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200612094614js_/https://cdn-client.medium.com/lite/static/js/vendors~instrumentation.43e69c0d.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200612094614js_/https://cdn-client.medium.com/lite/static/js/instrumentation.e6230167.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200612094614js_/https://cdn-client.medium.com/lite/static/js/reporting.5c294ac2.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200612094614js_/https://cdn-client.medium.com/lite/static/js/vendors~AMPPost~CollectionHomepage~CollectionHomepagePreview~CollectionNewShortformEditor~Collection~37c9fa1e.77e6fe9c.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200612094614js_/https://cdn-client.medium.com/lite/static/js/vendors~AMPPost~DebugCachedPost~Post~SequencePost~Series.0bf77567.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200612094614js_/https://cdn-client.medium.com/lite/static/js/AMPPost~CollectionHomepage~CollectionHomepagePreview~CollectionNewShortformEditor~CollectionPostShor~3fa3f642.befd7a7d.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200612094614js_/https://cdn-client.medium.com/lite/static/js/AMPPost~CollectionHomepage~CollectionHomepagePreview~DebugCachedPost~PackageBuilder~Post~SequenceLib~32b7ff81.8ab67ca0.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200612094614js_/https://cdn-client.medium.com/lite/static/js/Post.eb51235c.chunk.js"></script>
  <script>window.main();</script>
</body>

</html>
<!--
     FILE ARCHIVED ON 09:46:14 Jun 12, 2020 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 10:45:36 Feb 21, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 159.551
  exclusion.robots: 0.292
  exclusion.robots.policy: 0.279
  RedisCDXSource: 2.3
  esindex: 0.012
  LoadShardBlock: 122.905 (3)
  PetaboxLoader3.datanode: 129.513 (4)
  CDXLines.iter: 30.297 (3)
  load_resource: 80.342
  PetaboxLoader3.resolve: 22.986
-->