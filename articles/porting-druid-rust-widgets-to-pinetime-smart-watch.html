<!doctype html>
<html lang="en">

<head>
  <script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
  <script
    type="text/javascript">window.addEventListener('DOMContentLoaded', function () { var v = archive_analytics.values; v.service = 'wb'; v.server_name = 'wwwb-app102.us.archive.org'; v.server_ms = 396; archive_analytics.send_pageview({}); });</script>
  <script type="text/javascript" src="/_static/js/playback.bundle.js?v=bQvHU8mx" charset="utf-8"></script>
  <script type="text/javascript" src="/_static/js/wombat.js?v=cRqOKCOw" charset="utf-8"></script>
  <script type="text/javascript">
    __wm.init("https://web.archive.org/web");
    __wm.wombat("https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "20200109044808", "https://web.archive.org/", "web", "/_static/",
      "1578545288");
  </script>
  <link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=bsmaklHF" />
  <link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
  <!-- End Wayback Rewrite JS Include -->
  <script>!function (c, f) { var t, o, i, e = [], r = { passive: !0, capture: !0 }, n = new Date, a = "pointerup", u = "pointercancel"; function p(n, e) { t || (t = e, o = n, i = new Date, w(f), s()) } function s() { 0 <= o && o < i - n && (e.forEach(function (n) { n(o, t) }), e = []) } function l(n) { if (n.cancelable) { var e = (1e12 < n.timeStamp ? new Date : performance.now()) - n.timeStamp; "pointerdown" == n.type ? function (n, e) { function t() { p(n, e), i() } function o() { i() } function i() { f(a, t, r), f(u, o, r) } c(a, t, r), c(u, o, r) }(e, n) : p(e, n) } } function w(e) { ["click", "mousedown", "keydown", "touchstart", "pointerdown"].forEach(function (n) { e(n, l, r) }) } w(c), self.perfMetrics = self.perfMetrics || {}, self.perfMetrics.onFirstInputDelay = function (n) { e.push(n), s() } }(addEventListener, removeEventListener)</script>
  <title data-rh="true">Porting [druid] Rust Widgets to PineTime Smart Watch</title>
  <meta data-rh="true" charset="utf-8" />
  <meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1" />
  <meta data-rh="true" name="theme-color" content="#000000" />
  <meta data-rh="true" name="twitter:app:name:iphone" content="Medium" />
  <meta data-rh="true" name="twitter:app:id:iphone" content="828256236" />
  <meta data-rh="true" property="al:ios:app_name" content="Medium" />
  <meta data-rh="true" property="al:ios:app_store_id" content="828256236" />
  <meta data-rh="true" property="al:android:package" content="com.medium.reader" />
  <meta data-rh="true" property="fb:app_id" content="542599432471018" />
  <meta data-rh="true" property="og:site_name" content="Medium" />
  <meta data-rh="true" property="og:type" content="article" />
  <meta data-rh="true" property="article:published_time" content="2020-01-02T10:06:01.676Z" />
  <meta data-rh="true" name="title" content="Porting [druid] Rust Widgets to PineTime Smart Watch" />
  <meta data-rh="true" property="og:title" content="Porting [druid] Rust Widgets to PineTime Smart Watch" />
  <meta data-rh="true" property="twitter:title" content="Porting [druid] Rust Widgets to PineTime Smart Watch" />
  <meta data-rh="true" name="twitter:site" content="@Medium" />
  <meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/7e1d5a5d977a" />
  <meta data-rh="true" property="al:android:url" content="medium://p/7e1d5a5d977a" />
  <meta data-rh="true" property="al:ios:url" content="medium://p/7e1d5a5d977a" />
  <meta data-rh="true" property="al:android:app_name" content="Medium" />
  <meta data-rh="true" name="description"
    content="A button that responds to our tapping and increments a counter… That’s what we shall accomplish today on the PineTime Smart Watch… In [druid], UI controls are known as Widgets. Our app contains two…" />
  <meta data-rh="true" property="og:description"
    content="A button that responds to our tapping and increments a counter… That’s what we shall accomplish today on the PineTime Smart Watch…" />
  <meta data-rh="true" property="twitter:description"
    content="A button that responds to our tapping and increments a counter… That’s what we shall accomplish today on the PineTime Smart Watch…" />
  <meta data-rh="true" property="og:url"
    content="https://web.archive.org/web/20200109044808/https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a" />
  <meta data-rh="true" property="al:web:url"
    content="https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a" />
  <meta data-rh="true" property="og:image"
    content="https://web.archive.org/web/20200109044808im_/https://miro.medium.com/max/1200/1*t14h6Hs6uVUifppiEBptFQ.png" />
  <meta data-rh="true" name="twitter:image:src"
    content="https://miro.medium.com/max/1200/1*t14h6Hs6uVUifppiEBptFQ.png" />
  <meta data-rh="true" name="twitter:card" content="summary_large_image" />
  <meta data-rh="true" property="article:author" content="https://medium.com/@ly.lee" />
  <meta data-rh="true" name="twitter:creator" content="@MisterTechBlog" />
  <meta data-rh="true" name="author" content="Lup Yuen Lee 李立源" />
  <meta data-rh="true" name="robots" content="index,follow" />
  <meta data-rh="true" name="referrer" content="unsafe-url" />
  <meta data-rh="true" name="twitter:label1" value="Reading time" />
  <meta data-rh="true" name="twitter:data1" value="12 min read" />
  <meta data-rh="true" name="parsely-post-id" content="7e1d5a5d977a" />
  <link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium"
    href="/web/20200109044808/https://medium.com/osd.xml" />
  <link data-rh="true" rel="apple-touch-icon" sizes="152x152"
    href="https://web.archive.org/web/20200109044808im_/https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png" />
  <link data-rh="true" rel="apple-touch-icon" sizes="120x120"
    href="https://web.archive.org/web/20200109044808im_/https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png" />
  <link data-rh="true" rel="apple-touch-icon" sizes="76x76"
    href="https://web.archive.org/web/20200109044808im_/https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png" />
  <link data-rh="true" rel="apple-touch-icon" sizes="60x60"
    href="https://web.archive.org/web/20200109044808im_/https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png" />
  <link data-rh="true" rel="mask-icon"
    href="https://web.archive.org/web/20200109044808im_/https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg"
    color="#171717" />
  <link data-rh="true" rel="icon"
    href="https://web.archive.org/web/20200109044808im_/https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico" />
  <link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css"
    href="https://web.archive.org/web/20200109044808cs_/https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css" />
  <link data-rh="true" rel="author" href="https://medium.com/@ly.lee" />
  <link data-rh="true" rel="canonical"
    href="https://web.archive.org/web/20200109044808/https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a" />
  <link data-rh="true" rel="alternate"
    href="https://web.archive.org/web/20200109044808/android-app://com.medium.reader/https/medium.com/p/7e1d5a5d977a" />
  <script data-rh="true"
    type="application/ld+json">{"@context":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttp:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*t14h6Hs6uVUifppiEBptFQ.png"],"url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a","dateCreated":"2019-12-14T08:47:33.417Z","datePublished":"2019-12-14T08:47:33.417Z","dateModified":"2020-01-02T10:06:01.956Z","headline":"Porting [druid] Rust Widgets to PineTime Smart Watch","name":"Porting [druid] Rust Widgets to PineTime Smart Watch","description":"A button that responds to our tapping and increments a counter… That’s what we shall accomplish today on the PineTime Smart Watch… In [druid], UI controls are known as Widgets. Our app contains two…","identifier":"7e1d5a5d977a","keywords":["Lite:true","Tag:Rust","Tag:Internet of Things","Tag:Gadgets","Tag:Programming","Tag:Nrf52","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:4"],"author":{"@type":"Person","name":"Lup Yuen Lee 李立源","url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee"},"creator":["Lup Yuen Lee 李立源"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F616\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"}</script>
  <script data-rh="true">(function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
          m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
      })(window, document, 'script', 'https://web.archive.org/web/20200109044808/https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-24232453-2', 'auto');
    ga('send', 'pageview');</script>
  <link rel="preload" href="https://web.archive.org/web/20200109044808/https://cdn.optimizely.com/js/16180790160.js"
    as="script">

<!-- Begin scripts/rustdoc-header.html: Header for Custom Markdown files processed by rustdoc, like chip8.md -->
<link rel="alternate" type="application/rss+xml" title="RSS Feed for lupyuen" href="/rss.xml" />
<link rel="stylesheet" type="text/css" href="../normalize.css">
<link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle">
<link rel="stylesheet" type="text/css" href="../dark.css">
<link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle">
<link rel="stylesheet" type="text/css" href="../prism.css">
<script src="../storage.js"></script><noscript>
<link rel="stylesheet" href="../noscript.css"></noscript>
<link rel="shortcut icon" href="../favicon.ico">
<style type="text/css">
    #crate-search {
        background-image: url("../down-arrow.svg");
    }
    a {
        color: #77d;
    }
</style>
<!-- End scripts/rustdoc-header.html -->

  </head>

<body>
  <!-- BEGIN WAYBACK TOOLBAR INSERT -->
  <style type="text/css">
    body {
      margin-top: 0 !important;
      padding-top: 0 !important;
      /*min-width:800px !important;*/
    }
  </style>
  <script>__wm.rw(0);</script>
  <div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
    <div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
      <div id="wm-ipp-inside">
        <div style="position:relative;">
          <div id="wm-logo" style="float:left;width:110px;padding-top:12px;">
            <a href="/web/" title="Wayback Machine home page"><img
                src="/_static/images/toolbar/wayback-toolbar-logo-200.png"
                srcset="/_static/images/toolbar/wayback-toolbar-logo-100.png, /_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, /_static/images/toolbar/wayback-toolbar-logo-200.png 2x"
                alt="Wayback Machine" style="width:100px" border="0" /></a>
          </div>
          <div class="r" style="float:right;">
            <div id="wm-btns" style="text-align:right;height:25px;">
              <div id="wm-save-snapshot-success">success</div>
              <div id="wm-save-snapshot-fail">fail</div>
              <a id="wm-save-snapshot-open" href="#" title="Share via My Web Archive">
                <span class="iconochive-web"></span>
              </a>
              <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in">
                <span class="iconochive-person"></span>
              </a>
              <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
              <a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine"
                style="top:-6px;"><span class="iconochive-question"
                  style="color:rgb(87,186,244);font-size:160%;"></span></a>
              <a id="wm-tb-close" href="#close" onclick="__wm.h(event);return false;" style="top:-2px;"
                title="Close the toolbar"><span class="iconochive-remove-circle"
                  style="color:#888888;font-size:240%;"></span></a>
            </div>
            <div id="wm-share">
              <a href="/web/20200109044808/http://web.archive.org/screenshot/https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                id="wm-screenshot" title="screenshot">
                <span class="wm-icon-screen-shot"></span>
              </a>
              <a id="wm-share-facebook" href="#"
                data-url="https://web.archive.org/web/20200109044808/https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook"
                  style="color:#3b5998;font-size:160%;"></span></a>
              <a id="wm-share-twitter" href="#"
                data-url="https://web.archive.org/web/20200109044808/https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter"
                  style="color:#1dcaff;font-size:160%;"></span></a>
            </div>
          </div>
          <table class="c" style="">
            <tbody>
              <tr>
                <td class="u" colspan="2">
                  <form target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text"
                      name="url" id="wmtbURL"
                      value="https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                      onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input
                      type="hidden" name="date" value="20200109044808" /><input type="submit" value="Go" /></form>
                </td>
                <td class="n" rowspan="2" style="width:110px;">
                  <table>
                    <tbody>
                      <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
                      <tr class="m">
                        <td class="b" nowrap="nowrap">Dec</td>
                        <td class="c" id="displayMonthEl" title="You are here: 04:48:08 Jan 09, 2020">JAN</td>
                        <td class="f" nowrap="nowrap">Feb</td>
                      </tr>
                      <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
                      <tr class="d">
                        <td class="b" nowrap="nowrap"><a
                            href="https://web.archive.org/web/20191217201844/https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                            title="20:18:44 Dec 17, 2019"><img src="/_static/images/toolbar/wm_tb_prv_on.png"
                              alt="Previous capture" width="14" height="16" border="0" /></a></td>
                        <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;"
                          title="You are here: 04:48:08 Jan 09, 2020">09</td>
                        <td class="f" nowrap="nowrap"><img src="/_static/images/toolbar/wm_tb_nxt_off.png"
                            alt="Next capture" width="14" height="16" border="0" /></td>
                      </tr>
                      <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
                      <tr class="y">
                        <td class="b" nowrap="nowrap">2019</td>
                        <td class="c" id="displayYearEl" title="You are here: 04:48:08 Jan 09, 2020">2020</td>
                        <td class="f" nowrap="nowrap">2021</td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
              <tr>
                <td class="s">
                  <div id="wm-nav-captures">
                    <a class="t"
                      href="/web/20200109044808*/https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                      title="See a list of every capture for this URL">3 captures</a>
                    <div class="r" title="Timespan for captures of this URL">14 Dec 2019 - 09 Jan 2020</div>
                  </div>
                </td>
                <td class="k">
                  <a href="" id="wm-graph-anchor">
                    <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
                      <canvas id="wm-sparkline-canvas" width="650" height="27" border="0"></canvas>
                    </div>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
          <div style="position:absolute;bottom:0;right:2px;text-align:right;">
            <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span
                id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this
                capture</span></a>
          </div>
        </div>
        <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
          <div id="wm-capinfo-collected-by">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
            <div style="padding:3px;position:relative" id="wm-collected-by-content">
              <div style="display:inline-block;vertical-align:top;width:49%;">
                <span class="c-logo"
                  style="background-image:url(https://archive.org/services/img/twitteroutlinks)"></span>
                <div>Collection: <a style="color:#33f;" href="https://archive.org/details/twitteroutlinks"
                    target="_new"><span class="wm-title">Twitter Outlinks</span></a></div>
                <div style="max-height:75px;overflow:hidden;position:relative;">
                  <div
                    style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);">
                  </div>
                  This is a Collection of URLs (and Outlinked URLs) extracted from a random feed of 1% of all Tweets.
                  <div><br></div>
                  <div><br></div>
                </div>
              </div>
            </div>
          </div>
          <div id="wm-capinfo-timestamps">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center"
              title="Timestamps for the elements of this page">TIMESTAMPS</div>
            <div>
              <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important">
              </div>
              <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img
                  src="/_static/images/loading.gif" alt="loading" /></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="donato" style="position:relative;width:100%;">
    <div id="donato-base">
      <iframe id="donato-if"
        src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=https%3A//web.archive.org/web/20200109044808/https%3A//medium.com/%2540ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
        scrolling="no" frameborder="0" style="width:100%; height:100%">
      </iframe>
    </div>
  </div>
  <script type="text/javascript">
    __wm.bt(650, 27, 25, 2, "web", "https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "20200109044808", 1996, "/_static/", ["/_static/css/banner-styles.css?v=bsmaklHF", "/_static/css/iconochive.css?v=qtvMKcIJ"]);
    __wm.rw(1);
  </script>
  <!-- END WAYBACK TOOLBAR INSERT -->
  <div id="root">
    <div class="a b c">
      <div class="d e f g h i j k"></div>
      <script>document.domain = document.domain;</script>
      <script>window.PARSELY = window.PARSELY || { autotrack: false }</script>
      <nav class="r s t u v c w x y z ab">
        <div class="branch-journeys-top">
          <div class="n p">
            <div class="ac ae af ag ah ai aj ak">
              <div class="al n o am an">
                <div class="r ao w">
                  <div class="n o"><a aria-label="Homepage" rel="noopener"
                      href="/web/20200109044808/https://medium.com/?source=post_page-----7e1d5a5d977a----------------------">
                      <div class="ap g"><svg height="22" width="112" viewbox="0 0 111.5 22" class="q">
                          <path
                            d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z">
                          </path>
                        </svg></div>
                      <div class="r aq"><svg width="35" height="35" viewbox="5 5 35 35" class="q">
                          <path
                            d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z">
                          </path>
                        </svg></div>
                    </a></div>
                </div>
                <div class="r ar w">
                  <div class="n o">
                    <div class="n g">
                      <div class="as" id="lo-post-page-navbar-upsell-button">
                        <div><a
                            href="https://web.archive.org/web/20200109044808/https://medium.com/membership?source=upgrade_membership---nav_full------------------------"
                            class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><span
                              class="bj b bk bl bm bn r bo bp">Become a member</span></a></div>
                      </div>
                      <div class="as" id="lo-post-page-navbar-sign-in-link">
                        <div class="bq r"><span class="bj b bk bl bm bn r bo bp"><a
                              href="https://web.archive.org/web/20200109044808/https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a&amp;source=post_page-----7e1d5a5d977a---------------------nav_reg-"
                              class="br bs av aw ax ay az ba bb bc bt bu bf bg bv bw" rel="noopener">Sign in</a></span>
                        </div>
                      </div>
                    </div>
                    <div class="as" id="lo-post-page-navbar-get-started-button">
                      <div class="bq r"><button
                          class="bx by br bs bz bt bu ca bc cb bj b bk bl bm bn cc cd ce cf cg bf">Get started</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div class="ch al r ci am"></div>
      <article>
        <section class="cj ck cl cm ak cn ce n co"></section><span class="r"></span>
        <div>
          <div class="cp u cq cr cs ct"></div>
          <section class="cu cv cw cx cy">
            <div class="cz ak">
              <figure class="da cz ak paragraph-image">
                <div class="db dc dd de ak">
                  <div class="dl r dd dm">
                    <div class="dn r">
                      <div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq"
                          src="https://web.archive.org/web/20200109044808im_/https://miro.medium.com/max/60/1*t14h6Hs6uVUifppiEBptFQ.png?q=20"
                          width="2500" height="1500" role="presentation" /></div><img class="df dg cp t u dh ak dr"
                        width="2500" height="1500" role="presentation" /><noscript><img class="cp t u dh ak"
                          src="https://web.archive.org/web/20200109044808im_/https://miro.medium.com/max/5000/1*t14h6Hs6uVUifppiEBptFQ.png"
                          width="2500" height="1500" role="presentation" /></noscript>
                    </div>
                  </div>
                </div>
                <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">PineTime Smart Watch running a [druid] app with
                  a Label Widget and a Button Widget</figcaption>
              </figure>
            </div>
            <div class="n p">
              <div class="ac ae af ag ah dz aj ak">
                <div>
                  <div id="d2a3" class="ea eb ec bk ed b ee ef eg eh ei ej ek el em en eo">
                    <h1 class="ed b ee ep eg eq ei er ek es em et ec">Porting [druid] Rust Widgets to PineTime Smart
                      Watch</h1>
                  </div>
                  <div class="eu">
                    <div class="n ev ew ex ey">
                      <div class="o n">
                        <div><a rel="noopener"
                            href="/web/20200109044808/https://medium.com/@ly.lee?source=post_page-----7e1d5a5d977a----------------------">
                            <div class="dd ez fa">
                              <div class="bs n fb o p cp fc fd fe ff fg ct"><svg width="57" height="57"
                                  viewbox="0 0 57 57">
                                  <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M28.5 1.2A27.45 27.45 0 0 0 4.06 15.82L3 15.27A28.65 28.65 0 0 1 28.5 0C39.64 0 49.29 6.2 54 15.27l-1.06.55A27.45 27.45 0 0 0 28.5 1.2zM4.06 41.18A27.45 27.45 0 0 0 28.5 55.8a27.45 27.45 0 0 0 24.44-14.62l1.06.55A28.65 28.65 0 0 1 28.5 57 28.65 28.65 0 0 1 3 41.73l1.06-.55z">
                                  </path>
                                </svg></div><img alt="Lup Yuen Lee 李立源" class="r fh fa ez"
                                src="https://web.archive.org/web/20200109044808im_/https://miro.medium.com/fit/c/96/96/1*KGohS3sQaUnr58gc0BIfoQ.jpeg"
                                width="48" height="48" />
                            </div>
                          </a></div>
                        <div class="fi ak r">
                          <div class="n">
                            <div style="flex:1"><span class="bj b bk bl bm bn r ec q">
                                <div class="fj n o fk"><span class="bj dy ds bl di fl fm fn fo fp ec"><a
                                      class="at au av aw ax ay az ba bb bc fq bf bg bh bi" rel="noopener"
                                      href="/web/20200109044808/https://medium.com/@ly.lee?source=post_page-----7e1d5a5d977a----------------------">Lup
                                      Yuen Lee 李立源</a></span>
                                  <div class="fr r ar h"><button
                                      class="fs ec q by ft fu fv fw bc bh fx fy fz ga gb gc cb bj b bk gd ge bn cc cd ce cf cg bf">Follow</button>
                                  </div>
                                </div>
                              </span></div>
                          </div><span class="bj b bk bl bm bn r bo bp"><span class="bj dy ds bl di fl fm fn fo fp bo">
                              <div><a class="at au av aw ax ay az ba bb bc fq bf bg bh bi" rel="noopener"
                                  href="/web/20200109044808/https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a?source=post_page-----7e1d5a5d977a----------------------">Dec
                                  14, 2019</a> <!-- -->·
                                <!-- -->
                                <!-- -->12
                                <!-- --> min read
                              </div>
                            </span></span>
                        </div>
                      </div>
                      <div class="n gf gg gh gi gj gk gl gm ab">
                        <div class="n o">
                          <div class="gn r ar"><a
                              href="//web.archive.org/web/20200109044808/https://medium.com/p/7e1d5a5d977a/share/twitter?source=post_actions_header---------------------------"
                              class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank"
                              rel="noopener"><svg width="29" height="29" class="q">
                                <path
                                  d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z">
                                </path>
                              </svg></a></div>
                          <div class="gn r ar"><a
                              href="//web.archive.org/web/20200109044808/https://medium.com/p/7e1d5a5d977a/share/facebook?source=post_actions_header---------------------------"
                              class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank"
                              rel="noopener"><svg width="29" height="29" class="q">
                                <path
                                  d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79">
                                </path>
                              </svg></a></div>
                          <div class="go r ao">
                            <div>
                              <div class="cf" role="tooltip" aria-hidden="true"><a
                                  href="https://web.archive.org/web/20200109044808/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a&amp;source=post_actions_header--------------------------bookmark_sidebar-"
                                  class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25"
                                    height="25" viewbox="0 0 25 25">
                                    <path
                                      d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                                      fill-rule="evenodd"></path>
                                  </svg></a></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <p id="410b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">A button that responds to our
                  tapping and increments a counter… That’s what we shall accomplish today on the <a
                    class="at cg hd he hf hg" target="_blank" rel="noopener"
                    href="/web/20200109044808/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&amp;sk=d9301466f5499bece3e7b638e99ec20d">PineTime
                    Smart Watch</a>…</p>
              </div>
            </div>
            <div class="cz ak">
              <figure class="hh hi hj hk hl cz">
                <div class="dl r dd">
                  <div class="hm r"><iframe
                      src="https://web.archive.org/web/20200109044808if_/https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F7nXJdW_GkEw%3Ffeature%3Doembed&amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D7nXJdW_GkEw&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2F7nXJdW_GkEw%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube"
                      allowfullscreen="" frameborder="0" height="480" width="854" title="PineTime [druid] touch widgets"
                      class="cp t u dh ak" scrolling="auto"></iframe></div>
                </div>
              </figure>
            </div>
            <div class="n p">
              <div class="ac ae af ag ah dz aj ak">
                <p id="fe15" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The <a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Watch App</a> we see in the video
                  was created with the [<a
                    href="https://web.archive.org/web/20200109044808/https://crates.io/crates/druid"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">druid</a>] Crate in Rust.</p>
                <p id="7843" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">In [druid], UI controls are known
                  as Widgets. Our app contains two Widgets: A Label Widget that displays the counter, and a Button
                  Widget that increments the counter.</p>
                <p id="183d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Lemme explain the code in the <a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">[druid] app</a>…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/9aa05756b64c5649ef2613f57cf73a04"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs</a>
                  </figcaption>
                </figure>
                <p id="274d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">When the app is launched, we
                  create a new window, passing it the <code class="dm ho hp hq hr b">ui_builder</code> function that
                  will return a list of Widgets and their layouts. (More about <code
                    class="dm ho hp hq hr b">ui_builder</code> later.)</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/4b72b25a76c94e2c029880a05d48481d"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs</a>
                  </figcaption>
                </figure>
                <p id="bcf5" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here we set the Application State
                  to <code class="dm ho hp hq hr b">0</code>. <em class="hs">What’s this Application State?</em></p>
                <p id="dadc" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Remember the counter value that’s
                  incremented every time we tap the button? This counter value is stored in the [druid] <strong
                    class="gr ht">Application State</strong>. Widgets will interact with the Application State: Our
                  Button Widget updates the state and our Label Widget displays the state.</p>
                <p id="8005" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">That’s why [druid] is known as a
                  <a href="https://web.archive.org/web/20200109044808/https://crates.io/crates/druid"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Data-Oriented Rust UI</a>… [druid]
                  Widgets are bound to data values in the Application State.</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/da8d9658a287a4277a77c31948980e6c"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs</a>
                  </figcaption>
                </figure>
                <p id="e28f" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Recall that <code
                    class="dm ho hp hq hr b">main_window</code> contains a list of Widgets and their layouts. We’ll pass
                  this to the AppLauncher to launch the app window. The app shall be launched with <code
                    class="dm ho hp hq hr b">data</code>, the Application State, set to 0. If the launch fails, we’ll
                  stop with an error <code class="dm ho hp hq hr b">launch failed</code>.</p>
                <p id="b14e" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Now let’s look at <code
                    class="dm ho hp hq hr b">ui_builder</code> and how it creates the Widgets…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/6a17777f1ef71c8ff7562d627fc3f46c"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs</a>
                  </figcaption>
                </figure>
                <p id="c0e1" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">First we create a <code
                    class="dm ho hp hq hr b">text</code> string that contains the counter value. How shall we get the
                  value of the <code class="dm ho hp hq hr b">text</code> string? Through this Rust Closure…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/4c5d82834e5bdeb9f6d87e8947a9f32e"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs</a>
                  </figcaption>
                </figure>
                <p id="1e7e" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hs">What’s a Rust
                    Closure?</em> Think of it as a Rust Function without a name. The Closure above is equivalent to this
                  verbose Rust Function…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/a36e10af4807ddb6604fead269b9ff00"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                </figure>
                <p id="a14a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">So it’s simpler to use the
                  Closure form. The Closure simply returns the value of the counter in <code
                    class="dm ho hp hq hr b">data</code> (the Application State) as the value of the <code
                    class="dm ho hp hq hr b">text</code> string. The <code class="dm ho hp hq hr b">into</code> part
                  converts the returned value from number to string.</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/0bd4a931985cb886614adbc3496e04fd"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs</a>
                  </figcaption>
                </figure>
                <p id="e7af" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Now that we have the counter
                  value stored in our <code class="dm ho hp hq hr b">text</code> string, let’s display it with a Label
                  Widget.</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/e28f28ab68b90b6baecc958b644354ee"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs</a>
                  </figcaption>
                </figure>
                <p id="61ee" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here we create a button labelled
                  increment that calls this Rust Closure whenever the button is tapped…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/78a6e9146f60ee5395bad0d4abeb0cb3"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs</a>
                  </figcaption>
                </figure>
                <p id="881c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This Closure is equivalent to the
                  Rust Function…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/1f888daf3d9bcc0512f50e053eff94ca"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                </figure>
                <p id="1a92" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code
                    class="dm ho hp hq hr b">data</code> contains our Application State, which is our counter value. The
                  Closure simply increments our counter value by 1, every time the button is tapped.</p>
                <p id="e00b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hs">Hey Presto!</em>
                  That’s the magic behind our Data-Oriented UI… The button increments the counter in our Application
                  State, the label displays the value of the counter in our Application State!</p>
                <p id="d6f2" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">[druid] completes the magic act
                  by wiring up the Widgets to the Application State… When our Application State changes (upon tapping
                  the button), [druid] automagically refreshes our Label Widget to show the new counter value.</p>
                <p id="e398" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Let’s tell [druid] how to layout
                  our Label and Button Widgets for display…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/cb34335761d4529fdf3f3a290e64078e"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs</a>
                  </figcaption>
                </figure>
                <p id="a402" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">We’ll display the Label and
                  Button Widgets in a single column <code class="dm ho hp hq hr b">col</code>. The Label Widget goes on
                  top, centered horizontally, with a padding of 5 pixels.</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/54822326fbe74ab413a34891b1c42063"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs</a>
                  </figcaption>
                </figure>
                <p id="ff7e" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The Button Widget appears next in
                  <code class="dm ho hp hq hr b">col</code>. Also with a padding of 5 pixels.</p>
                <p id="73d3" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Note that the second argument to
                  <code class="dm ho hp hq hr b">add_child</code> is the same for both the label and the button: <code
                    class="dm ho hp hq hr b">1.0</code>. This means that the label and button shall occupy equal
                  vertical spacing, i.e. the label shall fill the top half of the screen, the button shall fill the
                  bottom half. This is similar to the <code
                    class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">flexbox</a></code><a
                    href="https://web.archive.org/web/20200109044808/https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"> concept in CSS</a>.</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/bc399467769e8e77a50d3b43356eb1f8"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs</a>
                  </figcaption>
                </figure>
                <p id="f5f0" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">And lastly, we return the <code
                    class="dm ho hp hq hr b">col</code> to the caller. To recap: <code
                    class="dm ho hp hq hr b">col</code> contains the Label and Button Widgets, the Closures for
                  displaying and incrementing the Application State counter, and the layout of the Widgets.</p>
                <p id="bc8a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">That’s the clever simplicity of
                  [druid] apps. [druid] apps have a Declarative UI like <a
                    href="https://web.archive.org/web/20200109044808/https://developer.apple.com/tutorials/swiftui/creating-a-watchos-app"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">SwiftUI</a> and <a
                    href="https://web.archive.org/web/20200109044808/https://flutterbyexample.com/reusable-custom-card-widget"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Flutter</a>… Without the legacy
                  baggage of iOS and Android. That’s why I think [druid] is perfect for building Watch Apps for
                  PineTime!</p>
                <p id="d5de" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here’s the complete [druid] Watch
                  App for PineTime…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/470e6f716ac815a4d07bd61502d882cc"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/hello.rs</a>
                  </figcaption>
                </figure>
              </div>
            </div>
          </section>
          <hr class="hu dy hv hw hx dv hy hz ia ib ic" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dz aj ak">
                <h1 id="d632" class="id ie ec bk bj if ee ig eg ih ii ij ik il im in io">Powering [druid] with Type
                  Inference</h1>
                <p id="6c5c" class="gp gq ec bk gr b gs ip gu iq gw ir gy is ha it hc">The above Rust source code for
                  the watch app looks so trivial (compared with SwiftUI and Flutter)… <em class="hs">Surely something
                    must be missing in that app?</em></p>
                <p id="6eb3" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Oh yes, plenty is missing from
                  the app… <em class="hs">But the Rust Compiler performs </em><a
                    href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/stable/rust-by-example/types/inference.html"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><em class="hs">Type
                      Inference</em></a><em class="hs"> and fills in all the missing bits for us!</em> Here’s how it
                  looks with the missing bits filled in…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/b7539b4198f21bea9442042298a9bd40"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                </figure>
                <p id="bbdc" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Note that the Widgets have been
                  expanded as <code class="dm ho hp hq hr b">Label&lt;u32&gt;</code> and <code
                    class="dm ho hp hq hr b">Button&lt;u32&gt;</code>. That’s because <code
                    class="dm ho hp hq hr b">Label</code> and <code class="dm ho hp hq hr b">Button</code> are actually
                  Generic Types in Rust.</p>
                <p id="4334" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Quick recap of Generic Types:
                  <code class="dm ho hp hq hr b">Vec</code> is a Generic Type that represents a vector (array) of
                  values. When we write <code class="dm ho hp hq hr b">Vec&lt;i32&gt;</code>, it refers to a vector of
                  integer values (<code class="dm ho hp hq hr b">i32</code>).</p>
                <p id="deee" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Thus <code
                    class="dm ho hp hq hr b">Label&lt;u32&gt;</code> and <code
                    class="dm ho hp hq hr b">Button&lt;u32&gt;</code> are Generic Widgets that are backed by <code
                    class="dm ho hp hq hr b">u32</code>, our Application State that contains the counter. <em
                    class="hs">Reminds us that [druid] is really a Data-Oriented UI!</em></p>
                <p id="b70b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Some types (like <code
                    class="dm ho hp hq hr b">WindowDesc</code>) are Generic Types with two parameters. So this line of
                  code in our app…</p>
                <pre
                  class="hh hi hj hk hl iu iv iw"><span id="132f" class="ix ie ec bk hr b ds iy iz r ja">let main_window = WindowDesc::new(ui_builder);</span></pre>
                <p id="ffe2" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Actually expands to this
                  complicated mess…</p>
                <pre
                  class="hh hi hj hk hl iu iv iw"><span id="b0db" class="ix ie ec bk hr b ds iy iz r ja">let main_window = WindowDesc::&lt;u32,Flex&lt;u32&gt;&gt;::new(ui_builder);</span></pre>
                <p id="be4c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hs">What a bloody
                    clever compiler!</em> The Rust Compiler makes it easy for us to write Watch Apps. Under the hood,
                  things are a lot more complicated with the Generic Types. Read on to learn how [druid] Widgets are
                  implemented on PineTime…</p>
              </div>
            </div>
          </section>
          <hr class="hu dy hv hw hx dv hy hz ia ib ic" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dz aj ak">
                <h1 id="55ec" class="id ie ec bk bj if ee ig eg ih ii ij ik il im in io">Downsizing [druid] from Desktop
                  to Embedded</h1>
                <p id="d91d" class="gp gq ec bk gr b gs ip gu iq gw ir gy is ha it hc">[druid] is a GUI toolkit that
                  produces desktop apps for Windows, macOS and Linux. It doesn’t support Embedded Platforms like
                  PineTime. So I had to change some features to make [druid] work on PineTime. <em class="hs">(Only the
                    [druid] implementation was changed, not the [druid] APIs… The same [druid] desktop application code
                    can be compiled for PineTime without any code changes! Compare the above [druid] code for PineTime
                    with </em><a
                    href="https://web.archive.org/web/20200109044808/https://github.com/xi-editor/druid/blob/master/druid/examples/hello.rs"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><em class="hs">the original
                      version</em></a><em class="hs">)</em></p>
                <p id="011a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">On Embedded Rust we declare our
                  programs as <code
                    class="dm ho hp hq hr b">#![<a href="https://web.archive.org/web/20200109044808/https://rust-embedded.github.io/book/intro/no-std.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">no_std</a>]</code>.
                  This means that our embedded programs will call the <a
                    href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/core/index.html"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr ht">Rust Core
                      Library</strong></a>, instead of the usual <a
                    href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/std/index.html"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr ht">Rust
                      Standard Library</strong></a> which has many more features. Any code in [druid] that uses the
                  following features from the Rust Standard Library will <em class="hs">NOT</em> compile on PineTime…
                </p>
                <ol class="">
                  <li id="5e50" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc jb jc jd"><code
                      class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/std/vec/index.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Vec</a></code>
                    vectors, because it uses <strong class="gr ht">Heap Memory</strong> to support resizable vectors.
                    And Heap Memory is not available on embedded platforms (by default).</li>
                  <li id="9320" class="gp gq ec bk gr b gs je gu jf gw jg gy jh ha ji hc jb jc jd"><code
                      class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/std/string/index.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">String</a></code>
                    (though <code class="dm ho hp hq hr b">&amp;str</code> is supported), because it also uses <strong
                      class="gr ht">Heap Memory</strong>.</li>
                  <li id="0f06" class="gp gq ec bk gr b gs je gu jf gw jg gy jh ha ji hc jb jc jd"><code
                      class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/std/fmt/" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">format</a>!</code>,
                    because internally it uses a <code class="dm ho hp hq hr b">String</code> to write formatted
                    strings.</li>
                  <li id="8d8e" class="gp gq ec bk gr b gs je gu jf gw jg gy jh ha ji hc jb jc jd"><code
                      class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/std/boxed/index.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Box</a></code>,
                    <code
                      class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/std/cell/struct.RefCell.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">RefCell</a></code>,
                    <code
                      class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/std/sync/struct.Arc.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Arc</a></code>
                    (Atomically Reference Counted) and <code
                      class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/std/borrow/enum.Cow.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Cow</a></code>
                    (Clone On Write), because they use <strong class="gr ht">Heap Memory</strong> as well.</li>
                </ol>
                <p id="5d5b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hs">Why isn’t Heap
                    Memory available on Embedded Rust?</em> Embedded platforms like PineTime often have little RAM.
                  (Only 64 KB RAM for PineTime’s Nordic nRF52832 microcontroller) When RAM is limited, we prefer to
                  budget our memory requirements in advance… Just to be sure that our Smart Watch doesn’t allocate too
                  many Widgets at runtime and crash.</p>
                <p id="a867" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Hence all space for Widgets
                  should be preallocated in Static Memory before the Watch App starts. <em class="hs">(There is a way to
                    implement Heap Memory on embedded platforms, </em><a
                    href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/core/alloc/trait.GlobalAlloc.html"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><em class="hs">check this for
                      details</em></a><em class="hs">)</em></p>
                <p id="579c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hs">So many features
                    are missing from Embedded Rust… Is it still possible to run [druid] apps on PineTime?</em> Yes, I
                  used some tricks to make a quick (and somewhat dirty) port of [druid] to PineTime… Which you can also
                  use for porting Rust desktop libraries to embedded platforms! Read on to learn more…</p>
              </div>
            </div>
          </section>
          <hr class="hu dy hv hw hx dv hy hz ia ib ic" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dz aj ak">
                <h1 id="24ff" class="id ie ec bk bj if ee ig eg ih ii ij ik il im in io">Porting Vectors, Strings and
                  format! to Embedded</h1>
                <p id="810e" class="gp gq ec bk gr b gs ip gu iq gw ir gy is ha it hc">The <code
                    class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/std/vec/index.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Vec</a></code>
                  and <code
                    class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/std/string/index.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">String</a></code>
                  types are used in many Rust libraries. On embedded platforms we can’t allow vectors and strings to be
                  resized on demand… But we can create vectors and strings that have a maximum size.</p>
                <p id="c009" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here’s the quickest (and
                  dirtiest) way to use the [<a
                    href="https://web.archive.org/web/20200109044808/https://crates.io/crates/heapless"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">heapless</a>] crate to replace
                  standard types <code class="dm ho hp hq hr b">Vec</code> and <code
                    class="dm ho hp hq hr b">String</code> by <a
                    href="https://web.archive.org/web/20200109044808/https://docs.rs/heapless/0.5.1/heapless/struct.Vec.html"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">vectors</a> and <a
                    href="https://web.archive.org/web/20200109044808/https://docs.rs/heapless/0.5.1/heapless/struct.String.html"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">strings</a> with fixed size
                  limits…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/fa93870c806423f0009a3b7c6f599fdc"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/localization.rs#L87-L91"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/druid-embedded/blob/master/druid/src/localization.rs#L87-L91</a>
                  </figcaption>
                </figure>
                <p id="7ce2" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hs">(Yep told you this
                    would be dirty… Should never override standard Rust types!)</em></p>
                <p id="6289" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Most of the surrounding code that
                  calls <code class="dm ho hp hq hr b">Vec</code> and <code class="dm ho hp hq hr b">String</code>
                  should compile with this simple modification. (We may need to replace <code
                    class="dm ho hp hq hr b">&amp;str</code> by <code class="dm ho hp hq hr b">String</code>) Watch out
                  for the extra copies of vectors and strings that our program will now be copying… Keep them small!</p>
                <p id="5036" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Once the code works on our
                  embedded gadget, <em class="hs">Do The Right Thing</em> and rename <code
                    class="dm ho hp hq hr b">Vec</code> and <code class="dm ho hp hq hr b">String</code> to something
                  sensible, like <code class="dm ho hp hq hr b">FixedVec</code> and <code
                    class="dm ho hp hq hr b">FixedString</code>.</p>
                <p id="22c0" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">There’s a similar trick for
                  porting <code
                    class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/std/macro.format.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">format</a>!</code>
                  to embedded platforms. Let’s say we are converting a number v to a text string…</p>
                <pre
                  class="hh hi hj hk hl iu iv iw"><span id="ffb5" class="ix ie ec bk hr b ds iy iz r ja">format!(&quot;{}&quot;, v)</span></pre>
                <p id="55ff" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This fails to compile because
                  <code class="dm ho hp hq hr b">format!</code> uses an internal <code
                    class="dm ho hp hq hr b">String</code> to <a
                    href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/src/alloc/fmt.rs.html#561"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">store the formatted result</a>.
                  The [heapless] solution uses the <code
                    class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://doc.rust-lang.org/core/macro.write.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">write</a>!</code>
                  macro like this…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/10c5c7a727d90c63f03b8a66a6a9a7c0"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/argvalue.rs#L63-L66"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/druid-embedded/blob/master/druid/src/argvalue.rs#L63-L66</a>
                  </figcaption>
                </figure>
              </div>
            </div>
          </section>
          <hr class="hu dy hv hw hx dv hy hz ia ib ic" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dz aj ak">
                <h1 id="43cb" class="id ie ec bk bj if ee ig eg ih ii ij ik il im in io">Boxing up Widgets and Windows
                </h1>
                <p id="a7fe" class="gp gq ec bk gr b gs ip gu iq gw ir gy is ha it hc">Without Heap Memory, [druid]
                  can’t use <code class="dm ho hp hq hr b">Box</code> to allocate Widgets on the heap…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/841a3e51a8b1629b6975af04abd77b4d"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Original [druid] code that allocates Widgets
                    on the heap. From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/xi-editor/druid/blob/master/druid/src/widget/flex.rs#L103-L151"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/xi-editor/druid/blob/master/druid/src/widget/flex.rs#L103-L151</a>
                  </figcaption>
                </figure>
                <p id="660d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hs">Why does [druid]
                    use </em><code class="dm ho hp hq hr b"><em class="hs">Box</em></code><em class="hs"> Widgets?</em>
                  Because [druid] has Container Widgets (<code class="dm ho hp hq hr b">Flex</code> / <code
                    class="dm ho hp hq hr b">Row</code> / <code class="dm ho hp hq hr b">Column</code>) that contain
                  references to Child Widgets, like we see above.</p>
                <p id="ec69" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">In our embedded version, [druid]
                  uses a custom <code
                    class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/widget/widgetbox.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">WidgetBox</a></code>
                  type that pretends to be a <code class="dm ho hp hq hr b">Widget</code> in a <code
                    class="dm ho hp hq hr b">Box</code>…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/8a28a31364b06fca28d0d56509cb65a7"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Modified [druid] code that uses static
                    WidgetBox. From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/widget/flex.rs#L126-L151"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/druid-embedded/blob/master/druid/src/widget/flex.rs#L126-L151</a>
                  </figcaption>
                </figure>
                <p id="b906" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here’s a crude implementation of
                  <code class="dm ho hp hq hr b">WidgetBox</code>… Instead of the heap, <code
                    class="dm ho hp hq hr b">WidgetBox</code> stores Widgets in an array in Static Memory. <code
                    class="dm ho hp hq hr b">WidgetBox</code> then returns the array index (Widget ID) at which the
                  Widget is stored….</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/8de2d354678ad680c9bb137287ff9d65"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/widget/widgetbox.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/druid-embedded/blob/master/druid/src/widget/widgetbox.rs</a>
                  </figcaption>
                </figure>
                <p id="bda2" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code
                    class="dm ho hp hq hr b">WidgetBox</code> implements the Traits (features) of a Widget by forwarding
                  the function calls to the Widget stored in Static Memory…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/cf1b2cbf627fc948b7bd2f7a4263cea2"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/widget/widgetbox.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/druid-embedded/blob/master/druid/src/widget/widgetbox.rs</a>
                  </figcaption>
                </figure>
                <p id="dc64" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Storing Widgets statically can be
                  tricky… Our Widgets are Generic Types that depend on the data type of the Application State. Earlier
                  we have seen that the Rust Compiler expands our Watch App with labels and buttons as <code
                    class="dm ho hp hq hr b">Label&lt;u32&gt;</code> and <code
                    class="dm ho hp hq hr b">Button&lt;u32&gt;</code></p>
                <p id="645a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The solution is to use a <a
                    href="https://web.archive.org/web/20200109044808/https://users.rust-lang.org/t/how-to-use-specialization-features/6023"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr ht">Specialised
                      Trait</strong></a> like this…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/01ade5d31e700f983bcb7c6cead4e91d"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/widget/widgetbox.rs"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/druid-embedded/blob/master/druid/src/widget/widgetbox.rs</a>
                  </figcaption>
                </figure>
                <p id="2c55" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Note the pattern for coding a
                  Specialised Trait…</p>
                <ol class="">
                  <li id="7bdc" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc jb jc jd">Declare the Trait
                    across all types: <br /><code
                      class="dm ho hp hq hr b">trait GlobalWidgets&lt;<strong class="gr ht">D</strong>&gt; { fn f(arg: <strong class="gr ht">D</strong>); ...</code>
                  </li>
                  <li id="ba7f" class="gp gq ec bk gr b gs je gu jf gw jg gy jh ha ji hc jb jc jd">Implement the Default
                    Trait: <br /><code
                      class="dm ho hp hq hr b">impl&lt;<strong class="gr ht">D</strong>&gt; GlobalWidgets&lt;<strong class="gr ht">D</strong>&gt; { <strong class="gr ht">default</strong> fn f(arg: <strong class="gr ht">D</strong>) { ...</code>
                  </li>
                  <li id="68c7" class="gp gq ec bk gr b gs je gu jf gw jg gy jh ha ji hc jb jc jd">Implement the
                    Specialised Trait for each specific type like <code class="dm ho hp hq hr b">u32</code>: <br /><code
                      class="dm ho hp hq hr b">impl GlobalWidgets&lt;<strong class="gr ht">u32</strong>&gt; { fn f(arg: <strong class="gr ht">u32</strong>) { ...</code>
                  </li>
                </ol>
                <p id="7b92" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The same trick is used to port
                  [druid] Windows to PineTime. Whenever we need to <code class="dm ho hp hq hr b">Box</code> up a
                  [druid] <code class="dm ho hp hq hr b">Window</code>, we use a <code
                    class="dm ho hp hq hr b"><a href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/windowbox.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">WindowBox</a></code>
                  instead. Windows and Window Handlers are now <a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/win_handler.rs#L52-L264"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">stored in a static array</a> just
                  like Widgets.</p>
              </div>
            </div>
          </section>
          <hr class="hu dy hv hw hx dv hy hz ia ib ic" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dz aj ak">
                <figure class="hh hi hj hk hl cz cl cm paragraph-image">
                  <div class="db dc dd de ak">
                    <div class="cl cm jj">
                      <div class="dl r dd dm">
                        <div class="jk r">
                          <div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq"
                              src="https://web.archive.org/web/20200109044808im_/https://miro.medium.com/max/60/1*BsOfk6AXUMmwD3JtMHXczQ.png?q=20"
                              width="4042" height="3175" role="presentation" /></div><img class="df dg cp t u dh ak dr"
                            width="4042" height="3175" role="presentation" /><noscript><img class="cp t u dh ak"
                              src="https://web.archive.org/web/20200109044808im_/https://miro.medium.com/max/8084/1*BsOfk6AXUMmwD3JtMHXczQ.png"
                              width="4042" height="3175" role="presentation" /></noscript>
                        </div>
                      </div>
                    </div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">[druid] Dependencies</figcaption>
                </figure>
                <h1 id="8d2e" class="id ie ec bk bj if ee jl eg jm ii jn ik jo im jp io">Connect [druid] to PineTime’s
                  Display and Touch Controllers</h1>
                <p id="3c20" class="gp gq ec bk gr b gs ip gu iq gw ir gy is ha it hc">Now that [druid] compiles
                  successfully on PineTime, let’s connect our fork of [druid] to the PineTime display and touch
                  hardware…</p>
                <div class="jq jr js jt ju jv"><a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded"
                    rel="noopener nofollow">
                    <section class="jy cl cm ak ce n ar jz ka kb kc kd ke kf kg kh ki kj kk kl km kn">
                      <div class="ko n co p kp kq">
                        <h2 class="bj if kr bl ec">
                          <div class="di jw fm fn jx fp">lupyuen/druid-embedded</div>
                        </h2>
                        <div class="ks r">
                          <h3 class="bj dy ds bl bo">
                            <div class="di jw fm fn jx fp">Druid is an experimental Rust-native UI toolkit. Its main
                              goal is to demonstrate the potential of Rust as an…</div>
                          </h3>
                        </div>
                        <div class="kt r">
                          <h4 class="bj dy ge bl bo">
                            <div class="di jw fm fn jx fp">github.com</div>
                          </h4>
                        </div>
                      </div>
                      <div class="ku r">
                        <div class="kv r kw kx ky ku kz la lb"></div>
                      </div>
                    </section>
                  </a></div>
                <p id="818d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">[druid] calls the [<a
                    href="https://web.archive.org/web/20200109044808/https://crates.io/crates/piet"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">piet</a>] crate to render graphics
                  and text. <a class="at cg hd he hf hg" target="_blank" rel="noopener"
                    href="/web/20200109044808/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&amp;sk=d9301466f5499bece3e7b638e99ec20d">In
                    our first PineTime article</a>, we have created a Rust display driver based on the [<a
                    href="https://web.archive.org/web/20200109044808/https://crates.io/crates/embedded-graphics"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">embedded-graphics</a>] and [<a
                    href="https://web.archive.org/web/20200109044808/https://crates.io/crates/st7735-lcd"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">st7735-lcd</a>] crates.</p>
                <p id="357a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Hence the solution: Adapt [piet]
                  to render graphics and text with [embedded-graphics]. Here’s the resulting fork…</p>
                <div class="jq jr js jt ju jv"><a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/piet-embedded/tree/master/piet-embedded-graphics"
                    rel="noopener nofollow">
                    <section class="jy cl cm ak ce n ar jz ka kb kc kd ke kf kg kh ki kj kk kl km kn">
                      <div class="ko n co p kp kq">
                        <h2 class="bj if kr bl ec">
                          <div class="di jw fm fn jx fp">lupyuen/piet-embedded</div>
                        </h2>
                        <div class="ks r">
                          <h3 class="bj dy ds bl bo">
                            <div class="di jw fm fn jx fp">You can&#x27;t perform that action at this time. You signed
                              in with another tab or window. You signed out in another tab or…</div>
                          </h3>
                        </div>
                        <div class="kt r">
                          <h4 class="bj dy ge bl bo">
                            <div class="di jw fm fn jx fp">github.com</div>
                          </h4>
                        </div>
                      </div>
                      <div class="ku r">
                        <div class="lc r kw kx ky ku kz la lb"></div>
                      </div>
                    </section>
                  </a></div>
                <p id="b850" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here’s a peek of [piet] adapted
                  for [embedded-graphics]: Rendering a Bezier path with [embedded-graphics] primitives (so that we can
                  have rounded buttons)…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/251d45f03a2adb7412b7f5159d0e57d4"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Rendering Widgets with [embedded-graphics].
                    From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/context.rs#L67-L199"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/context.rs#L67-L199</a>
                  </figcaption>
                </figure>
                <p id="c523" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The display driver from our first
                  PineTime article <code class="dm ho hp hq hr b">display.rs</code> has been <a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/display.rs"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">relocated into the [piet]
                    library</a>.</p>
                <blockquote class="ld le lf">
                  <p id="1b65" class="gp gq ec hs gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="bk">💎</em><strong
                      class="gr ht">Advanced Topic</strong>: The [embedded-graphics] version of [piet] make take a few
                    seconds to <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/context.rs#L87-L96"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">blank the screen</a> or <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/piet-embedded/blob/master/piet-embedded-graphics/src/context.rs#L124-L147"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">fill a region with colour</a>
                    (e.g. for buttons). I may enhance the display driver [st7735-lcd] to use SPI with DMA for such
                    operations.</p>
                </blockquote>
                <p id="6826" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hs">What about
                    touch?</em> <a class="at cg hd he hf hg" target="_blank" rel="noopener"
                    href="/web/20200109044808/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9?source=friends_link&amp;sk=d8cf73fc943d9c0e960627d768f309cb">In
                    our second PineTime article</a>, we have created a Rust Touch Controller Driver. <a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs#L81-L101"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">This Touch Controller Driver has
                    been wired up</a> to send touch events to [druid]. [druid] doesn’t support touch events yet, so we
                  simulate the mouse down + mouse up events instead…</p>
                <figure class="hh hi hj hk hl cz">
                  <div class="dl r dd">
                    <div class="hn r"><iframe
                        src="https://web.archive.org/web/20200109044808if_/https://medium.com/media/872992c85a05b527d88a71947fe42cde"
                        allowfullscreen="" frameborder="0" height="0" width="0"
                        title="See https://medium.com/@ly.lee/porting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a"
                        class="cp t u dh ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Handling Touchable Widgets. From <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/win_handler.rs#L62-L90"
                      class="at cg hd he hf hg" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/druid-embedded/blob/master/druid/src/win_handler.rs#L62-L90</a>
                  </figcaption>
                </figure>
                <blockquote class="ld le lf">
                  <p id="f7d9" class="gp gq ec hs gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="bk">💎</em><strong
                      class="gr ht">Advanced Topic</strong>: If you check the video demo, most taps of the button
                    respond within 1 second, but some taps on the button don’t seem to increment the counter, and some
                    taps appear to increment the counter twice. That’s because the Touch Controller Driver has not been
                    implemented completely.</p>
                  <p id="0202" class="gp gq ec hs gr b gs gt gu gv gw gx gy gz ha hb hc"><a class="at cg hd he hf hg"
                      target="_blank" rel="noopener"
                      href="/web/20200109044808/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9?source=friends_link&amp;sk=d8cf73fc943d9c0e960627d768f309cb">The
                      touchscreen controller supports multitouch</a>, so the controller tracks each finger and reports
                    whether each finger is a press (down) or release (up) action. The current Touch Controller Driver <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/rust/app/src/touch_sensor.rs#L81-L101"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">interprets only the first finger
                      detected</a>, and always assume it’s a press (down) action not a release (up) action.</p>
                </blockquote>
              </div>
            </div>
          </section>
          <hr class="hu dy hv hw hx dv hy hz ia ib ic" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dz aj ak">
                <h1 id="11b4" class="id ie ec bk bj if ee ig eg ih ii ij ik il im in io">Other Features Downsized in
                  [druid] and [kurbo]</h1>
                <p id="088b" class="gp gq ec bk gr b gs ip gu iq gw ir gy is ha it hc">The above fork of [druid] has
                  some features commented out…</p>
                <ol class="">
                  <li id="76d5" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc jb jc jd"><strong
                      class="gr ht">Localization</strong>: Our [druid] app uses a <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/localization.rs"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Localized String</a> <code
                      class="dm ho hp hq hr b">hello-counter</code>… This actually refers to a <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/xi-editor/druid/blob/master/druid/resources/i18n/en-US/builtin.ftl"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Resource File</a> that specifies
                    the displayed text as <code class="dm ho hp hq hr b">Current value is &lt;count&gt;</code>. This is
                    probably overkill for a proof-of-concept, so it has been stubbed out and replaced by <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/argvalue.rs"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">a simpler version</a> that
                    displays only the first argument.</li>
                  <li id="e48f" class="gp gq ec bk gr b gs je gu jf gw jg gy jh ha ji hc jb jc jd"><strong
                      class="gr ht">Themes and Environments</strong>: [druid] supports UI themes and configurable
                    environment settings. For embedded platforms they should probably be implemented as compile-time
                    constants. So Themes and Environments have been <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/env.rs#L40-L83"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">stubbed out for now</a>.</li>
                  <li id="52ec" class="gp gq ec bk gr b gs je gu jf gw jg gy jh ha ji hc jb jc jd"><a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/event.rs#L127-L137"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong
                        class="gr ht">Menus</strong></a><strong class="gr ht"> and </strong><a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/druid-embedded/blob/master/druid/src/event.rs#L82-L94"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong
                        class="gr ht">Keyboards</strong></a>: Since they are not necessary for Watch Apps</li>
                </ol>
                <p id="fdaa" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">[druid] and [piet] use the [<a
                    href="https://web.archive.org/web/20200109044808/https://crates.io/crates/kurbo"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">kurbo</a>] crate for computing
                  Bezier curves, which are necessary for drawing rounded buttons. [kurbo] has been downsized to work
                  with PineTime and <code class="dm ho hp hq hr b">#![no_std]</code>…</p>
                <ol class="">
                  <li id="0d47" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc jb jc jd"><strong
                      class="gr ht">Bezier paths</strong> are limited to <a
                      href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/kurbo-embedded/blob/master/src/bezpath.rs#L15-L20"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">16 points</a></li>
                  <li id="6be4" class="gp gq ec bk gr b gs je gu jf gw jg gy jh ha ji hc jb jc jd"><strong
                      class="gr ht">Double-precision floating-point (</strong><code
                      class="dm ho hp hq hr b"><strong class="gr ht">f64</strong></code><strong class="gr ht">) math
                      functions</strong> seem to be missing from the Rust Core Library, so we are using the [<a
                      href="https://web.archive.org/web/20200109044808/https://crates.io/crates/libm"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">libm</a>] crate instead. We
                    could switch to single-precision floating-point (f32) and use [<a
                      href="https://web.archive.org/web/20200109044808/https://crates.io/crates/micromath"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">micromath</a>] instead, because
                    it’s optimised for embedded platforms.</li>
                </ol>
                <p id="62bc" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here is my fork of [kurbo] for
                  PineTime…</p>
                <div class="jq jr js jt ju jv"><a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/kurbo-embedded"
                    rel="noopener nofollow">
                    <section class="jy cl cm ak ce n ar jz ka kb kc kd ke kf kg kh ki kj kk kl km kn">
                      <div class="ko n co p kp kq">
                        <h2 class="bj if kr bl ec">
                          <div class="di jw fm fn jx fp">lupyuen/kurbo-embedded</div>
                        </h2>
                        <div class="ks r">
                          <h3 class="bj dy ds bl bo">
                            <div class="di jw fm fn jx fp">The kurbo library contains data structures and algorithms for
                              curves and vector paths. It is probably most appropriate…</div>
                          </h3>
                        </div>
                        <div class="kt r">
                          <h4 class="bj dy ge bl bo">
                            <div class="di jw fm fn jx fp">github.com</div>
                          </h4>
                        </div>
                      </div>
                      <div class="ku r">
                        <div class="lg r kw kx ky ku kz la lb"></div>
                      </div>
                    </section>
                  </a></div>
              </div>
            </div>
          </section>
          <hr class="hu dy hv hw hx dv hy hz ia ib ic" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dz aj ak">
                <h1 id="5b74" class="id ie ec bk bj if ee ig eg ih ii ij ik il im in io">PineTime ROM Usage for [druid]
                  and Friends</h1>
                <p id="6f6a" class="gp gq ec bk gr b gs ip gu iq gw ir gy is ha it hc">[druid] + [piet] + [kurbo] +
                  [embedded-graphics] + [st7735-lcd] + Rust Core Library + Mynewt OS… <em class="hs">Will this long and
                    exciting Conga Line even run on PineTime’s Nordic nRF52832 microcontroller with </em><strong
                    class="gr ht"><em class="hs">512 KB ROM</em></strong><em class="hs"> and </em><strong
                    class="gr ht"><em class="hs">64 KB RAM</em></strong><em class="hs">?</em></p>
                <figure class="hh hi hj hk hl cz dr li cd lj lk ll lm ln ba lo lp lq lr ls lt paragraph-image">
                  <div class="db dc dd de ak">
                    <div class="cl cm lh">
                      <div class="dl r dd dm">
                        <div class="lu r">
                          <div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq"
                              src="https://web.archive.org/web/20200109044808im_/https://miro.medium.com/max/48/1*8ZOaPQ1bEU-_eG0A5PQ6cg.png?q=20"
                              width="1144" height="1426" role="presentation" /></div><img class="df dg cp t u dh ak dr"
                            width="1144" height="1426" role="presentation" /><noscript><img class="cp t u dh ak"
                              src="https://web.archive.org/web/20200109044808im_/https://miro.medium.com/max/2288/1*8ZOaPQ1bEU-_eG0A5PQ6cg.png"
                              width="1144" height="1426" role="presentation" /></noscript>
                        </div>
                      </div>
                    </div>
                  </div>
                </figure>
                <p id="890e" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hs">Yes it does!</em>
                  Total ROM used is only <strong class="gr ht">237 KB</strong>, less than half of the available ROM
                  space!</p>
                <p id="4c74" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">And this was built in <strong
                    class="gr ht">Debug Mode</strong>, not optimised Release Mode! <em class="hs">(Which is hard to
                    debug and learn)</em></p>
                <p id="647d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hs">What about ROM
                    space for firmware upgrades?</em> Well we have an additional <strong class="gr ht">4 MB SPI
                    Flash</strong> available on PineTime!</p>
                <p id="7e01" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Total RAM used is <strong
                    class="gr ht">46 KB</strong>, which includes 32 KB of stack space <em class="hs">(Probably too
                    much)</em></p>
                <p id="11e1" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hs">So a functional
                    Rust Widget UI for Watch Apps looks mighty feasible on PineTime!</em></p>
                <p id="9b62" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">I think it also helps when I
                  replaced the <code class="dm ho hp hq hr b">Box</code> references in [druid] by <code
                    class="dm ho hp hq hr b">WidgetBox</code> and <code class="dm ho hp hq hr b">WindowBox</code>… The
                  Rust Compiler does an incredible job of removing dead code when everything is statically defined.</p>
                <p id="6dae" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">We can analyse the ROM bloat by
                  loading this <a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/pinetime/logs/my_sensor_app.elf.map#L32538"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Linker Output Map</a> into a
                  Memory Map Google Sheet that’s <a class="at cg hd he hf hg" target="_blank" rel="noopener"
                    href="/web/20200109044808/https://medium.com/@ly.lee/stm32-blue-pill-analyse-and-optimise-your-ram-and-rom-9fc805e16ed7?source=friends_link&amp;sk=54719084d640bb1d92ac1097d623bba2">explained
                    in this article</a>…</p>
              </div>
            </div>
            <div class="cz ak">
              <figure class="hh hi hj hk hl cz ak paragraph-image">
                <div class="db dc dd de ak">
                  <div class="dl r dd dm">
                    <div class="lv r">
                      <div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq"
                          src="https://web.archive.org/web/20200109044808im_/https://miro.medium.com/max/60/1*Uplyp-oFgABeEDr3wUGryg.png?q=20"
                          width="3632" height="1962" role="presentation" /></div><img class="df dg cp t u dh ak dr"
                        width="3632" height="1962" role="presentation" /><noscript><img class="cp t u dh ak"
                          src="https://web.archive.org/web/20200109044808im_/https://miro.medium.com/max/7264/1*Uplyp-oFgABeEDr3wUGryg.png"
                          width="3632" height="1962" role="presentation" /></noscript>
                    </div>
                  </div>
                </div>
                <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Functions that occupy the most ROM space, sorted
                  by ROM size (in bytes). From <a
                    href="https://web.archive.org/web/20200109044808/https://docs.google.com/spreadsheets/d/1Lb217jqZGM7NlnOVCxpaLAI0CQcOTPnbMpksDSPVyiw/edit#gid=381366828&amp;fvid=1643056349"
                    class="at cg hd he hf hg" target="_blank"
                    rel="noopener nofollow">https://docs.google.com/spreadsheets/d/1Lb217jqZGM7NlnOVCxpaLAI0CQcOTPnbMpksDSPVyiw/edit#gid=381366828&amp;fvid=1643056349</a>
                </figcaption>
              </figure>
            </div>
            <div class="n p">
              <div class="ac ae af ag ah dz aj ak">
                <p id="d9b5" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><a
                    href="https://web.archive.org/web/20200109044808/https://docs.google.com/spreadsheets/d/1Lb217jqZGM7NlnOVCxpaLAI0CQcOTPnbMpksDSPVyiw/edit#gid=381366828"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">The Google Sheet is here</a>. It
                  shows the functions that occupy the most ROM space, sorted by ROM size (in bytes). Some observations…
                </p>
                <ol class="">
                  <li id="1731" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc jb jc jd">[<a
                      href="https://web.archive.org/web/20200109044808/https://crates.io/crates/libm"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">libm</a>], the floating-point
                    math library, seems to be taking the most ROM space. We could replace this by [<a
                      href="https://web.archive.org/web/20200109044808/https://crates.io/crates/micromath"
                      class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">micromath</a>], a smaller math
                    library for embedded platforms</li>
                  <li id="49b1" class="gp gq ec bk gr b gs je gu jf gw jg gy jh ha ji hc jb jc jd"><code
                      class="dm ho hp hq hr b">core::num::flt2dec::strategy</code> needs closer study. And why <code
                      class="dm ho hp hq hr b">dragon</code> and his friend <code class="dm ho hp hq hr b">grisu</code>
                    are hiding in my watch!</li>
                  <li id="7d8a" class="gp gq ec bk gr b gs je gu jf gw jg gy jh ha ji hc jb jc jd">[druid] seems to take
                    a fair amount of ROM space. Which is expected since [druid] was designed for desktop use. The ROM
                    usage will probably drop drastically once we enable size optimisation in the Rust Release Build.
                  </li>
                </ol>
              </div>
            </div>
          </section>
          <hr class="hu dy hv hw hx dv hy hz ia ib ic" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dz aj ak">
                <h1 id="f64c" class="id ie ec bk bj if ee ig eg ih ii ij ik il im in io">What’s Next?</h1>
                <p id="974e" class="gp gq ec bk gr b gs ip gu iq gw ir gy is ha it hc">Here are the other articles in
                  the PineTime series…</p>
                <div class="jq jr js jt ju jv"><a rel="noopener"
                    href="/web/20200109044808/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159">
                    <section class="jy cl cm ak ce n ar jz ka kb kc kd ke kf kg kh ki kj kk kl km kn">
                      <div class="ko n co p kp kq">
                        <h2 class="bj if kr bl ec">
                          <div class="di jw fm fn jx fp">Sneak Peek of PineTime Smart Watch… And why it’s perfect for
                            teaching IoT</div>
                        </h2>
                        <div class="ks r">
                          <h3 class="bj dy ds bl bo">
                            <div class="di jw fm fn jx fp">I’m one of the lucky few who received the developer preview
                              version of the PineTime Smart Watch by Pine64. (My official…</div>
                          </h3>
                        </div>
                        <div class="kt r">
                          <h4 class="bj dy ge bl bo">
                            <div class="di jw fm fn jx fp">medium.com</div>
                          </h4>
                        </div>
                      </div>
                      <div class="ku r">
                        <div class="lw r kw kx ky ku kz la lb"></div>
                      </div>
                    </section>
                  </a></div>
                <div class="jq jr js jt ju jv"><a rel="noopener"
                    href="/web/20200109044808/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9">
                    <section class="jy cl cm ak ce n ar jz ka kb kc kd ke kf kg kh ki kj kk kl km kn">
                      <div class="ko n co p kp kq">
                        <h2 class="bj if kr bl ec">
                          <div class="di jw fm fn jx fp">Building a Rust Driver for PineTime’s Touch Controller</div>
                        </h2>
                        <div class="ks r">
                          <h3 class="bj dy ds bl bo">
                            <div class="di jw fm fn jx fp">Pretend you’re my IoT student. I give you a PineTime Smart
                              Watch and challenge you to “Make it work… Especially the…</div>
                          </h3>
                        </div>
                        <div class="kt r">
                          <h4 class="bj dy ge bl bo">
                            <div class="di jw fm fn jx fp">medium.com</div>
                          </h4>
                        </div>
                      </div>
                      <div class="ku r">
                        <div class="lx r kw kx ky ku kz la lb"></div>
                      </div>
                    </section>
                  </a></div>
                <div class="jq jr js jt ju jv"><a rel="noopener"
                    href="/web/20200109044808/https://medium.com/@ly.lee/optimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c">
                    <section class="jy cl cm ak ce n ar jz ka kb kc kd ke kf kg kh ki kj kk kl km kn">
                      <div class="ko n co p kp kq">
                        <h2 class="bj if kr bl ec">
                          <div class="di jw fm fn jx fp">Optimising PineTime’s Display Driver with Rust and Mynewt</div>
                        </h2>
                        <div class="ks r">
                          <h3 class="bj dy ds bl bo">
                            <div class="di jw fm fn jx fp">Simple tweaks like Batched Updates and Non-Blocking SPI can
                              have a huge impact on rendering performance…</div>
                          </h3>
                        </div>
                        <div class="kt r">
                          <h4 class="bj dy ge bl bo">
                            <div class="di jw fm fn jx fp">medium.com</div>
                          </h4>
                        </div>
                      </div>
                      <div class="ku r">
                        <div class="ly r kw kx ky ku kz la lb"></div>
                      </div>
                    </section>
                  </a></div>
                <p id="26f3" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">I hope the maintainers of
                  [druid], [piet], [kurbo], [embedded-graphics], [st7735-lcd] will consider incorporating some of the
                  tweaks I have covered in this article. <em class="hs">Together we can do so much more when the Rust
                    Ecosystem embraces Embedded Platforms!</em></p>
                <p id="161c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">And I hope you agree with me that
                  this is clearly the better way to code Watch Apps. There’s more work to be done to flesh this out
                  fully for PineTime… Lemme know if you’re keen to help!</p>
                <p id="c82c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The source code in this article
                  may be found in the <code class="dm ho hp hq hr b">pinetime</code> branch of this repository…</p>
                <div class="jq jr js jt ju jv"><a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/pinetime"
                    rel="noopener nofollow">
                    <section class="jy cl cm ak ce n ar jz ka kb kc kd ke kf kg kh ki kj kk kl km kn">
                      <div class="ko n co p kp kq">
                        <h2 class="bj if kr bl ec">
                          <div class="di jw fm fn jx fp">lupyuen/stm32bluepill-mynewt-sensor</div>
                        </h2>
                        <div class="ks r">
                          <h3 class="bj dy ds bl bo">
                            <div class="di jw fm fn jx fp">This pinetime branch contains the firmware source code for
                              PineTime Smart Watch with Apache Mynewt and Embedded Rust…</div>
                          </h3>
                        </div>
                        <div class="kt r">
                          <h4 class="bj dy ge bl bo">
                            <div class="di jw fm fn jx fp">github.com</div>
                          </h4>
                        </div>
                      </div>
                      <div class="ku r">
                        <div class="lz r kw kx ky ku kz la lb"></div>
                      </div>
                    </section>
                  </a></div>
                <p id="9eb7" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The macOS build files for
                  [druid], [piet], [kurbo], Embedded Rust and Mynewt OS for PineTime are available here…</p>
                <div class="jq jr js jt ju jv"><a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/releases/tag/v13.0.0"
                    rel="noopener nofollow">
                    <section class="jy cl cm ak ce n ar jz ka kb kc kd ke kf kg kh ki kj kk kl km kn">
                      <div class="ko n co p kp kq">
                        <h2 class="bj if kr bl ec">
                          <div class="di jw fm fn jx fp">lupyuen/stm32bluepill-mynewt-sensor</div>
                        </h2>
                        <div class="ks r">
                          <h3 class="bj dy ds bl bo">
                            <div class="di jw fm fn jx fp">You can&#x27;t perform that action at this time. You signed
                              in with another tab or window. You signed out in another tab or…</div>
                          </h3>
                        </div>
                        <div class="kt r">
                          <h4 class="bj dy ge bl bo">
                            <div class="di jw fm fn jx fp">github.com</div>
                          </h4>
                        </div>
                      </div>
                      <div class="ku r">
                        <div class="ma r kw kx ky ku kz la lb"></div>
                      </div>
                    </section>
                  </a></div>
                <p id="3eb4" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">I’ll be packaging a proper
                  release when PineTime is available to the general public. Meanwhile if you have trouble building the
                  source files (<a class="at cg hd he hf hg" target="_blank" rel="noopener"
                    href="/web/20200109044808/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&amp;sk=d9301466f5499bece3e7b638e99ec20d">as
                    explained in the first article</a>), please drop me a note! The PineTime build, flash and debug
                  steps on Visual Studio Code look like this…</p>
              </div>
            </div>
            <div class="cz ak">
              <figure class="hh hi hj hk hl cz">
                <div class="dl r dd">
                  <div class="mb r"><iframe
                      src="https://web.archive.org/web/20200109044808if_/https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FAMVYXOSPjIg%3Ffeature%3Doembed&amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DAMVYXOSPjIg&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FAMVYXOSPjIg%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube"
                      allowfullscreen="" frameborder="0" height="480" width="640"
                      title="Rust and Mynewt OS on PineTime Smart Watch" class="cp t u dh ak" scrolling="auto"></iframe>
                  </div>
                </div>
                <figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">PineTime build, flash and debug steps on Visual
                  Studio Code</figcaption>
              </figure>
            </div>
            <div class="n p">
              <div class="ac ae af ag ah dz aj ak">
                <p id="b9e4" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">UPDATE: <a
                    href="https://web.archive.org/web/20200109044808/https://store.pine64.org/?product=pinetime-dev-kit"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">PineTime is now available for
                    purchase by general public</a>! I’m creating a <a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/pinetime-rust-mynewt"
                    class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">new repository here</a> that will
                  have a prebuilt firmware image for PineTime. I’ll also include instructions for flashing the firmware
                  to your PineTime with a Raspberry Pi.</p>
                <div class="jq jr js jt ju jv"><a
                    href="https://web.archive.org/web/20200109044808/https://github.com/lupyuen/pinetime-rust-mynewt"
                    rel="noopener nofollow">
                    <section class="jy cl cm ak ce n ar jz ka kb kc kd ke kf kg kh ki kj kk kl km kn">
                      <div class="ko n co p kp kq">
                        <h2 class="bj if kr bl ec">
                          <div class="di jw fm fn jx fp">lupyuen/pinetime-rust-mynewt</div>
                        </h2>
                        <div class="ks r">
                          <h3 class="bj dy ds bl bo">
                            <div class="di jw fm fn jx fp">This master branch contains the firmware source code for
                              PineTime Smart Watch with Apache Mynewt and Embedded Rust…</div>
                          </h3>
                        </div>
                        <div class="kt r">
                          <h4 class="bj dy ge bl bo">
                            <div class="di jw fm fn jx fp">github.com</div>
                          </h4>
                        </div>
                      </div>
                      <div class="ku r">
                        <div class="mc r kw kx ky ku kz la lb"></div>
                      </div>
                    </section>
                  </a></div>
              </div>
            </div>
          </section>
        </div>
      </article>
      <div class="df ct md s ak mj mh mk" data-test-id="post-sidebar">
        <div class="n p">
          <div class="ac ae af ag ah ai aj ak">
            <div class="ml n co">
              <div class="ct">
                <div class="mm mn mo n">
                  <div class="n o">
                    <div class="mp r dd"><a
                        href="https://web.archive.org/web/20200109044808/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a&amp;source=post_sidebar-----7e1d5a5d977a---------------------clap_sidebar-"
                        class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener">
                        <div class="ba mq mr ms mt mu mv mw mx my mz"><svg width="29" height="29">
                            <g fill-rule="evenodd">
                              <path
                                d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z">
                              </path>
                            </g>
                          </svg></div>
                      </a></div>
                    <div class="na r">
                      <div class="nb">
                        <h4 class="bj dy ds bl bo"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi">60
                          </button></h4>
                      </div>
                    </div>
                  </div>
                </div>
                <div>
                  <div class="cf" role="tooltip" aria-hidden="true"><a
                      href="https://web.archive.org/web/20200109044808/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a&amp;source=post_sidebar--------------------------bookmark_sidebar-"
                      class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25" height="25"
                        viewbox="0 0 25 25">
                        <path
                          d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                          fill-rule="evenodd"></path>
                      </svg></a></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="df ct md s me ff mf mg mh mi"></div>
      <div>
        <div class="nc cz n co p">
          <div class="n p">
            <div class="ac ae af ag ah dz aj ak">
              <div class="n nd"></div>
              <div class="n o nd"></div>
              <div class="ne r">
                <ul class="ba bb">
                  <li class="cf nf ng nh"><a href="/web/20200109044808/https://medium.com/tag/rust"
                      class="ni nj cg bo r iv nk a b ge">Rust</a></li>
                  <li class="cf nf ng nh"><a href="/web/20200109044808/https://medium.com/tag/internet-of-things"
                      class="ni nj cg bo r iv nk a b ge">Internet of Things</a></li>
                  <li class="cf nf ng nh"><a href="/web/20200109044808/https://medium.com/tag/gadgets"
                      class="ni nj cg bo r iv nk a b ge">Gadgets</a></li>
                  <li class="cf nf ng nh"><a href="/web/20200109044808/https://medium.com/tag/programming"
                      class="ni nj cg bo r iv nk a b ge">Programming</a></li>
                  <li class="cf nf ng nh"><a href="/web/20200109044808/https://medium.com/tag/nrf52"
                      class="ni nj cg bo r iv nk a b ge">Nrf52</a></li>
                </ul>
              </div>
              <div class="nl n ev ab">
                <div class="n o">
                  <div class="nm r dd"><a
                      href="https://web.archive.org/web/20200109044808/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a&amp;source=post_actions_footer-----7e1d5a5d977a---------------------clap_footer-"
                      class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener">
                      <div class="c nn fh n o no dd np nq nr ns nt nu nv nw nx ny nz oa ob oc">
                        <div class="ba mq mr ms mt mu od mw o dr fh n p oe u dh cp t ak mx my mz of"><svg width="33"
                            height="33" viewbox="0 0 33 33">
                            <path
                              d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z"
                              fill-rule="evenodd"></path>
                          </svg></div>
                      </div>
                    </a></div>
                  <div class="na r">
                    <div class="nb">
                      <h4 class="bj dy ds bl ec"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi">60
                          claps</button></h4>
                    </div>
                  </div>
                </div>
                <div class="n o">
                  <div class="gn r ar"><a
                      href="//web.archive.org/web/20200109044808/https://medium.com/p/7e1d5a5d977a/share/twitter?source=post_actions_footer---------------------------"
                      class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg
                        width="29" height="29" class="q">
                        <path
                          d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z">
                        </path>
                      </svg></a></div>
                  <div class="gn r ar"><a
                      href="//web.archive.org/web/20200109044808/https://medium.com/p/7e1d5a5d977a/share/facebook?source=post_actions_footer---------------------------"
                      class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg
                        width="29" height="29" class="q">
                        <path
                          d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79">
                        </path>
                      </svg></a></div>
                  <div class="gn r ar">
                    <div>
                      <div class="cf" role="tooltip" aria-hidden="true"><a
                          href="https://web.archive.org/web/20200109044808/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a&amp;source=post_actions_footer--------------------------bookmark_sidebar-"
                          class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25"
                            height="25" viewbox="0 0 25 25">
                            <path
                              d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                              fill-rule="evenodd"></path>
                          </svg></a></div>
                    </div>
                  </div>
                  <div class="cf" aria-hidden="true">
                    <div class="r ar"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi"><svg width="25"
                          height="25" viewbox="-480.5 272.5 21 21" class="q">
                          <path
                            d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z">
                          </path>
                        </svg></button></div>
                  </div>
                </div>
              </div>
              <div class="og oh oi ne r ab">
                <div class="oj ok r dd"><span class="r ol an om">
                    <div class="r cp on oo"><a rel="noopener"
                        href="/web/20200109044808/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-">
                        <div class="dd op oq">
                          <div class="bs n fb o p cp fc fd fe ff fg ct"><svg width="91" height="91" viewbox="0 0 91 91">
                              <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M45.5 1.4c-17.14 0-32 9.95-39.25 24.5L5 25.28C12.47 10.28 27.8 0 45.5 0S78.53 10.29 86 25.28l-1.25.62C77.5 11.35 62.65 1.4 45.5 1.4zM6.25 65.1c7.25 14.55 22.1 24.5 39.25 24.5 17.14 0 32-9.95 39.25-24.5l1.25.62C78.53 80.72 63.2 91 45.5 91S12.47 80.71 5 65.72l1.25-.62z">
                              </path>
                            </svg></div><img alt="Lup Yuen Lee 李立源" class="r fh oq op"
                            src="https://web.archive.org/web/20200109044808im_/https://miro.medium.com/fit/c/160/160/1*KGohS3sQaUnr58gc0BIfoQ.jpeg"
                            width="80" height="80" />
                        </div>
                      </a></div><span class="r">
                      <div class="or r os">
                        <p class="bj dy ge bl bo ot ou">Written by</p>
                      </div>
                      <div class="or ov n os">
                        <div class="ak n o ev">
                          <h2 class="bj if hv ow ec"><a class="at au av aw ax ay az ba bb bc bd be bf bg bh bi"
                              rel="noopener"
                              href="/web/20200109044808/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-">Lup
                              Yuen Lee 李立源</a></h2>
                          <div class="r g"><button
                              class="ox ec q by ft fu fv fw bc bh fx fy fz ga gb gc cb bj b bk bl bm bn cc cd ce cf cg bf">Follow</button>
                          </div>
                        </div>
                      </div>
                    </span>
                  </span>
                  <div class="or oy r os aq">
                    <div class="oz r">
                      <h4 class="bj dy kr pa bo">Techie and Educator in IoT 物聯網教師</h4>
                    </div>
                    <div class="ap pb aq"><button
                        class="ox ec q by ft fu fv fw bc bh fx fy fz ga gb gc cb bj b bk bl bm bn cc cd ce cf cg bf">Follow</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="pc oh r ab"><a
                  href="https://web.archive.org/web/20200109044808/https://medium.com/p/7e1d5a5d977a/responses/show?source=follow_footer--------------------------follow_footer-"
                  class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><span class="pd pe mt">
                    <div class="iu pf cb r dv aq"><span class="br">See responses (1)</span></div>
                  </span></a></div>
            </div>
          </div>
          <div class="pg r ph ab">
            <div class="n p">
              <div class="ac ae af ag ah ai aj ak"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="pi r pj pk">
        <section class="cl cm ak ce r jz ka kb kc kd ke kf kg kh ki kj kk kl km kn">
          <div class="pl pm oj n ev g">
            <div class="pn n ev">
              <div class="po r pp">
                <div class="pq r"><a
                    href="https://web.archive.org/web/20200109044808/https://medium.com/about?autoplay=1&amp;source=post_page-----7e1d5a5d977a----------------------"
                    class="at au av aw ax ay az ba bb bc pr ps bf bg pt pu" rel="noopener">
                    <h4 class="pv pw px bj if bk pa py pz r">Discover
                      <!-- -->Medium
                    </h4>
                  </a></div><span class="bj b bk bl bm bn r qa qb">Welcome to a place where words matter. On
                  <!-- -->Medium
                  <!-- -->, smart voices and original ideas take center stage - with no ads in sight.
                  <!-- --> <a
                    href="https://web.archive.org/web/20200109044808/https://medium.com/about?autoplay=1&amp;source=post_page-----7e1d5a5d977a----------------------"
                    class="at au av aw ax ay az ba bb bc bf bg pt pu qc" rel="noopener">Watch</a>
                </span>
              </div>
              <div class="po r pp">
                <div class="qd r"><a
                    href="https://web.archive.org/web/20200109044808/https://medium.com/topics?source=post_page-----7e1d5a5d977a----------------------"
                    class="at au av aw ax ay az ba bb bc pr ps bf bg pt pu" rel="noopener">
                    <h4 class="pv pw px bj if bk pa py pz r">Make
                      <!-- -->Medium
                      <!-- --> yours
                    </h4>
                  </a></div><span class="bj b bk bl bm bn r qa qb">Follow all the topics you care about, and we’ll
                  deliver the best stories for you to your homepage and inbox.
                  <!-- --> <a
                    href="https://web.archive.org/web/20200109044808/https://medium.com/topics?source=post_page-----7e1d5a5d977a----------------------"
                    class="at au av aw ax ay az ba bb bc bf bg pt pu qc" rel="noopener">Explore</a>
                </span>
              </div>
              <div class="po r pp">
                <div class="pq r"><a
                    href="https://web.archive.org/web/20200109044808/https://medium.com/membership?source=post_page-----7e1d5a5d977a----------------------"
                    class="at au av aw ax ay az ba bb bc pr ps bf bg pt pu" rel="noopener">
                    <h4 class="pv pw px bj if bk pa py pz r">Become a member</h4>
                  </a></div><span class="bj b bk bl bm bn r qa qb">Get unlimited access to the best stories on
                  <!-- -->Medium
                  <!-- --> — and support writers while you’re at it. Just $5/month.
                  <!-- --> <a
                    href="https://web.archive.org/web/20200109044808/https://medium.com/membership?source=post_page-----7e1d5a5d977a----------------------"
                    class="at au av aw ax ay az ba bb bc bf bg pt pu qc" rel="noopener">Upgrade</a>
                </span>
              </div>
            </div>
          </div>
          <div class="n o ev"><a class="at au av aw ax ay az ba bb bc pr ps bf bg pt pu" rel="noopener"
              href="/web/20200109044808/https://medium.com/?source=post_page-----7e1d5a5d977a----------------------"><svg
                height="22" width="112" viewbox="0 0 111.5 22" class="pw">
                <path
                  d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z">
                </path>
              </svg></a><span class="bj b bk bl bm bn r qa qb">
              <div class="qe qf n ev qg an"><a
                  href="https://web.archive.org/web/20200109044808/https://medium.com/about?autoplay=1&amp;source=post_page-----7e1d5a5d977a----------------------"
                  class="at au av aw ax ay az ba bb bc fq bf bg pt pu" rel="noopener">About</a><a
                  href="https://web.archive.org/web/20200109044808/https://help.medium.com/?source=post_page-----7e1d5a5d977a----------------------"
                  class="at au av aw ax ay az ba bb bc fq bf bg pt pu" rel="noopener">Help</a><a
                  class="at au av aw ax ay az ba bb bc fq bf bg pt pu" rel="noopener"
                  href="/web/20200109044808/https://medium.com/policy/9db0094a1e0f?source=post_page-----7e1d5a5d977a----------------------">Legal</a>
              </div>
            </span></div>
        </section>
      </div>
    </div>
  </div>
  <script src="https://web.archive.org/web/20200109044808js_/https://cdn.optimizely.com/js/16180790160.js"></script>
  <script>window.__BUILD_ID__ = "development"</script>
  <script>window.__GRAPHQL_URI__ = "https://web.archive.org/web/20200109044808/https://medium.com/_/graphql"</script>
  <script>window.__PRELOADED_STATE__ = { "config": { "nodeEnv": "production", "version": "master-20200108-224505-78f0abbc32", "productName": "Medium", "publicUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcdn-client.medium.com\u002Flite", "authDomain": "medium.com", "authGoogleClientId": "216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com", "favicon": "production", "glyphUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fglyph.medium.com", "branchKey": "key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm", "lightStep": { "name": "lite-web", "host": "collector-medium.lightstep.com", "token": "ce5be895bef60919541332990ac9fef2", "appVersion": "master-20200108-224505-78f0abbc32" }, "algolia": { "appId": "MQ57UUUQZ2", "apiKeySearch": "394474ced050e3911ae2249ecc774921", "indexPrefix": "medium_", "host": "-dsn.algolia.net" }, "recaptchaKey": "6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk", "sentry": { "dsn": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002F589e367c28ca47b195ce200d1507d18b@sentry.io\u002F1423575", "environment": "production" }, "isAmp": false, "googleAnalyticsCode": "UA-24232453-2", "signInWallCustomDomainCollectionIds": ["3a8144eabfe3", "336d898217ee", "61061eb0c96b", "138adf9c44c", "819cc2aaeee0"], "mediumOwnedAndOperatedCollectionIds": ["544c7006046e", "bcc38c8f6edf", "444d13b52878", "8d6b8a439e32", "92d2092dc598", "1285ba81cada", "cb8577c9149e", "8ccfed20cbb2", "ae2a65f35510", "3f6ecf56618", "7b6769f2748b", "fc8964313712", "ef8e90590e66", "191186aaafa0", "d944778ce714", "bdc4052bbdba", "88d9857e584e"], "tierOneDomains": ["medium.com", "thebolditalic.com", "arcdigital.media", "towardsdatascience.com", "uxdesign.cc", "codeburst.io", "psiloveyou.xyz", "writingcooperative.com", "entrepreneurshandbook.co", "prototypr.io", "betterhumans.coach.me", "theascent.pub"], "defaultImages": { "avatar": { "imageId": "1*dmbNkD5D-u45r44go_cf0g.png", "height": 150, "width": 150 }, "orgLogo": { "imageId": "1*OMF3fSqH8t4xBJ9-6oZDZw.png", "height": 106, "width": 545 }, "postLogo": { "imageId": "1*3sela1OADrJr7dJk_CXaEQ.png", "height": 810, "width": 1440 } } }, "debug": { "requestId": "7aaa4f68-1ba2-45de-a9cf-0d0036bd39e4", "originalSpanCarrier": { "ot-tracer-spanid": "5cc55b325e5ecefb", "ot-tracer-traceid": "3806715542860c4a", "ot-tracer-sampled": "true" } }, "session": { "user": { "id": "lo_2bf78781d32d" }, "xsrf": "" }, "stats": { "itemCount": 0, "sending": false, "timeout": null, "backup": {} }, "navigation": { "showBranchBanner": null, "hasRenderedBranchBanner": null, "hideGoogleOneTap": false, "hideAlternateUser": false, "branchData": { "loaded": false }, "currentLocation": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "host": "medium.com", "hostname": "medium.com", "referrer": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9", "susiModal": { "step": null, "operation": "register", "reportEventInfo": { "eventName": "", "data": {} } } }, "client": { "isBot": false, "isEu": false, "isNativeMedium": false, "isCustomDomain": false }, "multiVote": { "clapsPerPost": {} }, "metadata": { "faviconImageId": null } }</script>
  <script>window.__APOLLO_STATE__ = { "ROOT_QUERY.variantFlags.0": { "name": "add_friction_to_signup", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.0.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.0.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.1": { "name": "allow_access", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.1.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.1.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.2": { "name": "allow_previously_seen_posts", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.2.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.2.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.3": { "name": "allow_signup", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.3.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.3.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.4": { "name": "allow_test_auth", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.4.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.4.valueType": { "__typename": "VariantFlagString", "value": "disallow" }, "ROOT_QUERY.variantFlags.5": { "name": "assign_default_topic_to_posts", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.5.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.5.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.6": { "name": "available_annual_plan", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.6.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.6.valueType": { "__typename": "VariantFlagString", "value": "2c754bcc2995" }, "ROOT_QUERY.variantFlags.7": { "name": "available_monthly_plan", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.7.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.7.valueType": { "__typename": "VariantFlagString", "value": "60e220181034" }, "ROOT_QUERY.variantFlags.8": { "name": "branch_seo_metadata", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.8.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.8.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.9": { "name": "browsable_stream_config_bucket", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.9.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.9.valueType": { "__typename": "VariantFlagString", "value": "curated-topics" }, "ROOT_QUERY.variantFlags.10": { "name": "digest_delivery_window_seven_to_eight", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.10.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.10.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.11": { "name": "disable_go_social", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.11.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.11.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.12": { "name": "disable_gosocial_followers_that_you_follow", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.12.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.12.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.13": { "name": "disable_ios_resume_reading_toast", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.13.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.13.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.14": { "name": "disable_mobile_featured_chunk", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.14.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.14.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.15": { "name": "disable_post_recommended_from_friends_provider", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.15.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.15.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.16": { "name": "enable_android_local_currency", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.16.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.16.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.17": { "name": "enable_annual_renewal_reminder_email", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.17.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.17.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.18": { "name": "enable_app_flirty_thirty", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.18.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.18.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.19": { "name": "enable_auto_tier", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.19.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.19.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.20": { "name": "enable_automated_mission_control_triggers", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.20.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.20.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.21": { "name": "enable_branch_io", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.21.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.21.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.22": { "name": "enable_branding", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.22.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.22.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.23": { "name": "enable_branding_fonts", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.23.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.23.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.24": { "name": "enable_dedicated_series_tab_api_ios", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.24.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.24.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.25": { "name": "enable_different_grid", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.25.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.25.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.26": { "name": "enable_disregard_trunc_state_for_footer", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.26.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.26.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.27": { "name": "enable_edit_alt_text", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.27.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.27.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.28": { "name": "enable_email_sign_in_captcha", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.28.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.28.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.29": { "name": "enable_embedding_based_diversification", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.29.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.29.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.30": { "name": "enable_expanded_feature_chunk_pool", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.30.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.30.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.31": { "name": "enable_filter_by_resend_rules", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.31.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.31.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.32": { "name": "enable_first_name_on_paywall", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.32.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.32.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.33": { "name": "enable_geolocation_stripe_standard", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.33.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.33.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.34": { "name": "enable_google_one_tap", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.34.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.34.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.35": { "name": "enable_ios_post_stats", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.35.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.35.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.36": { "name": "enable_janky_spam_rules", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.36.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.36.valueType": { "__typename": "VariantFlagString", "value": "users,posts" }, "ROOT_QUERY.variantFlags.37": { "name": "enable_json_logs_trained_ranker", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.37.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.37.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.38": { "name": "enable_kafka_events", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.38.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.38.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.39": { "name": "enable_kbfd_rex", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.39.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.39.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.40": { "name": "enable_kbfd_rex_app_highlights", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.40.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.40.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.41": { "name": "enable_kbfd_rex_daily_digest", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.41.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.41.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.42": { "name": "enable_lite_membership_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.42.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.42.valueType": { "__typename": "VariantFlagString", "value": "new-content" }, "ROOT_QUERY.variantFlags.43": { "name": "enable_lite_notifications", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.43.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.43.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.44": { "name": "enable_lite_post", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.44.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.44.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.45": { "name": "enable_lite_post_cd", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.45.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.45.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.46": { "name": "enable_lite_post_highlights", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.46.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.46.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.47": { "name": "enable_lite_post_highlights_view_only", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.47.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.47.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.48": { "name": "enable_lite_profile", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.48.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.48.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.49": { "name": "enable_lite_pub_header_menu", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.49.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.49.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.50": { "name": "enable_lite_reading_list", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.50.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.50.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.51": { "name": "enable_lite_server_upstream_deadlines", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.51.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.51.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.52": { "name": "enable_lite_stories", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.52.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.52.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.53": { "name": "enable_lite_topics", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.53.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.53.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.54": { "name": "enable_lite_unread_notification_count_mutation", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.54.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.54.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.55": { "name": "enable_lo_homepage", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.55.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.55.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.56": { "name": "enable_lo_scroll_away_metabar", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.56.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.56.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.57": { "name": "enable_logged_out_homepage_signup", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.57.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.57.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.58": { "name": "enable_marketing_emails", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.58.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.58.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.59": { "name": "enable_media_resource_try_catch", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.59.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.59.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.60": { "name": "enable_membership_remove_section_a", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.60.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.60.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.61": { "name": "enable_more_branch_data", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.61.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.61.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.62": { "name": "enable_new_collaborative_filtering_data", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.62.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.62.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.63": { "name": "enable_new_pub_fonts", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.63.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.63.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.64": { "name": "enable_new_pub_modules", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.64.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.64.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.65": { "name": "enable_new_suspended_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.65.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.65.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.66": { "name": "enable_new_three_dot_menu", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.66.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.66.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.67": { "name": "enable_optimizely", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.67.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.67.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.68": { "name": "enable_parsely", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.68.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.68.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.69": { "name": "enable_patronus_on_kubernetes", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.69.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.69.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.70": { "name": "enable_popularity_feature", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.70.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.70.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.71": { "name": "enable_post_import", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.71.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.71.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.72": { "name": "enable_post_seo_settings_screen", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.72.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.72.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.73": { "name": "enable_post_settings_screen", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.73.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.73.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.74": { "name": "enable_post_stats_lifetime_view", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.74.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.74.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.75": { "name": "enable_primary_topic_for_mobile", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.75.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.75.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.76": { "name": "enable_rito_upstream_deadlines", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.76.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.76.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.77": { "name": "enable_rtr_channel", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.77.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.77.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.78": { "name": "enable_save_to_medium", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.78.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.78.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.79": { "name": "enable_sign_up_with_email", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.79.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.79.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.80": { "name": "enable_suggest_account", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.80.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.80.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.81": { "name": "enable_suggest_account_li", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.81.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.81.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.82": { "name": "enable_tick_landing_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.82.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.82.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.83": { "name": "enable_tipalti_onboarding", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.83.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.83.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.84": { "name": "enable_topic_lifecycle_email", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.84.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.84.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.85": { "name": "enable_tribute_landing_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.85.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.85.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.86": { "name": "enable_trumpland_landing_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.86.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.86.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.87": { "name": "glyph_font_set", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.87.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.87.valueType": { "__typename": "VariantFlagString", "value": "m2" }, "ROOT_QUERY.variantFlags.88": { "name": "google_sign_in_android", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.88.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.88.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.89": { "name": "is_not_medium_subscriber", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.89.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.89.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.90": { "name": "new_transition_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.90.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.90.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.91": { "name": "pub_sidebar", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.91.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.91.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.92": { "name": "rank_model", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.92.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.92.valueType": { "__typename": "VariantFlagString", "value": "default" }, "ROOT_QUERY.variantFlags.93": { "name": "redis_read_write_splitting", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.93.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.93.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.94": { "name": "signin_services", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.94.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.94.valueType": { "__typename": "VariantFlagString", "value": "twitter,facebook,google,email,google-fastidv,google-one-tap" }, "ROOT_QUERY.variantFlags.95": { "name": "signup_services", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.95.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.95.valueType": { "__typename": "VariantFlagString", "value": "twitter,facebook,google,email,google-fastidv,google-one-tap" }, "ROOT_QUERY.variantFlags.96": { "name": "use_new_admin_topic_backend", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.96.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.96.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.97": { "name": "use_sendgrid_queue_for_digest_sends", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.97.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.97.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY": { "variantFlags": [{ "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.0", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.1", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.2", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.3", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.4", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.5", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.6", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.7", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.8", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.9", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.10", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.11", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.12", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.13", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.14", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.15", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.16", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.17", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.18", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.19", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.20", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.21", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.22", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.23", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.24", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.25", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.26", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.27", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.28", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.29", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.30", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.31", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.32", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.33", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.34", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.35", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.36", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.37", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.38", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.39", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.40", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.41", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.42", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.43", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.44", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.45", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.46", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.47", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.48", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.49", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.50", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.51", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.52", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.53", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.54", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.55", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.56", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.57", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.58", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.59", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.60", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.61", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.62", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.63", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.64", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.65", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.66", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.67", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.68", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.69", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.70", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.71", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.72", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.73", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.74", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.75", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.76", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.77", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.78", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.79", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.80", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.81", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.82", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.83", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.84", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.85", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.86", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.87", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.88", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.89", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.90", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.91", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.92", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.93", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.94", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.95", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.96", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.97", "typename": "VariantFlag" }], "viewer": null, "meterPost({\"postId\":\"7e1d5a5d977a\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}})": { "type": "id", "generated": false, "id": "MeteringInfo:singleton", "typename": "MeteringInfo" }, "postResult({\"id\":\"7e1d5a5d977a\"})": { "type": "id", "generated": false, "id": "Post:7e1d5a5d977a", "typename": "Post" } }, "MeteringInfo:singleton": { "__typename": "MeteringInfo", "postIds": { "type": "json", "json": [] }, "maxUnlockCount": 3, "unlocksRemaining": 3 }, "Post:7e1d5a5d977a": { "__typename": "Post", "visibility": "PUBLIC", "latestPublishedVersion": "bf88d938da66", "collection": null, "id": "7e1d5a5d977a", "creator": { "type": "id", "generated": false, "id": "User:1da08193a324", "typename": "User" }, "isLocked": false, "lockedSource": "LOCKED_POST_SOURCE_NONE", "sequence": null, "mediumUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "canonicalUrl": "", "content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}})": { "type": "id", "generated": true, "id": "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}})", "typename": "PostContent" }, "firstPublishedAt": 1576313253417, "isPublished": true, "layerCake": 4, "primaryTopic": null, "title": "Porting [druid] Rust Widgets to PineTime Smart Watch", "isLimitedState": false, "pendingCollection": null, "shareKey": null, "statusForCollection": null, "readingTime": 11.601886792452829, "readingList": "READING_LIST_NONE", "license": "ALL_RIGHTS_RESERVED", "allowResponses": true, "tags": [{ "type": "id", "generated": false, "id": "Tag:rust", "typename": "Tag" }, { "type": "id", "generated": false, "id": "Tag:internet-of-things", "typename": "Tag" }, { "type": "id", "generated": false, "id": "Tag:gadgets", "typename": "Tag" }, { "type": "id", "generated": false, "id": "Tag:programming", "typename": "Tag" }, { "type": "id", "generated": false, "id": "Tag:nrf52", "typename": "Tag" }], "viewerClapCount": 0, "clapCount": 60, "voterCount": 7, "recommenders": [], "responsesCount": 1, "collaborators": [], "translationSourcePost": null, "newsletterId": "", "inResponseToPostResult": null, "inResponseToMediaResource": null, "curationEligibleAt": 0, "audioVersionUrl": "", "seoTitle": "", "socialTitle": "", "socialDek": "", "metaDescription": "", "latestPublishedAt": 1577959561676, "wordCount": 2889, "previewContent": { "type": "id", "generated": true, "id": "$Post:7e1d5a5d977a.previewContent", "typename": "PreviewContent" }, "previewImage": { "type": "id", "generated": false, "id": "ImageMetadata:1*t14h6Hs6uVUifppiEBptFQ.png", "typename": "ImageMetadata" }, "updatedAt": 1577959561956, "topics": [], "seoDescription": "", "isSuspended": false }, "User:1da08193a324": { "id": "1da08193a324", "__typename": "User", "isSuspended": false, "allowNotes": true, "name": "Lup Yuen Lee 李立源", "isFollowing": false, "username": "ly.lee", "bio": "Techie and Educator in IoT 物聯網教師", "imageId": "1*KGohS3sQaUnr58gc0BIfoQ.jpeg", "mediumMemberAt": 1571194811000, "isBlocking": false, "isPartnerProgramEnrolled": false, "twitterScreenName": "MisterTechBlog" }, "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}})": { "isLockedPreviewOnly": false, "validatedShareKey": "", "__typename": "PostContent", "bodyModel": { "type": "id", "generated": true, "id": "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel", "typename": "RichText" } }, "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.0": { "name": "7ca2", "startIndex": 0, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.1": { "name": "546f", "startIndex": 43, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.2": { "name": "4fb0", "startIndex": 55, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.3": { "name": "0b31", "startIndex": 65, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.4": { "name": "fe8a", "startIndex": 76, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.5": { "name": "53cf", "startIndex": 94, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.6": { "name": "3ca0", "startIndex": 109, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.7": { "name": "918d", "startIndex": 119, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.8": { "name": "2a15", "startIndex": 134, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel": { "sections": [{ "type": "id", "generated": true, "id": "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.0", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.1", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.2", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.3", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.4", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.5", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.6", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.7", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:7e1d5a5d977a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9\"}}).bodyModel.sections.8", "typename": "Section" }], "paragraphs": [{ "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_0", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_1", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_2", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_3", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_4", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_5", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_6", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_7", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_8", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_9", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_10", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_11", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_12", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_13", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_14", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_15", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_16", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_17", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_18", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_19", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_20", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_21", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_22", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_23", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_24", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_25", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_26", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_27", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_28", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_29", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_30", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_31", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_32", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_33", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_34", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_35", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_36", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_37", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_38", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_39", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_40", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_41", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_42", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_43", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_44", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_45", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_46", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_47", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_48", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_49", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_50", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_51", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_52", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_53", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_54", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_55", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_56", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_57", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_58", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_59", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_60", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_61", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_62", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_63", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_64", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_65", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_66", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_67", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_68", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_69", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_70", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_71", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_72", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_73", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_74", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_75", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_76", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_77", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_78", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_79", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_80", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_81", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_82", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_83", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_84", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_85", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_86", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_87", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_88", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_89", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_90", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_91", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_92", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_93", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_94", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_95", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_96", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_97", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_98", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_99", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_100", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_101", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_102", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_103", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_104", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_105", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_106", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_107", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_108", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_109", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_110", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_111", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_112", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_113", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_114", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_115", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_116", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_117", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_118", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_119", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_120", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_121", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_122", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_123", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_124", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_125", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_126", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_127", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_128", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_129", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_130", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_131", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_132", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_133", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_134", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_135", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_136", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_137", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_138", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_139", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_140", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_141", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_142", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_143", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_144", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_145", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_146", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_147", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:bf88d938da66_148", "typename": "Paragraph" }], "__typename": "RichText" }, "Paragraph:bf88d938da66_0": { "id": "bf88d938da66_0", "name": "bb3f", "type": "IMG", "href": null, "layout": "FULL_WIDTH", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*t14h6Hs6uVUifppiEBptFQ.png", "typename": "ImageMetadata" }, "text": "PineTime Smart Watch running a [druid] app with a Label Widget and a Button Widget", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*t14h6Hs6uVUifppiEBptFQ.png": { "id": "1*t14h6Hs6uVUifppiEBptFQ.png", "originalHeight": 1500, "originalWidth": 2500, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:bf88d938da66_1": { "id": "bf88d938da66_1", "name": "d2a3", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Porting [druid] Rust Widgets to PineTime Smart Watch", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_2": { "id": "bf88d938da66_2", "name": "410b", "type": "P", "href": null, "layout": null, "metadata": null, "text": "A button that responds to our tapping and increments a counter… That’s what we shall accomplish today on the PineTime Smart Watch…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_2.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_2.markups.0": { "type": "A", "start": 109, "end": 129, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&sk=d9301466f5499bece3e7b638e99ec20d", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_3": { "id": "bf88d938da66_3", "name": "aba0", "type": "IFRAME", "href": null, "layout": "FULL_WIDTH", "metadata": null, "text": "", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_3.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "MediaResource:5274117a355388f4be58c553c749d904": { "id": "5274117a355388f4be58c553c749d904", "iframeSrc": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcdn.embedly.com\u002Fwidgets\u002Fmedia.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F7nXJdW_GkEw%3Ffeature%3Doembed&url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D7nXJdW_GkEw&image=https%3A%2F%2Fi.ytimg.com%2Fvi%2F7nXJdW_GkEw%2Fhqdefault.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=youtube", "iframeHeight": 480, "iframeWidth": 854, "title": "PineTime [druid] touch widgets", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_3.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:5274117a355388f4be58c553c749d904", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_4": { "id": "bf88d938da66_4", "name": "fe15", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The Watch App we see in the video was created with the [druid] Crate in Rust.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_4.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_4.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_4.markups.0": { "type": "A", "start": 4, "end": 13, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_4.markups.1": { "type": "A", "start": 56, "end": 61, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fdruid", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_5": { "id": "bf88d938da66_5", "name": "7843", "type": "P", "href": null, "layout": null, "metadata": null, "text": "In [druid], UI controls are known as Widgets. Our app contains two Widgets: A Label Widget that displays the counter, and a Button Widget that increments the counter.", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_6": { "id": "bf88d938da66_6", "name": "183d", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Lemme explain the code in the [druid] app…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_6.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_6.markups.0": { "type": "A", "start": 30, "end": 41, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_7": { "id": "bf88d938da66_7", "name": "8500", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_7.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_7.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_7.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:9aa05756b64c5649ef2613f57cf73a04": { "id": "9aa05756b64c5649ef2613f57cf73a04", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_7.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:9aa05756b64c5649ef2613f57cf73a04", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_8": { "id": "bf88d938da66_8", "name": "274d", "type": "P", "href": null, "layout": null, "metadata": null, "text": "When the app is launched, we create a new window, passing it the ui_builder function that will return a list of Widgets and their layouts. (More about ui_builder later.)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_8.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_8.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_8.markups.0": { "type": "CODE", "start": 65, "end": 75, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_8.markups.1": { "type": "CODE", "start": 151, "end": 161, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_9": { "id": "bf88d938da66_9", "name": "1cac", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_9.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_9.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_9.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:4b72b25a76c94e2c029880a05d48481d": { "id": "4b72b25a76c94e2c029880a05d48481d", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_9.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:4b72b25a76c94e2c029880a05d48481d", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_10": { "id": "bf88d938da66_10", "name": "bcf5", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here we set the Application State to 0. What’s this Application State?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_10.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_10.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_10.markups.0": { "type": "CODE", "start": 37, "end": 38, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_10.markups.1": { "type": "EM", "start": 40, "end": 70, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_11": { "id": "bf88d938da66_11", "name": "dadc", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Remember the counter value that’s incremented every time we tap the button? This counter value is stored in the [druid] Application State. Widgets will interact with the Application State: Our Button Widget updates the state and our Label Widget displays the state.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_11.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_11.markups.0": { "type": "STRONG", "start": 120, "end": 137, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_12": { "id": "bf88d938da66_12", "name": "8005", "type": "P", "href": null, "layout": null, "metadata": null, "text": "That’s why [druid] is known as a Data-Oriented Rust UI… [druid] Widgets are bound to data values in the Application State.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_12.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_12.markups.0": { "type": "A", "start": 33, "end": 54, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fdruid", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_13": { "id": "bf88d938da66_13", "name": "0fdb", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_13.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_13.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_13.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:da8d9658a287a4277a77c31948980e6c": { "id": "da8d9658a287a4277a77c31948980e6c", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_13.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:da8d9658a287a4277a77c31948980e6c", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_14": { "id": "bf88d938da66_14", "name": "e28f", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Recall that main_window contains a list of Widgets and their layouts. We’ll pass this to the AppLauncher to launch the app window. The app shall be launched with data, the Application State, set to 0. If the launch fails, we’ll stop with an error launch failed.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_14.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_14.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_14.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_14.markups.0": { "type": "CODE", "start": 12, "end": 23, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_14.markups.1": { "type": "CODE", "start": 162, "end": 166, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_14.markups.2": { "type": "CODE", "start": 247, "end": 260, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_15": { "id": "bf88d938da66_15", "name": "b14e", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Now let’s look at ui_builder and how it creates the Widgets…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_15.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_15.markups.0": { "type": "CODE", "start": 18, "end": 28, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_16": { "id": "bf88d938da66_16", "name": "7a4d", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_16.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_16.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_16.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:6a17777f1ef71c8ff7562d627fc3f46c": { "id": "6a17777f1ef71c8ff7562d627fc3f46c", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_16.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:6a17777f1ef71c8ff7562d627fc3f46c", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_17": { "id": "bf88d938da66_17", "name": "c0e1", "type": "P", "href": null, "layout": null, "metadata": null, "text": "First we create a text string that contains the counter value. How shall we get the value of the text string? Through this Rust Closure…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_17.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_17.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_17.markups.0": { "type": "CODE", "start": 18, "end": 22, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_17.markups.1": { "type": "CODE", "start": 97, "end": 101, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_18": { "id": "bf88d938da66_18", "name": "b4ad", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_18.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_18.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_18.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:4c5d82834e5bdeb9f6d87e8947a9f32e": { "id": "4c5d82834e5bdeb9f6d87e8947a9f32e", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_18.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:4c5d82834e5bdeb9f6d87e8947a9f32e", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_19": { "id": "bf88d938da66_19", "name": "1e7e", "type": "P", "href": null, "layout": null, "metadata": null, "text": "What’s a Rust Closure? Think of it as a Rust Function without a name. The Closure above is equivalent to this verbose Rust Function…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_19.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_19.markups.0": { "type": "EM", "start": 0, "end": 22, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_20": { "id": "bf88d938da66_20", "name": "fb8b", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_20.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "MediaResource:a36e10af4807ddb6604fead269b9ff00": { "id": "a36e10af4807ddb6604fead269b9ff00", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_20.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:a36e10af4807ddb6604fead269b9ff00", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_21": { "id": "bf88d938da66_21", "name": "a14a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "So it’s simpler to use the Closure form. The Closure simply returns the value of the counter in data (the Application State) as the value of the text string. The into part converts the returned value from number to string.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_21.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_21.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_21.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_21.markups.0": { "type": "CODE", "start": 96, "end": 100, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_21.markups.1": { "type": "CODE", "start": 145, "end": 149, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_21.markups.2": { "type": "CODE", "start": 162, "end": 166, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_22": { "id": "bf88d938da66_22", "name": "c7ea", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_22.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_22.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_22.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:0bd4a931985cb886614adbc3496e04fd": { "id": "0bd4a931985cb886614adbc3496e04fd", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_22.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:0bd4a931985cb886614adbc3496e04fd", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_23": { "id": "bf88d938da66_23", "name": "e7af", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Now that we have the counter value stored in our text string, let’s display it with a Label Widget.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_23.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_23.markups.0": { "type": "CODE", "start": 49, "end": 53, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_24": { "id": "bf88d938da66_24", "name": "bda7", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_24.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_24.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_24.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:e28f28ab68b90b6baecc958b644354ee": { "id": "e28f28ab68b90b6baecc958b644354ee", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_24.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:e28f28ab68b90b6baecc958b644354ee", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_25": { "id": "bf88d938da66_25", "name": "61ee", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here we create a button labelled increment that calls this Rust Closure whenever the button is tapped…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_26": { "id": "bf88d938da66_26", "name": "cfff", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_26.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_26.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_26.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:78a6e9146f60ee5395bad0d4abeb0cb3": { "id": "78a6e9146f60ee5395bad0d4abeb0cb3", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_26.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:78a6e9146f60ee5395bad0d4abeb0cb3", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_27": { "id": "bf88d938da66_27", "name": "881c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "This Closure is equivalent to the Rust Function…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_28": { "id": "bf88d938da66_28", "name": "9a31", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_28.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "MediaResource:1f888daf3d9bcc0512f50e053eff94ca": { "id": "1f888daf3d9bcc0512f50e053eff94ca", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_28.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:1f888daf3d9bcc0512f50e053eff94ca", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_29": { "id": "bf88d938da66_29", "name": "1a92", "type": "P", "href": null, "layout": null, "metadata": null, "text": "data contains our Application State, which is our counter value. The Closure simply increments our counter value by 1, every time the button is tapped.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_29.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_29.markups.0": { "type": "CODE", "start": 0, "end": 4, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_30": { "id": "bf88d938da66_30", "name": "e00b", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Hey Presto! That’s the magic behind our Data-Oriented UI… The button increments the counter in our Application State, the label displays the value of the counter in our Application State!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_30.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_30.markups.0": { "type": "EM", "start": 0, "end": 11, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_31": { "id": "bf88d938da66_31", "name": "d6f2", "type": "P", "href": null, "layout": null, "metadata": null, "text": "[druid] completes the magic act by wiring up the Widgets to the Application State… When our Application State changes (upon tapping the button), [druid] automagically refreshes our Label Widget to show the new counter value.", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_32": { "id": "bf88d938da66_32", "name": "e398", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Let’s tell [druid] how to layout our Label and Button Widgets for display…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_33": { "id": "bf88d938da66_33", "name": "588a", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_33.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_33.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_33.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:cb34335761d4529fdf3f3a290e64078e": { "id": "cb34335761d4529fdf3f3a290e64078e", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_33.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:cb34335761d4529fdf3f3a290e64078e", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_34": { "id": "bf88d938da66_34", "name": "a402", "type": "P", "href": null, "layout": null, "metadata": null, "text": "We’ll display the Label and Button Widgets in a single column col. The Label Widget goes on top, centered horizontally, with a padding of 5 pixels.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_34.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_34.markups.0": { "type": "CODE", "start": 62, "end": 65, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_35": { "id": "bf88d938da66_35", "name": "82dc", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_35.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_35.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_35.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:54822326fbe74ab413a34891b1c42063": { "id": "54822326fbe74ab413a34891b1c42063", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_35.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:54822326fbe74ab413a34891b1c42063", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_36": { "id": "bf88d938da66_36", "name": "ff7e", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The Button Widget appears next in col. Also with a padding of 5 pixels.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_36.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_36.markups.0": { "type": "CODE", "start": 34, "end": 37, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_37": { "id": "bf88d938da66_37", "name": "73d3", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Note that the second argument to add_child is the same for both the label and the button: 1.0. This means that the label and button shall occupy equal vertical spacing, i.e. the label shall fill the top half of the screen, the button shall fill the bottom half. This is similar to the flexbox concept in CSS.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_37.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_37.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_37.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_37.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_37.markups.0": { "type": "CODE", "start": 33, "end": 42, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_37.markups.1": { "type": "CODE", "start": 90, "end": 93, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_37.markups.2": { "type": "CODE", "start": 285, "end": 292, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_37.markups.3": { "type": "A", "start": 285, "end": 307, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FCSS\u002FCSS_Flexible_Box_Layout\u002FBasic_Concepts_of_Flexbox", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_38": { "id": "bf88d938da66_38", "name": "4b0e", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_38.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_38.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_38.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:bc399467769e8e77a50d3b43356eb1f8": { "id": "bc399467769e8e77a50d3b43356eb1f8", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_38.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:bc399467769e8e77a50d3b43356eb1f8", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_39": { "id": "bf88d938da66_39", "name": "f5f0", "type": "P", "href": null, "layout": null, "metadata": null, "text": "And lastly, we return the col to the caller. To recap: col contains the Label and Button Widgets, the Closures for displaying and incrementing the Application State counter, and the layout of the Widgets.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_39.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_39.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_39.markups.0": { "type": "CODE", "start": 26, "end": 29, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_39.markups.1": { "type": "CODE", "start": 55, "end": 58, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_40": { "id": "bf88d938da66_40", "name": "bc8a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "That’s the clever simplicity of [druid] apps. [druid] apps have a Declarative UI like SwiftUI and Flutter… Without the legacy baggage of iOS and Android. That’s why I think [druid] is perfect for building Watch Apps for PineTime!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_40.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_40.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_40.markups.0": { "type": "A", "start": 86, "end": 93, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdeveloper.apple.com\u002Ftutorials\u002Fswiftui\u002Fcreating-a-watchos-app", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_40.markups.1": { "type": "A", "start": 98, "end": 105, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fflutterbyexample.com\u002Freusable-custom-card-widget", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_41": { "id": "bf88d938da66_41", "name": "d5de", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here’s the complete [druid] Watch App for PineTime…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_42": { "id": "bf88d938da66_42", "name": "42d4", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_42.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_42.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_42.markups.0": { "type": "A", "start": 5, "end": 95, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:470e6f716ac815a4d07bd61502d882cc": { "id": "470e6f716ac815a4d07bd61502d882cc", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_42.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:470e6f716ac815a4d07bd61502d882cc", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_43": { "id": "bf88d938da66_43", "name": "d632", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Powering [druid] with Type Inference", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_44": { "id": "bf88d938da66_44", "name": "6c5c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The above Rust source code for the watch app looks so trivial (compared with SwiftUI and Flutter)… Surely something must be missing in that app?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_44.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_44.markups.0": { "type": "EM", "start": 99, "end": 144, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_45": { "id": "bf88d938da66_45", "name": "6eb3", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Oh yes, plenty is missing from the app… But the Rust Compiler performs Type Inference and fills in all the missing bits for us! Here’s how it looks with the missing bits filled in…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_45.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_45.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_45.markups.0": { "type": "A", "start": 71, "end": 85, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstable\u002Frust-by-example\u002Ftypes\u002Finference.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_45.markups.1": { "type": "EM", "start": 40, "end": 127, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_46": { "id": "bf88d938da66_46", "name": "d31c", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_46.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "MediaResource:b7539b4198f21bea9442042298a9bd40": { "id": "b7539b4198f21bea9442042298a9bd40", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_46.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:b7539b4198f21bea9442042298a9bd40", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_47": { "id": "bf88d938da66_47", "name": "bbdc", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Note that the Widgets have been expanded as Label\u003Cu32\u003E and Button\u003Cu32\u003E. That’s because Label and Button are actually Generic Types in Rust.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_47.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_47.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_47.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_47.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_47.markups.0": { "type": "CODE", "start": 44, "end": 54, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_47.markups.1": { "type": "CODE", "start": 59, "end": 70, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_47.markups.2": { "type": "CODE", "start": 87, "end": 92, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_47.markups.3": { "type": "CODE", "start": 97, "end": 103, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_48": { "id": "bf88d938da66_48", "name": "4334", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Quick recap of Generic Types: Vec is a Generic Type that represents a vector (array) of values. When we write Vec\u003Ci32\u003E, it refers to a vector of integer values (i32).", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_48.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_48.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_48.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_48.markups.0": { "type": "CODE", "start": 30, "end": 33, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_48.markups.1": { "type": "CODE", "start": 110, "end": 118, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_48.markups.2": { "type": "CODE", "start": 161, "end": 164, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_49": { "id": "bf88d938da66_49", "name": "deee", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Thus Label\u003Cu32\u003E and Button\u003Cu32\u003E are Generic Widgets that are backed by u32, our Application State that contains the counter. Reminds us that [druid] is really a Data-Oriented UI!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_49.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_49.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_49.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_49.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_49.markups.0": { "type": "CODE", "start": 5, "end": 15, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_49.markups.1": { "type": "CODE", "start": 20, "end": 31, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_49.markups.2": { "type": "CODE", "start": 71, "end": 74, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_49.markups.3": { "type": "EM", "start": 125, "end": 178, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_50": { "id": "bf88d938da66_50", "name": "b70b", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Some types (like WindowDesc) are Generic Types with two parameters. So this line of code in our app…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_50.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_50.markups.0": { "type": "CODE", "start": 17, "end": 27, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_51": { "id": "bf88d938da66_51", "name": "132f", "type": "PRE", "href": null, "layout": null, "metadata": null, "text": "let main_window = WindowDesc::new(ui_builder);", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_52": { "id": "bf88d938da66_52", "name": "ffe2", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Actually expands to this complicated mess…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_53": { "id": "bf88d938da66_53", "name": "b0db", "type": "PRE", "href": null, "layout": null, "metadata": null, "text": "let main_window = WindowDesc::\u003Cu32,Flex\u003Cu32\u003E\u003E::new(ui_builder);", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_54": { "id": "bf88d938da66_54", "name": "be4c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "What a bloody clever compiler! The Rust Compiler makes it easy for us to write Watch Apps. Under the hood, things are a lot more complicated with the Generic Types. Read on to learn how [druid] Widgets are implemented on PineTime…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_54.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_54.markups.0": { "type": "EM", "start": 0, "end": 30, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_55": { "id": "bf88d938da66_55", "name": "55ec", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Downsizing [druid] from Desktop to Embedded", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_56": { "id": "bf88d938da66_56", "name": "d91d", "type": "P", "href": null, "layout": null, "metadata": null, "text": "[druid] is a GUI toolkit that produces desktop apps for Windows, macOS and Linux. It doesn’t support Embedded Platforms like PineTime. So I had to change some features to make [druid] work on PineTime. (Only the [druid] implementation was changed, not the [druid] APIs… The same [druid] desktop application code can be compiled for PineTime without any code changes! Compare the above [druid] code for PineTime with the original version)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_56.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_56.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_56.markups.0": { "type": "A", "start": 416, "end": 436, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Fxi-editor\u002Fdruid\u002Fblob\u002Fmaster\u002Fdruid\u002Fexamples\u002Fhello.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_56.markups.1": { "type": "EM", "start": 202, "end": 437, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_57": { "id": "bf88d938da66_57", "name": "011a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "On Embedded Rust we declare our programs as #![no_std]. This means that our embedded programs will call the Rust Core Library, instead of the usual Rust Standard Library which has many more features. Any code in [druid] that uses the following features from the Rust Standard Library will NOT compile on PineTime…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_57.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_57.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_57.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_57.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_57.markups.4", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_57.markups.5", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_57.markups.6", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_57.markups.0": { "type": "CODE", "start": 44, "end": 54, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_57.markups.1": { "type": "A", "start": 47, "end": 53, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Frust-embedded.github.io\u002Fbook\u002Fintro\u002Fno-std.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_57.markups.2": { "type": "A", "start": 108, "end": 125, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fcore\u002Findex.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_57.markups.3": { "type": "A", "start": 148, "end": 169, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Findex.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_57.markups.4": { "type": "STRONG", "start": 108, "end": 125, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_57.markups.5": { "type": "STRONG", "start": 148, "end": 169, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_57.markups.6": { "type": "EM", "start": 289, "end": 292, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_58": { "id": "bf88d938da66_58", "name": "5e50", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Vec vectors, because it uses Heap Memory to support resizable vectors. And Heap Memory is not available on embedded platforms (by default).", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_58.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_58.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_58.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_58.markups.0": { "type": "CODE", "start": 0, "end": 3, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_58.markups.1": { "type": "A", "start": 0, "end": 3, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fvec\u002Findex.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_58.markups.2": { "type": "STRONG", "start": 29, "end": 40, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_59": { "id": "bf88d938da66_59", "name": "9320", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "String (though &str is supported), because it also uses Heap Memory.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_59.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_59.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_59.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_59.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_59.markups.0": { "type": "CODE", "start": 0, "end": 6, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_59.markups.1": { "type": "CODE", "start": 15, "end": 19, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_59.markups.2": { "type": "A", "start": 0, "end": 6, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fstring\u002Findex.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_59.markups.3": { "type": "STRONG", "start": 56, "end": 67, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_60": { "id": "bf88d938da66_60", "name": "0f06", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "format!, because internally it uses a String to write formatted strings.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_60.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_60.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_60.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_60.markups.0": { "type": "CODE", "start": 0, "end": 7, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_60.markups.1": { "type": "CODE", "start": 38, "end": 44, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_60.markups.2": { "type": "A", "start": 0, "end": 6, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Ffmt\u002F", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_61": { "id": "bf88d938da66_61", "name": "8d8e", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Box, RefCell, Arc (Atomically Reference Counted) and Cow (Clone On Write), because they use Heap Memory as well.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_61.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_61.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_61.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_61.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_61.markups.4", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_61.markups.5", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_61.markups.6", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_61.markups.7", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_61.markups.8", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_61.markups.0": { "type": "CODE", "start": 0, "end": 3, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_61.markups.1": { "type": "CODE", "start": 5, "end": 12, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_61.markups.2": { "type": "CODE", "start": 14, "end": 17, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_61.markups.3": { "type": "CODE", "start": 53, "end": 56, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_61.markups.4": { "type": "A", "start": 0, "end": 3, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fboxed\u002Findex.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_61.markups.5": { "type": "A", "start": 5, "end": 12, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fcell\u002Fstruct.RefCell.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_61.markups.6": { "type": "A", "start": 14, "end": 17, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fsync\u002Fstruct.Arc.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_61.markups.7": { "type": "A", "start": 53, "end": 56, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fborrow\u002Fenum.Cow.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_61.markups.8": { "type": "STRONG", "start": 92, "end": 103, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_62": { "id": "bf88d938da66_62", "name": "5d5b", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Why isn’t Heap Memory available on Embedded Rust? Embedded platforms like PineTime often have little RAM. (Only 64 KB RAM for PineTime’s Nordic nRF52832 microcontroller) When RAM is limited, we prefer to budget our memory requirements in advance… Just to be sure that our Smart Watch doesn’t allocate too many Widgets at runtime and crash.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_62.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_62.markups.0": { "type": "EM", "start": 0, "end": 49, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_63": { "id": "bf88d938da66_63", "name": "a867", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Hence all space for Widgets should be preallocated in Static Memory before the Watch App starts. (There is a way to implement Heap Memory on embedded platforms, check this for details)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_63.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_63.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_63.markups.0": { "type": "A", "start": 161, "end": 183, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fcore\u002Falloc\u002Ftrait.GlobalAlloc.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_63.markups.1": { "type": "EM", "start": 97, "end": 184, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_64": { "id": "bf88d938da66_64", "name": "579c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "So many features are missing from Embedded Rust… Is it still possible to run [druid] apps on PineTime? Yes, I used some tricks to make a quick (and somewhat dirty) port of [druid] to PineTime… Which you can also use for porting Rust desktop libraries to embedded platforms! Read on to learn more…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_64.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_64.markups.0": { "type": "EM", "start": 0, "end": 102, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_65": { "id": "bf88d938da66_65", "name": "24ff", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Porting Vectors, Strings and format! to Embedded", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_66": { "id": "bf88d938da66_66", "name": "810e", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The Vec and String types are used in many Rust libraries. On embedded platforms we can’t allow vectors and strings to be resized on demand… But we can create vectors and strings that have a maximum size.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_66.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_66.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_66.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_66.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_66.markups.0": { "type": "CODE", "start": 4, "end": 7, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_66.markups.1": { "type": "CODE", "start": 12, "end": 18, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_66.markups.2": { "type": "A", "start": 4, "end": 7, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fvec\u002Findex.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_66.markups.3": { "type": "A", "start": 12, "end": 18, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fstring\u002Findex.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_67": { "id": "bf88d938da66_67", "name": "c009", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here’s the quickest (and dirtiest) way to use the [heapless] crate to replace standard types Vec and String by vectors and strings with fixed size limits…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_67.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_67.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_67.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_67.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_67.markups.4", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_67.markups.0": { "type": "CODE", "start": 93, "end": 96, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_67.markups.1": { "type": "CODE", "start": 101, "end": 107, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_67.markups.2": { "type": "A", "start": 51, "end": 59, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fheapless", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_67.markups.3": { "type": "A", "start": 111, "end": 118, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdocs.rs\u002Fheapless\u002F0.5.1\u002Fheapless\u002Fstruct.Vec.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_67.markups.4": { "type": "A", "start": 123, "end": 130, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdocs.rs\u002Fheapless\u002F0.5.1\u002Fheapless\u002Fstruct.String.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_68": { "id": "bf88d938da66_68", "name": "862f", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Flocalization.rs#L87-L91", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_68.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_68.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_68.markups.0": { "type": "A", "start": 10, "end": 97, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Flocalization.rs#L87-L91", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:fa93870c806423f0009a3b7c6f599fdc": { "id": "fa93870c806423f0009a3b7c6f599fdc", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_68.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:fa93870c806423f0009a3b7c6f599fdc", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_69": { "id": "bf88d938da66_69", "name": "7ce2", "type": "P", "href": null, "layout": null, "metadata": null, "text": "(Yep told you this would be dirty… Should never override standard Rust types!)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_69.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_69.markups.0": { "type": "EM", "start": 0, "end": 78, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_70": { "id": "bf88d938da66_70", "name": "6289", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Most of the surrounding code that calls Vec and String should compile with this simple modification. (We may need to replace &str by String) Watch out for the extra copies of vectors and strings that our program will now be copying… Keep them small!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_70.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_70.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_70.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_70.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_70.markups.0": { "type": "CODE", "start": 40, "end": 43, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_70.markups.1": { "type": "CODE", "start": 48, "end": 54, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_70.markups.2": { "type": "CODE", "start": 125, "end": 129, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_70.markups.3": { "type": "CODE", "start": 133, "end": 139, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_71": { "id": "bf88d938da66_71", "name": "5036", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Once the code works on our embedded gadget, Do The Right Thing and rename Vec and String to something sensible, like FixedVec and FixedString.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_71.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_71.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_71.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_71.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_71.markups.4", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_71.markups.0": { "type": "CODE", "start": 74, "end": 77, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_71.markups.1": { "type": "CODE", "start": 82, "end": 88, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_71.markups.2": { "type": "CODE", "start": 117, "end": 125, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_71.markups.3": { "type": "CODE", "start": 130, "end": 141, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_71.markups.4": { "type": "EM", "start": 44, "end": 62, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_72": { "id": "bf88d938da66_72", "name": "22c0", "type": "P", "href": null, "layout": null, "metadata": null, "text": "There’s a similar trick for porting format! to embedded platforms. Let’s say we are converting a number v to a text string…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_72.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_72.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_72.markups.0": { "type": "CODE", "start": 36, "end": 43, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_72.markups.1": { "type": "A", "start": 36, "end": 42, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fmacro.format.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_73": { "id": "bf88d938da66_73", "name": "ffb5", "type": "PRE", "href": null, "layout": null, "metadata": null, "text": "format!(\"{}\", v)", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_74": { "id": "bf88d938da66_74", "name": "55ff", "type": "P", "href": null, "layout": null, "metadata": null, "text": "This fails to compile because format! uses an internal String to store the formatted result. The [heapless] solution uses the write! macro like this…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_74.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_74.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_74.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_74.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_74.markups.4", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_74.markups.0": { "type": "CODE", "start": 30, "end": 37, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_74.markups.1": { "type": "CODE", "start": 55, "end": 61, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_74.markups.2": { "type": "CODE", "start": 126, "end": 132, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_74.markups.3": { "type": "A", "start": 65, "end": 91, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fsrc\u002Falloc\u002Ffmt.rs.html#561", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_74.markups.4": { "type": "A", "start": 126, "end": 131, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdoc.rust-lang.org\u002Fcore\u002Fmacro.write.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_75": { "id": "bf88d938da66_75", "name": "ec00", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fargvalue.rs#L63-L66", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_75.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_75.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_75.markups.0": { "type": "A", "start": 5, "end": 88, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fargvalue.rs#L63-L66", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:10c5c7a727d90c63f03b8a66a6a9a7c0": { "id": "10c5c7a727d90c63f03b8a66a6a9a7c0", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_75.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:10c5c7a727d90c63f03b8a66a6a9a7c0", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_76": { "id": "bf88d938da66_76", "name": "43cb", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Boxing up Widgets and Windows", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_77": { "id": "bf88d938da66_77", "name": "a7fe", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Without Heap Memory, [druid] can’t use Box to allocate Widgets on the heap…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_77.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_77.markups.0": { "type": "CODE", "start": 39, "end": 42, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_78": { "id": "bf88d938da66_78", "name": "1e08", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "Original [druid] code that allocates Widgets on the heap. From https:\u002F\u002Fgithub.com\u002Fxi-editor\u002Fdruid\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwidget\u002Fflex.rs#L103-L151", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_78.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_78.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_78.markups.0": { "type": "A", "start": 63, "end": 144, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Fxi-editor\u002Fdruid\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwidget\u002Fflex.rs#L103-L151", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:841a3e51a8b1629b6975af04abd77b4d": { "id": "841a3e51a8b1629b6975af04abd77b4d", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_78.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:841a3e51a8b1629b6975af04abd77b4d", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_79": { "id": "bf88d938da66_79", "name": "660d", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Why does [druid] use Box Widgets? Because [druid] has Container Widgets (Flex \u002F Row \u002F Column) that contain references to Child Widgets, like we see above.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_79.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_79.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_79.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_79.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_79.markups.4", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_79.markups.0": { "type": "CODE", "start": 21, "end": 24, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_79.markups.1": { "type": "CODE", "start": 73, "end": 77, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_79.markups.2": { "type": "CODE", "start": 80, "end": 83, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_79.markups.3": { "type": "CODE", "start": 86, "end": 92, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_79.markups.4": { "type": "EM", "start": 0, "end": 33, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_80": { "id": "bf88d938da66_80", "name": "ec69", "type": "P", "href": null, "layout": null, "metadata": null, "text": "In our embedded version, [druid] uses a custom WidgetBox type that pretends to be a Widget in a Box…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_80.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_80.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_80.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_80.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_80.markups.0": { "type": "CODE", "start": 47, "end": 56, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_80.markups.1": { "type": "CODE", "start": 84, "end": 90, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_80.markups.2": { "type": "CODE", "start": 96, "end": 99, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_80.markups.3": { "type": "A", "start": 47, "end": 56, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwidget\u002Fwidgetbox.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_81": { "id": "bf88d938da66_81", "name": "7fc4", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "Modified [druid] code that uses static WidgetBox. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwidget\u002Fflex.rs#L126-L151", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_81.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_81.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_81.markups.0": { "type": "A", "start": 55, "end": 143, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwidget\u002Fflex.rs#L126-L151", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:8a28a31364b06fca28d0d56509cb65a7": { "id": "8a28a31364b06fca28d0d56509cb65a7", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_81.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:8a28a31364b06fca28d0d56509cb65a7", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_82": { "id": "bf88d938da66_82", "name": "b906", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here’s a crude implementation of WidgetBox… Instead of the heap, WidgetBox stores Widgets in an array in Static Memory. WidgetBox then returns the array index (Widget ID) at which the Widget is stored….", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_82.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_82.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_82.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_82.markups.0": { "type": "CODE", "start": 33, "end": 42, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_82.markups.1": { "type": "CODE", "start": 65, "end": 74, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_82.markups.2": { "type": "CODE", "start": 120, "end": 129, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_83": { "id": "bf88d938da66_83", "name": "f4b5", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwidget\u002Fwidgetbox.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_83.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_83.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_83.markups.0": { "type": "A", "start": 5, "end": 88, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwidget\u002Fwidgetbox.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:8de2d354678ad680c9bb137287ff9d65": { "id": "8de2d354678ad680c9bb137287ff9d65", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_83.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:8de2d354678ad680c9bb137287ff9d65", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_84": { "id": "bf88d938da66_84", "name": "bda2", "type": "P", "href": null, "layout": null, "metadata": null, "text": "WidgetBox implements the Traits (features) of a Widget by forwarding the function calls to the Widget stored in Static Memory…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_84.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_84.markups.0": { "type": "CODE", "start": 0, "end": 9, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_85": { "id": "bf88d938da66_85", "name": "3204", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwidget\u002Fwidgetbox.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_85.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_85.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_85.markups.0": { "type": "A", "start": 5, "end": 88, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwidget\u002Fwidgetbox.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:cf1b2cbf627fc948b7bd2f7a4263cea2": { "id": "cf1b2cbf627fc948b7bd2f7a4263cea2", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_85.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:cf1b2cbf627fc948b7bd2f7a4263cea2", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_86": { "id": "bf88d938da66_86", "name": "dc64", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Storing Widgets statically can be tricky… Our Widgets are Generic Types that depend on the data type of the Application State. Earlier we have seen that the Rust Compiler expands our Watch App with labels and buttons as Label\u003Cu32\u003E and Button\u003Cu32\u003E", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_86.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_86.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_86.markups.0": { "type": "CODE", "start": 220, "end": 230, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_86.markups.1": { "type": "CODE", "start": 235, "end": 246, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_87": { "id": "bf88d938da66_87", "name": "645a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The solution is to use a Specialised Trait like this…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_87.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_87.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_87.markups.0": { "type": "A", "start": 25, "end": 42, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fusers.rust-lang.org\u002Ft\u002Fhow-to-use-specialization-features\u002F6023", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_87.markups.1": { "type": "STRONG", "start": 25, "end": 42, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_88": { "id": "bf88d938da66_88", "name": "85bd", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwidget\u002Fwidgetbox.rs", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_88.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_88.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_88.markups.0": { "type": "A", "start": 5, "end": 88, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwidget\u002Fwidgetbox.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:01ade5d31e700f983bcb7c6cead4e91d": { "id": "01ade5d31e700f983bcb7c6cead4e91d", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_88.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:01ade5d31e700f983bcb7c6cead4e91d", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_89": { "id": "bf88d938da66_89", "name": "2c55", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Note the pattern for coding a Specialised Trait…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_90": { "id": "bf88d938da66_90", "name": "7bdc", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Declare the Trait across all types: \ntrait GlobalWidgets\u003CD\u003E { fn f(arg: D); ...", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_90.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_90.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_90.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_90.markups.0": { "type": "CODE", "start": 37, "end": 79, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_90.markups.1": { "type": "STRONG", "start": 57, "end": 58, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_90.markups.2": { "type": "STRONG", "start": 72, "end": 73, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_91": { "id": "bf88d938da66_91", "name": "ba7f", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Implement the Default Trait: \nimpl\u003CD\u003E GlobalWidgets\u003CD\u003E { default fn f(arg: D) { ...", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_91.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_91.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_91.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_91.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_91.markups.4", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_91.markups.0": { "type": "CODE", "start": 30, "end": 83, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_91.markups.1": { "type": "STRONG", "start": 35, "end": 36, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_91.markups.2": { "type": "STRONG", "start": 52, "end": 53, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_91.markups.3": { "type": "STRONG", "start": 57, "end": 64, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_91.markups.4": { "type": "STRONG", "start": 75, "end": 76, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_92": { "id": "bf88d938da66_92", "name": "68c7", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Implement the Specialised Trait for each specific type like u32: \nimpl GlobalWidgets\u003Cu32\u003E { fn f(arg: u32) { ...", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_92.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_92.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_92.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_92.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_92.markups.0": { "type": "CODE", "start": 60, "end": 63, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_92.markups.1": { "type": "CODE", "start": 66, "end": 112, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_92.markups.2": { "type": "STRONG", "start": 85, "end": 88, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_92.markups.3": { "type": "STRONG", "start": 102, "end": 105, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_93": { "id": "bf88d938da66_93", "name": "7b92", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The same trick is used to port [druid] Windows to PineTime. Whenever we need to Box up a [druid] Window, we use a WindowBox instead. Windows and Window Handlers are now stored in a static array just like Widgets.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_93.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_93.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_93.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_93.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_93.markups.4", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_93.markups.0": { "type": "CODE", "start": 80, "end": 83, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_93.markups.1": { "type": "CODE", "start": 97, "end": 103, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_93.markups.2": { "type": "CODE", "start": 114, "end": 123, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_93.markups.3": { "type": "A", "start": 114, "end": 123, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwindowbox.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_93.markups.4": { "type": "A", "start": 169, "end": 193, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwin_handler.rs#L52-L264", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_94": { "id": "bf88d938da66_94", "name": "f439", "type": "IMG", "href": null, "layout": "INSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*BsOfk6AXUMmwD3JtMHXczQ.png", "typename": "ImageMetadata" }, "text": "[druid] Dependencies", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*BsOfk6AXUMmwD3JtMHXczQ.png": { "id": "1*BsOfk6AXUMmwD3JtMHXczQ.png", "originalHeight": 3175, "originalWidth": 4042, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:bf88d938da66_95": { "id": "bf88d938da66_95", "name": "8d2e", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Connect [druid] to PineTime’s Display and Touch Controllers", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_96": { "id": "bf88d938da66_96", "name": "3c20", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Now that [druid] compiles successfully on PineTime, let’s connect our fork of [druid] to the PineTime display and touch hardware…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_97": { "id": "bf88d938da66_97", "name": "e306", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "lupyuen\u002Fdruid-embedded\nDruid is an experimental Rust-native UI toolkit. Its main goal is to demonstrate the potential of Rust as an…github.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_97.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_97.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_97.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_97.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:bf88d938da66_97.markups.0": { "type": "A", "start": 0, "end": 142, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_97.markups.1": { "type": "STRONG", "start": 0, "end": 22, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_97.markups.2": { "type": "EM", "start": 23, "end": 132, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:bf88d938da66_97.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded", "thumbnailImageId": "0*cM5Ihq9NP5iU9TuO", "mediaResourceId": "0*cM5Ihq9NP5iU9TuO", "__typename": "MixtapeMetadata" }, "Paragraph:bf88d938da66_98": { "id": "bf88d938da66_98", "name": "818d", "type": "P", "href": null, "layout": null, "metadata": null, "text": "[druid] calls the [piet] crate to render graphics and text. In our first PineTime article, we have created a Rust display driver based on the [embedded-graphics] and [st7735-lcd] crates.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_98.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_98.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_98.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_98.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_98.markups.0": { "type": "A", "start": 19, "end": 23, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fpiet", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_98.markups.1": { "type": "A", "start": 60, "end": 89, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&sk=d9301466f5499bece3e7b638e99ec20d", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_98.markups.2": { "type": "A", "start": 143, "end": 160, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fembedded-graphics", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_98.markups.3": { "type": "A", "start": 167, "end": 177, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fst7735-lcd", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_99": { "id": "bf88d938da66_99", "name": "357a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Hence the solution: Adapt [piet] to render graphics and text with [embedded-graphics]. Here’s the resulting fork…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_100": { "id": "bf88d938da66_100", "name": "ab91", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "lupyuen\u002Fpiet-embedded\nYou can't perform that action at this time. You signed in with another tab or window. You signed out in another tab or…github.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_100.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_100.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_100.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_100.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:bf88d938da66_100.markups.0": { "type": "A", "start": 0, "end": 151, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Ftree\u002Fmaster\u002Fpiet-embedded-graphics", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_100.markups.1": { "type": "STRONG", "start": 0, "end": 21, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_100.markups.2": { "type": "EM", "start": 22, "end": 141, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:bf88d938da66_100.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Ftree\u002Fmaster\u002Fpiet-embedded-graphics", "thumbnailImageId": "0*CNbkP-aNXqDcKvvp", "mediaResourceId": "0*CNbkP-aNXqDcKvvp", "__typename": "MixtapeMetadata" }, "Paragraph:bf88d938da66_101": { "id": "bf88d938da66_101", "name": "b850", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here’s a peek of [piet] adapted for [embedded-graphics]: Rendering a Bezier path with [embedded-graphics] primitives (so that we can have rounded buttons)…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_102": { "id": "bf88d938da66_102", "name": "7e16", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "Rendering Widgets with [embedded-graphics]. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fcontext.rs#L67-L199", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_102.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_102.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_102.markups.0": { "type": "A", "start": 49, "end": 148, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fcontext.rs#L67-L199", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:251d45f03a2adb7412b7f5159d0e57d4": { "id": "251d45f03a2adb7412b7f5159d0e57d4", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_102.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:251d45f03a2adb7412b7f5159d0e57d4", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_103": { "id": "bf88d938da66_103", "name": "c523", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The display driver from our first PineTime article display.rs has been relocated into the [piet] library.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_103.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_103.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_103.markups.0": { "type": "CODE", "start": 51, "end": 61, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_103.markups.1": { "type": "A", "start": 71, "end": 104, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fdisplay.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_104": { "id": "bf88d938da66_104", "name": "1b65", "type": "BQ", "href": null, "layout": null, "metadata": null, "text": "💎Advanced Topic: The [embedded-graphics] version of [piet] make take a few seconds to blank the screen or fill a region with colour (e.g. for buttons). I may enhance the display driver [st7735-lcd] to use SPI with DMA for such operations.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_104.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_104.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_104.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_104.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_104.markups.0": { "type": "A", "start": 87, "end": 103, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fcontext.rs#L87-L96", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_104.markups.1": { "type": "A", "start": 107, "end": 132, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpiet-embedded\u002Fblob\u002Fmaster\u002Fpiet-embedded-graphics\u002Fsrc\u002Fcontext.rs#L124-L147", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_104.markups.2": { "type": "STRONG", "start": 2, "end": 16, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_104.markups.3": { "type": "EM", "start": 0, "end": 2, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_105": { "id": "bf88d938da66_105", "name": "6826", "type": "P", "href": null, "layout": null, "metadata": null, "text": "What about touch? In our second PineTime article, we have created a Rust Touch Controller Driver. This Touch Controller Driver has been wired up to send touch events to [druid]. [druid] doesn’t support touch events yet, so we simulate the mouse down + mouse up events instead…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_105.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_105.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_105.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_105.markups.0": { "type": "A", "start": 18, "end": 48, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9?source=friends_link&sk=d8cf73fc943d9c0e960627d768f309cb", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_105.markups.1": { "type": "A", "start": 98, "end": 144, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs#L81-L101", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_105.markups.2": { "type": "EM", "start": 0, "end": 17, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_106": { "id": "bf88d938da66_106", "name": "ebc1", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "Handling Touchable Widgets. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwin_handler.rs#L62-L90", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_106.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_106.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_106.markups.0": { "type": "A", "start": 33, "end": 119, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fwin_handler.rs#L62-L90", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:872992c85a05b527d88a71947fe42cde": { "id": "872992c85a05b527d88a71947fe42cde", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fporting-druid-rust-widgets-to-pinetime-smart-watch-7e1d5a5d977a", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_106.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:872992c85a05b527d88a71947fe42cde", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_107": { "id": "bf88d938da66_107", "name": "f7d9", "type": "BQ", "href": null, "layout": null, "metadata": null, "text": "💎Advanced Topic: If you check the video demo, most taps of the button respond within 1 second, but some taps on the button don’t seem to increment the counter, and some taps appear to increment the counter twice. That’s because the Touch Controller Driver has not been implemented completely.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_107.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_107.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_107.markups.0": { "type": "STRONG", "start": 2, "end": 16, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_107.markups.1": { "type": "EM", "start": 0, "end": 2, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_108": { "id": "bf88d938da66_108", "name": "0202", "type": "BQ", "href": null, "layout": null, "metadata": null, "text": "The touchscreen controller supports multitouch, so the controller tracks each finger and reports whether each finger is a press (down) or release (up) action. The current Touch Controller Driver interprets only the first finger detected, and always assume it’s a press (down) action not a release (up) action.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_108.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_108.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_108.markups.0": { "type": "A", "start": 0, "end": 46, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9?source=friends_link&sk=d8cf73fc943d9c0e960627d768f309cb", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_108.markups.1": { "type": "A", "start": 195, "end": 236, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Frust\u002Fapp\u002Fsrc\u002Ftouch_sensor.rs#L81-L101", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_109": { "id": "bf88d938da66_109", "name": "11b4", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Other Features Downsized in [druid] and [kurbo]", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_110": { "id": "bf88d938da66_110", "name": "088b", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The above fork of [druid] has some features commented out…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_111": { "id": "bf88d938da66_111", "name": "76d5", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Localization: Our [druid] app uses a Localized String hello-counter… This actually refers to a Resource File that specifies the displayed text as Current value is \u003Ccount\u003E. This is probably overkill for a proof-of-concept, so it has been stubbed out and replaced by a simpler version that displays only the first argument.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_111.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_111.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_111.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_111.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_111.markups.4", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_111.markups.5", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_111.markups.0": { "type": "CODE", "start": 54, "end": 67, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_111.markups.1": { "type": "CODE", "start": 146, "end": 170, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_111.markups.2": { "type": "A", "start": 37, "end": 53, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Flocalization.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_111.markups.3": { "type": "A", "start": 95, "end": 108, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Fxi-editor\u002Fdruid\u002Fblob\u002Fmaster\u002Fdruid\u002Fresources\u002Fi18n\u002Fen-US\u002Fbuiltin.ftl", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_111.markups.4": { "type": "A", "start": 265, "end": 282, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fargvalue.rs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_111.markups.5": { "type": "STRONG", "start": 0, "end": 12, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_112": { "id": "bf88d938da66_112", "name": "e48f", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Themes and Environments: [druid] supports UI themes and configurable environment settings. For embedded platforms they should probably be implemented as compile-time constants. So Themes and Environments have been stubbed out for now.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_112.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_112.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_112.markups.0": { "type": "A", "start": 214, "end": 233, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fenv.rs#L40-L83", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_112.markups.1": { "type": "STRONG", "start": 0, "end": 23, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_113": { "id": "bf88d938da66_113", "name": "52ec", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Menus and Keyboards: Since they are not necessary for Watch Apps", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_113.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_113.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_113.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_113.markups.0": { "type": "A", "start": 0, "end": 5, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fevent.rs#L127-L137", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_113.markups.1": { "type": "A", "start": 10, "end": 19, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fdruid-embedded\u002Fblob\u002Fmaster\u002Fdruid\u002Fsrc\u002Fevent.rs#L82-L94", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_113.markups.2": { "type": "STRONG", "start": 0, "end": 19, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_114": { "id": "bf88d938da66_114", "name": "fdaa", "type": "P", "href": null, "layout": null, "metadata": null, "text": "[druid] and [piet] use the [kurbo] crate for computing Bezier curves, which are necessary for drawing rounded buttons. [kurbo] has been downsized to work with PineTime and #![no_std]…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_114.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_114.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_114.markups.0": { "type": "CODE", "start": 172, "end": 182, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_114.markups.1": { "type": "A", "start": 28, "end": 33, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fkurbo", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_115": { "id": "bf88d938da66_115", "name": "0d47", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Bezier paths are limited to 16 points", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_115.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_115.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_115.markups.0": { "type": "A", "start": 28, "end": 37, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fkurbo-embedded\u002Fblob\u002Fmaster\u002Fsrc\u002Fbezpath.rs#L15-L20", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_115.markups.1": { "type": "STRONG", "start": 0, "end": 12, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_116": { "id": "bf88d938da66_116", "name": "6be4", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Double-precision floating-point (f64) math functions seem to be missing from the Rust Core Library, so we are using the [libm] crate instead. We could switch to single-precision floating-point (f32) and use [micromath] instead, because it’s optimised for embedded platforms.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_116.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_116.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_116.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_116.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_116.markups.0": { "type": "CODE", "start": 33, "end": 36, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_116.markups.1": { "type": "A", "start": 121, "end": 125, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Flibm", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_116.markups.2": { "type": "A", "start": 208, "end": 217, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fmicromath", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_116.markups.3": { "type": "STRONG", "start": 0, "end": 52, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_117": { "id": "bf88d938da66_117", "name": "62bc", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here is my fork of [kurbo] for PineTime…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_118": { "id": "bf88d938da66_118", "name": "b20f", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "lupyuen\u002Fkurbo-embedded\nThe kurbo library contains data structures and algorithms for curves and vector paths. It is probably most appropriate…github.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_118.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_118.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_118.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_118.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:bf88d938da66_118.markups.0": { "type": "A", "start": 0, "end": 152, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fkurbo-embedded", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_118.markups.1": { "type": "STRONG", "start": 0, "end": 22, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_118.markups.2": { "type": "EM", "start": 23, "end": 142, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:bf88d938da66_118.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fkurbo-embedded", "thumbnailImageId": "0*YIdfD52BxnpRizJu", "mediaResourceId": "0*YIdfD52BxnpRizJu", "__typename": "MixtapeMetadata" }, "Paragraph:bf88d938da66_119": { "id": "bf88d938da66_119", "name": "5b74", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "PineTime ROM Usage for [druid] and Friends", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_120": { "id": "bf88d938da66_120", "name": "6f6a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "[druid] + [piet] + [kurbo] + [embedded-graphics] + [st7735-lcd] + Rust Core Library + Mynewt OS… Will this long and exciting Conga Line even run on PineTime’s Nordic nRF52832 microcontroller with 512 KB ROM and 64 KB RAM?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_120.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_120.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_120.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_120.markups.0": { "type": "STRONG", "start": 196, "end": 206, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_120.markups.1": { "type": "STRONG", "start": 211, "end": 220, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_120.markups.2": { "type": "EM", "start": 97, "end": 221, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_121": { "id": "bf88d938da66_121", "name": "1a7c", "type": "IMG", "href": null, "layout": "OUTSET_LEFT", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*8ZOaPQ1bEU-_eG0A5PQ6cg.png", "typename": "ImageMetadata" }, "text": "", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*8ZOaPQ1bEU-_eG0A5PQ6cg.png": { "id": "1*8ZOaPQ1bEU-_eG0A5PQ6cg.png", "originalHeight": 1426, "originalWidth": 1144, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:bf88d938da66_122": { "id": "bf88d938da66_122", "name": "890e", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Yes it does! Total ROM used is only 237 KB, less than half of the available ROM space!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_122.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_122.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_122.markups.0": { "type": "STRONG", "start": 36, "end": 42, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_122.markups.1": { "type": "EM", "start": 0, "end": 12, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_123": { "id": "bf88d938da66_123", "name": "4c74", "type": "P", "href": null, "layout": null, "metadata": null, "text": "And this was built in Debug Mode, not optimised Release Mode! (Which is hard to debug and learn)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_123.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_123.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_123.markups.0": { "type": "STRONG", "start": 22, "end": 32, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_123.markups.1": { "type": "EM", "start": 62, "end": 96, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_124": { "id": "bf88d938da66_124", "name": "647d", "type": "P", "href": null, "layout": null, "metadata": null, "text": "What about ROM space for firmware upgrades? Well we have an additional 4 MB SPI Flash available on PineTime!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_124.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_124.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_124.markups.0": { "type": "STRONG", "start": 71, "end": 85, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_124.markups.1": { "type": "EM", "start": 0, "end": 43, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_125": { "id": "bf88d938da66_125", "name": "7e01", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Total RAM used is 46 KB, which includes 32 KB of stack space (Probably too much)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_125.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_125.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_125.markups.0": { "type": "STRONG", "start": 18, "end": 23, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_125.markups.1": { "type": "EM", "start": 61, "end": 80, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_126": { "id": "bf88d938da66_126", "name": "11e1", "type": "P", "href": null, "layout": null, "metadata": null, "text": "So a functional Rust Widget UI for Watch Apps looks mighty feasible on PineTime!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_126.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_126.markups.0": { "type": "EM", "start": 0, "end": 80, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_127": { "id": "bf88d938da66_127", "name": "9b62", "type": "P", "href": null, "layout": null, "metadata": null, "text": "I think it also helps when I replaced the Box references in [druid] by WidgetBox and WindowBox… The Rust Compiler does an incredible job of removing dead code when everything is statically defined.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_127.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_127.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_127.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_127.markups.0": { "type": "CODE", "start": 42, "end": 45, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_127.markups.1": { "type": "CODE", "start": 71, "end": 80, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_127.markups.2": { "type": "CODE", "start": 85, "end": 94, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_128": { "id": "bf88d938da66_128", "name": "6dae", "type": "P", "href": null, "layout": null, "metadata": null, "text": "We can analyse the ROM bloat by loading this Linker Output Map into a Memory Map Google Sheet that’s explained in this article…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_128.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_128.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_128.markups.0": { "type": "A", "start": 45, "end": 62, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fpinetime\u002Flogs\u002Fmy_sensor_app.elf.map#L32538", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_128.markups.1": { "type": "A", "start": 101, "end": 126, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fstm32-blue-pill-analyse-and-optimise-your-ram-and-rom-9fc805e16ed7?source=friends_link&sk=54719084d640bb1d92ac1097d623bba2", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_129": { "id": "bf88d938da66_129", "name": "d402", "type": "IMG", "href": null, "layout": "FULL_WIDTH", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*Uplyp-oFgABeEDr3wUGryg.png", "typename": "ImageMetadata" }, "text": "Functions that occupy the most ROM space, sorted by ROM size (in bytes). From https:\u002F\u002Fdocs.google.com\u002Fspreadsheets\u002Fd\u002F1Lb217jqZGM7NlnOVCxpaLAI0CQcOTPnbMpksDSPVyiw\u002Fedit#gid=381366828&fvid=1643056349", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_129.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*Uplyp-oFgABeEDr3wUGryg.png": { "id": "1*Uplyp-oFgABeEDr3wUGryg.png", "originalHeight": 1962, "originalWidth": 3632, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:bf88d938da66_129.markups.0": { "type": "A", "start": 78, "end": 196, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdocs.google.com\u002Fspreadsheets\u002Fd\u002F1Lb217jqZGM7NlnOVCxpaLAI0CQcOTPnbMpksDSPVyiw\u002Fedit#gid=381366828&fvid=1643056349", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_130": { "id": "bf88d938da66_130", "name": "d9b5", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The Google Sheet is here. It shows the functions that occupy the most ROM space, sorted by ROM size (in bytes). Some observations…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_130.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_130.markups.0": { "type": "A", "start": 0, "end": 24, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fdocs.google.com\u002Fspreadsheets\u002Fd\u002F1Lb217jqZGM7NlnOVCxpaLAI0CQcOTPnbMpksDSPVyiw\u002Fedit#gid=381366828", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_131": { "id": "bf88d938da66_131", "name": "1731", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "[libm], the floating-point math library, seems to be taking the most ROM space. We could replace this by [micromath], a smaller math library for embedded platforms", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_131.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_131.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_131.markups.0": { "type": "A", "start": 1, "end": 5, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Flibm", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_131.markups.1": { "type": "A", "start": 106, "end": 115, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcrates.io\u002Fcrates\u002Fmicromath", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_132": { "id": "bf88d938da66_132", "name": "49b1", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "core::num::flt2dec::strategy needs closer study. And why dragon and his friend grisu are hiding in my watch!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_132.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_132.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_132.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_132.markups.0": { "type": "CODE", "start": 0, "end": 28, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_132.markups.1": { "type": "CODE", "start": 57, "end": 63, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_132.markups.2": { "type": "CODE", "start": 79, "end": 84, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_133": { "id": "bf88d938da66_133", "name": "7d8a", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "[druid] seems to take a fair amount of ROM space. Which is expected since [druid] was designed for desktop use. The ROM usage will probably drop drastically once we enable size optimisation in the Rust Release Build.", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_134": { "id": "bf88d938da66_134", "name": "f64c", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "What’s Next?", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_135": { "id": "bf88d938da66_135", "name": "974e", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Here are the other articles in the PineTime series…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_136": { "id": "bf88d938da66_136", "name": "efd8", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "Sneak Peek of PineTime Smart Watch… And why it’s perfect for teaching IoT\nI’m one of the lucky few who received the developer preview version of the PineTime Smart Watch by Pine64. (My official…medium.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_136.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_136.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_136.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_136.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:bf88d938da66_136.markups.0": { "type": "A", "start": 0, "end": 204, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_136.markups.1": { "type": "STRONG", "start": 0, "end": 73, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_136.markups.2": { "type": "EM", "start": 74, "end": 194, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:bf88d938da66_136.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159", "thumbnailImageId": "1*1oFvRxqOf1kUmCAxPaJXpw.jpeg", "mediaResourceId": "1*1oFvRxqOf1kUmCAxPaJXpw.jpeg", "__typename": "MixtapeMetadata" }, "Paragraph:bf88d938da66_137": { "id": "bf88d938da66_137", "name": "01a0", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "Building a Rust Driver for PineTime’s Touch Controller\nPretend you’re my IoT student. I give you a PineTime Smart Watch and challenge you to “Make it work… Especially the…medium.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_137.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_137.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_137.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_137.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:bf88d938da66_137.markups.0": { "type": "A", "start": 0, "end": 181, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_137.markups.1": { "type": "STRONG", "start": 0, "end": 54, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_137.markups.2": { "type": "EM", "start": 55, "end": 171, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:bf88d938da66_137.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9", "thumbnailImageId": "1*P9NuG-tqsK3YKVo97v7PRA.png", "mediaResourceId": "1*P9NuG-tqsK3YKVo97v7PRA.png", "__typename": "MixtapeMetadata" }, "Paragraph:bf88d938da66_138": { "id": "bf88d938da66_138", "name": "de08", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "Optimising PineTime’s Display Driver with Rust and Mynewt\nSimple tweaks like Batched Updates and Non-Blocking SPI can have a huge impact on rendering performance…medium.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_138.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_138.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_138.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_138.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:bf88d938da66_138.markups.0": { "type": "A", "start": 0, "end": 172, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_138.markups.1": { "type": "STRONG", "start": 0, "end": 57, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_138.markups.2": { "type": "EM", "start": 58, "end": 162, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:bf88d938da66_138.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Foptimising-pinetimes-display-driver-with-rust-and-mynewt-3ba269ea2f5c", "thumbnailImageId": "1*qWOFrWPOkQm-nf1shcDSSA.png", "mediaResourceId": "1*qWOFrWPOkQm-nf1shcDSSA.png", "__typename": "MixtapeMetadata" }, "Paragraph:bf88d938da66_139": { "id": "bf88d938da66_139", "name": "26f3", "type": "P", "href": null, "layout": null, "metadata": null, "text": "I hope the maintainers of [druid], [piet], [kurbo], [embedded-graphics], [st7735-lcd] will consider incorporating some of the tweaks I have covered in this article. Together we can do so much more when the Rust Ecosystem embraces Embedded Platforms!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_139.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_139.markups.0": { "type": "EM", "start": 165, "end": 249, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_140": { "id": "bf88d938da66_140", "name": "161c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "And I hope you agree with me that this is clearly the better way to code Watch Apps. There’s more work to be done to flesh this out fully for PineTime… Lemme know if you’re keen to help!", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_141": { "id": "bf88d938da66_141", "name": "c82c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The source code in this article may be found in the pinetime branch of this repository…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_141.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_141.markups.0": { "type": "CODE", "start": 52, "end": 60, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_142": { "id": "bf88d938da66_142", "name": "d0cf", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "lupyuen\u002Fstm32bluepill-mynewt-sensor\nThis pinetime branch contains the firmware source code for PineTime Smart Watch with Apache Mynewt and Embedded Rust…github.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_142.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_142.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_142.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_142.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:bf88d938da66_142.markups.0": { "type": "A", "start": 0, "end": 163, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fpinetime", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_142.markups.1": { "type": "STRONG", "start": 0, "end": 35, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_142.markups.2": { "type": "EM", "start": 36, "end": 153, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:bf88d938da66_142.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fpinetime", "thumbnailImageId": "0*HBoQRn0ULtmi5KjX", "mediaResourceId": "0*HBoQRn0ULtmi5KjX", "__typename": "MixtapeMetadata" }, "Paragraph:bf88d938da66_143": { "id": "bf88d938da66_143", "name": "9eb7", "type": "P", "href": null, "layout": null, "metadata": null, "text": "The macOS build files for [druid], [piet], [kurbo], Embedded Rust and Mynewt OS for PineTime are available here…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_144": { "id": "bf88d938da66_144", "name": "6c09", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "lupyuen\u002Fstm32bluepill-mynewt-sensor\nYou can't perform that action at this time. You signed in with another tab or window. You signed out in another tab or…github.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_144.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_144.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_144.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_144.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:bf88d938da66_144.markups.0": { "type": "A", "start": 0, "end": 165, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Freleases\u002Ftag\u002Fv13.0.0", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_144.markups.1": { "type": "STRONG", "start": 0, "end": 35, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_144.markups.2": { "type": "EM", "start": 36, "end": 155, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:bf88d938da66_144.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Freleases\u002Ftag\u002Fv13.0.0", "thumbnailImageId": "0*M2cPqsmJwqmKpf_J", "mediaResourceId": "0*M2cPqsmJwqmKpf_J", "__typename": "MixtapeMetadata" }, "Paragraph:bf88d938da66_145": { "id": "bf88d938da66_145", "name": "3eb4", "type": "P", "href": null, "layout": null, "metadata": null, "text": "I’ll be packaging a proper release when PineTime is available to the general public. Meanwhile if you have trouble building the source files (as explained in the first article), please drop me a note! The PineTime build, flash and debug steps on Visual Studio Code look like this…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_145.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_145.markups.0": { "type": "A", "start": 142, "end": 175, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159?source=friends_link&sk=d9301466f5499bece3e7b638e99ec20d", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_146": { "id": "bf88d938da66_146", "name": "5a39", "type": "IFRAME", "href": null, "layout": "FULL_WIDTH", "metadata": null, "text": "PineTime build, flash and debug steps on Visual Studio Code", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_146.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "MediaResource:a09597b3a355904a9b7a47510c05270d": { "id": "a09597b3a355904a9b7a47510c05270d", "iframeSrc": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fcdn.embedly.com\u002Fwidgets\u002Fmedia.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FAMVYXOSPjIg%3Ffeature%3Doembed&url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DAMVYXOSPjIg&image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FAMVYXOSPjIg%2Fhqdefault.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=youtube", "iframeHeight": 480, "iframeWidth": 640, "title": "Rust and Mynewt OS on PineTime Smart Watch", "__typename": "MediaResource" }, "$Paragraph:bf88d938da66_146.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:a09597b3a355904a9b7a47510c05270d", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:bf88d938da66_147": { "id": "bf88d938da66_147", "name": "b9e4", "type": "P", "href": null, "layout": null, "metadata": null, "text": "UPDATE: PineTime is now available for purchase by general public! I’m creating a new repository here that will have a prebuilt firmware image for PineTime. I’ll also include instructions for flashing the firmware to your PineTime with a Raspberry Pi.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_147.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_147.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:bf88d938da66_147.markups.0": { "type": "A", "start": 8, "end": 64, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fstore.pine64.org\u002F?product=pinetime-dev-kit", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_147.markups.1": { "type": "A", "start": 81, "end": 100, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpinetime-rust-mynewt", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_148": { "id": "bf88d938da66_148", "name": "4646", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "lupyuen\u002Fpinetime-rust-mynewt\nThis master branch contains the firmware source code for PineTime Smart Watch with Apache Mynewt and Embedded Rust…github.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_148.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_148.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:bf88d938da66_148.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:bf88d938da66_148.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:bf88d938da66_148.markups.0": { "type": "A", "start": 0, "end": 154, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpinetime-rust-mynewt", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_148.markups.1": { "type": "STRONG", "start": 0, "end": 28, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:bf88d938da66_148.markups.2": { "type": "EM", "start": 29, "end": 144, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:bf88d938da66_148.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20200109044808\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fpinetime-rust-mynewt", "thumbnailImageId": "0*ufV44YFi0uYrS2hx", "mediaResourceId": "0*ufV44YFi0uYrS2hx", "__typename": "MixtapeMetadata" }, "Tag:rust": { "id": "rust", "displayTitle": "Rust", "__typename": "Tag" }, "Tag:internet-of-things": { "id": "internet-of-things", "displayTitle": "Internet of Things", "__typename": "Tag" }, "Tag:gadgets": { "id": "gadgets", "displayTitle": "Gadgets", "__typename": "Tag" }, "Tag:programming": { "id": "programming", "displayTitle": "Programming", "__typename": "Tag" }, "Tag:nrf52": { "id": "nrf52", "displayTitle": "Nrf52", "__typename": "Tag" }, "$Post:7e1d5a5d977a.previewContent": { "subtitle": "A button that responds to our tapping and increments a counter… That’s what we shall accomplish today on the PineTime Smart Watch…", "__typename": "PreviewContent" } }</script>
  <script
    src="https://web.archive.org/web/20200109044808js_/https://cdn-client.medium.com/lite/static/js/manifest.6ddb7546.js"></script>
  <script
    src="https://web.archive.org/web/20200109044808js_/https://cdn-client.medium.com/lite/static/js/vendors~main.26101d5d.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200109044808js_/https://cdn-client.medium.com/lite/static/js/main.3cdb83c7.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200109044808js_/https://cdn-client.medium.com/lite/static/js/vendors~screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~scre~3e410f11.faa5af01.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200109044808js_/https://cdn-client.medium.com/lite/static/js/screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~screen.post~~73c4bb05.2341ee77.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200109044808js_/https://cdn-client.medium.com/lite/static/js/screen.post~screen.post.amp~screen.post.series~screen.profile~screen.sequence.library~screen.sequenc~036c6b37.d7f2bab9.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200109044808js_/https://cdn-client.medium.com/lite/static/js/screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tick~screen.landingp~ed90ee39.b4ab1436.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20200109044808js_/https://cdn-client.medium.com/lite/static/js/screen.post.6d900c1f.chunk.js"></script>
  <script>window.main();</script>
</body>

</html>
<!--
     FILE ARCHIVED ON 04:48:08 Jan 09, 2020 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 10:32:54 Feb 21, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  exclusion.robots.policy: 0.385
  captures_list: 230.53
  exclusion.robots: 0.399
  RedisCDXSource: 0.705
  PetaboxLoader3.resolve: 218.895 (4)
  esindex: 0.012
  CDXLines.iter: 27.074 (3)
  LoadShardBlock: 198.076 (3)
  PetaboxLoader3.datanode: 63.453 (4)
  load_resource: 135.773
-->