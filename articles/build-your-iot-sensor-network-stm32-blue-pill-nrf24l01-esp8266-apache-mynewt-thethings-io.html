<!doctype html><html lang="en"><head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app31.us.archive.org';v.server_ms=290;archive_analytics.send_pageview({});});</script><script type="text/javascript" src="/_static/js/playback.bundle.js?v=bQvHU8mx" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/wombat.js?v=cRqOKCOw" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("https://web.archive.org/web");
  __wm.wombat("https://medium.com/@ly.lee/build-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d?source=friends_link&sk=e49514a7e616d4ff931dd24329a82ce0","20191204194039","https://web.archive.org/","web","/_static/",
	      "1575488439");
</script>
<link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=bsmaklHF" />
<link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->
<script>!function(c,f){var t,o,i,e=[],r={passive:!0,capture:!0},n=new Date,a="pointerup",u="pointercancel";function p(n,e){t||(t=e,o=n,i=new Date,w(f),s())}function s(){0<=o&&o<i-n&&(e.forEach(function(n){n(o,t)}),e=[])}function l(n){if(n.cancelable){var e=(1e12<n.timeStamp?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,e){function t(){p(n,e),i()}function o(){i()}function i(){f(a,t,r),f(u,o,r)}c(a,t,r),c(u,o,r)}(e,n):p(e,n)}}function w(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(n){e(n,l,r)})}w(c),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){e.push(n),s()}}(addEventListener,removeEventListener)</script><title data-rh="true">Build Your IoT Sensor Network — STM32 Blue Pill + nRF24L01 + ESP8266 + Apache Mynewt + thethings.io</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2019-07-25T18:15:14.138Z"/><meta data-rh="true" name="title" content="Build Your IoT Sensor Network — STM32 Blue Pill + nRF24L01 + ESP8266 + Apache Mynewt + thethings.io"/><meta data-rh="true" property="og:title" content="Build Your IoT Sensor Network — STM32 Blue Pill + nRF24L01 + ESP8266 + Apache Mynewt + thethings.io"/><meta data-rh="true" property="twitter:title" content="Build Your IoT Sensor Network — STM32 Blue Pill + nRF24L01 + ESP8266 + Apache Mynewt + thethings.io"/><meta data-rh="true" name="twitter:site" content="@Medium"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/ca7486523f5d"/><meta data-rh="true" property="al:android:url" content="medium://p/ca7486523f5d"/><meta data-rh="true" property="al:ios:url" content="medium://p/ca7486523f5d"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="Learn to build a Sensor Network that routes sensor data from the nRF24L01 local network to the ESP8266 WiFi network"/><meta data-rh="true" property="og:description" content="Learn to build a Sensor Network that routes sensor data from the nRF24L01 local network to the ESP8266 WiFi network"/><meta data-rh="true" property="twitter:description" content="Learn to build a Sensor Network that routes sensor data from the nRF24L01 local network to the ESP8266 WiFi network"/><meta data-rh="true" property="og:url" content="https://web.archive.org/web/20191204194039/https://medium.com/@ly.lee/build-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d"/><meta data-rh="true" property="al:web:url" content="https://medium.com/@ly.lee/build-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d"/><meta data-rh="true" property="og:image" content="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/1200/1*Zi439VezFjysLCmp2WJ6wQ.png"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1200/1*Zi439VezFjysLCmp2WJ6wQ.png"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" property="article:author" content="https://medium.com/@ly.lee"/><meta data-rh="true" name="twitter:creator" content="@MisterTechBlog"/><meta data-rh="true" name="author" content="Lup Yuen Lee 李立源"/><meta data-rh="true" name="robots" content="index,follow"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" name="twitter:label1" value="Reading time"/><meta data-rh="true" name="twitter:data1" value="18 min read"/><meta data-rh="true" name="parsely-post-id" content="ca7486523f5d"/><link data-rh="true" rel="publisher" href="https://plus.google.com/103654360130207659246"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/web/20191204194039/https://medium.com/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://web.archive.org/web/20191204194039im_/https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://web.archive.org/web/20191204194039im_/https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://web.archive.org/web/20191204194039im_/https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://web.archive.org/web/20191204194039im_/https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="mask-icon" href="https://web.archive.org/web/20191204194039im_/https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"/><link data-rh="true" rel="icon" href="https://web.archive.org/web/20191204194039im_/https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://web.archive.org/web/20191204194039cs_/https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css"/><link data-rh="true" rel="author" href="https://medium.com/@ly.lee"/><link data-rh="true" rel="canonical" href="https://web.archive.org/web/20191204194039/https://medium.com/@ly.lee/build-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d"/><link data-rh="true" rel="alternate" href="https://web.archive.org/web/20191204194039/android-app://com.medium.reader/https/medium.com/p/ca7486523f5d"/><script data-rh="true" type="application/ld+json">{"@context":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttp:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*Zi439VezFjysLCmp2WJ6wQ.png"],"url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuild-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d","dateCreated":"2019-05-27T10:13:11.985Z","datePublished":"2019-05-27T10:13:11.985Z","dateModified":"2019-07-25T18:15:14.528Z","headline":"Build Your IoT Sensor Network — STM32 Blue Pill + nRF24L01 + ESP8266 + Apache Mynewt + thethings.io","name":"Build Your IoT Sensor Network — STM32 Blue Pill + nRF24L01 + ESP8266 + Apache Mynewt + thethings.io","description":"Learn to build a Sensor Network that routes sensor data from the nRF24L01 local network to the ESP8266 WiFi network","identifier":"ca7486523f5d","keywords":["Lite:true","Tag:IoT","Tag:Internet of Things","Tag:Esp8266","Tag:Nrf24l01","Tag:Stm32","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:0"],"author":{"@type":"Person","name":"Lup Yuen Lee 李立源","url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee"},"creator":["Lup Yuen Lee 李立源"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F616\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuild-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d"}</script><script data-rh="true">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://web.archive.org/web/20191204194039/https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-24232453-2', 'auto');
ga('send', 'pageview');</script><link rel="preload" href="https://web.archive.org/web/20191204194039/https://cdn.optimizely.com/js/16180790160.js" as="script"><style type="text/css" data-fela-rehydration="458" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@-moz-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{fill:rgba(0, 0, 0, 0.84)}.r{display:block}.s{position:fixed}.t{top:0}.u{left:0}.v{right:0}.w{z-index:500}.x{box-shadow:0 4px 12px 0 rgba(0, 0, 0, 0.05)}.ai{max-width:1192px}.aj{min-width:0}.ak{width:100%}.al{height:65px}.ao{flex:1 0 auto}.ap{display:none}.ar{flex:0 0 auto}.as{visibility:hidden}.at{color:inherit}.au{fill:inherit}.av{font-size:inherit}.aw{border:inherit}.ax{font-family:inherit}.ay{letter-spacing:inherit}.az{font-weight:inherit}.ba{padding:0}.bb{margin:0}.bc:hover{cursor:pointer}.bd:hover{color:rgba(0, 0, 0, 0.9)}.be:hover{fill:rgba(0, 0, 0, 0.9)}.bf:focus{outline:none}.bg:disabled{cursor:default}.bh:disabled{color:rgba(0, 0, 0, 0.54)}.bi:disabled{fill:rgba(0, 0, 0, 0.54)}.bj{font-family:medium-content-sans-serif-font, "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Arial, sans-serif}.bk{font-style:normal}.bl{line-height:20px}.bm{font-size:15.8px}.bn{letter-spacing:0px}.bo{color:rgba(0, 0, 0, 0.54)}.bp{fill:rgba(0, 0, 0, 0.54)}.bq{margin-left:16px}.br{color:rgba(2, 158, 116, 1)}.bs{fill:rgba(3, 168, 124, 1)}.bt:hover{color:rgba(1, 143, 105, 1)}.bu:hover{fill:rgba(2, 158, 116, 1)}.bv:disabled{color:rgba(3, 168, 124, 0.5)}.bw:disabled{fill:rgba(3, 168, 124, 0.5)}.bx{padding:8px 16px}.by{background:0}.bz{border-color:rgba(3, 168, 124, 1)}.ca:hover{border-color:rgba(2, 158, 116, 1)}.cb{border-radius:4px}.cc{border-width:1px}.cd{border-style:solid}.ce{box-sizing:border-box}.cf{display:inline-block}.cg{text-decoration:none}.ch{margin-bottom:0px}.cj{padding-left:24px}.ck{padding-right:24px}.cl{margin-left:auto}.cm{margin-right:auto}.cn{max-width:728px}.co{flex-direction:column}.cp{position:absolute}.cq{top:calc(100vh + 100px)}.cr{bottom:calc(100vh + 100px)}.cs{width:10px}.ct{pointer-events:none}.cu{word-break:break-word}.cv{word-wrap:break-word}.cw:after{display:block}.cx:after{content:""}.cy:after{clear:both}.cz{clear:both}.di{max-width:3264px}.do{padding-bottom:5px}.dp{padding-top:5px}.dq{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.dr{cursor:zoom-in}.ds{position:relative}.dt{z-index:auto}.du{opacity:0}.dv{transition:opacity 100ms 400ms}.dw{height:100%}.dx{overflow:hidden}.dy{will-change:transform}.dz{transform:translateZ(0)}.ea{margin:auto}.eb{background-color:rgba(0, 0, 0, 0.05)}.ec{padding-bottom:57.322303921568626%}.ed{filter:blur(20px)}.ee{transform:scale(1.1)}.ef{visibility:visible}.eg{background:rgba(255, 255, 255, 1)}.eh{font-size:16px}.ei{line-height:1.4}.ej{margin-top:10px}.ek{text-align:center}.en{font-weight:300}.eo{max-width:680px}.ep{line-height:1.23}.eq{letter-spacing:0}.er{color:rgba(0, 0, 0, 0.84)}.es{font-family:medium-content-title-font, Georgia, Cambria, "Times New Roman", Times, serif}.et{font-size:40px}.ez{margin-bottom:-0.27em}.fa{line-height:48px}.fb{margin-top:32px}.fc{justify-content:space-between}.fg{width:48px}.fh{height:48px}.fi{flex-direction:row}.fj{width:calc(100% + 25px)}.fk{height:calc(100% + 25px)}.fl{top:50%}.fm{left:50%}.fn{transform:translateX(-50%) translateY(-50%)}.fo{border-radius:50%}.fp{margin-left:12px}.fq{margin-bottom:2px}.fs{max-height:20px}.ft{text-overflow:ellipsis}.fu{display:-webkit-box}.fv{-webkit-line-clamp:1}.fw{-webkit-box-orient:vertical}.fx:hover{text-decoration:underline}.fy{margin-left:8px}.fz{padding:0px 8px}.ga{border-color:rgba(0, 0, 0, 0.54)}.gb:hover{color:rgba(0, 0, 0, 0.97)}.gc:hover{fill:rgba(0, 0, 0, 0.97)}.gd:hover{border-color:rgba(0, 0, 0, 0.84)}.ge:disabled{fill:rgba(0, 0, 0, 0.76)}.gf:disabled{border-color:rgba(0, 0, 0, 0.2)}.gg:disabled{cursor:inherit}.gh:disabled:hover{color:rgba(0, 0, 0, 0.54)}.gi:disabled:hover{fill:rgba(0, 0, 0, 0.76)}.gj:disabled:hover{border-color:rgba(0, 0, 0, 0.2)}.gk{line-height:18px}.gl{font-size:15px}.gm{align-items:flex-end}.gu{padding-right:8px}.gv{margin-right:-6px}.gw{line-height:1.58}.gx{letter-spacing:-0.004em}.gy{font-family:medium-content-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.hj{margin-bottom:-0.46em}.hk{clear:left}.hl{float:left}.hm{font-size:66px}.hn{line-height:.83}.ho{margin-right:12px}.hu{font-weight:700}.hv{font-style:italic}.hw{max-width:945px}.ic{border-width:2px}.id{border-color:rgba(255, 255, 255, 1)}.ie{margin-left:-150px}.if{margin-right:30px}.ig{width:75%}.ih{padding-bottom:10px}.im{margin-bottom:16px}.in{padding-bottom:93.12169312169311%}.io{background-repeat:repeat-x}.ip{background-image:linear-gradient(to right,rgba(0, 0, 0, 0.84) 100%,rgba(0, 0, 0, 0.84) 0);background-image:url('data:image/svg+xml;utf8,<svg preserveAspectRatio="none" viewBox="0 0 1 1" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="1" y2="1" stroke="rgba(0, 0, 0, 0.84)" /></svg>')}.iq{background-size:1px 1px}.ir{background-position:0 1.05em;background-position:0 calc(1em + 1px)}.is{max-width:1857px}.it{padding-bottom:46.418955304254176%}.iu{padding-bottom:75%}.iv{box-shadow:inset 3px 0 0 0 rgba(0, 0, 0, 0.84)}.iw{padding-left:23px}.ix{margin-left:-20px}.iy{font-family:medium-content-slab-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.iz{font-size:28px}.ja{border:none}.jb{margin-top:30px}.jc:before{content:"..."}.jd:before{letter-spacing:0.6em}.je:before{text-indent:0.6em}.jf:before{font-style:italic}.jg:before{line-height:1.4}.jh{line-height:1.12}.ji{letter-spacing:-0.022em}.jj{font-weight:600}.ju{margin-bottom:-0.28em}.ka{box-shadow:0 1px 4px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(0, 0, 0, 0.1)}.kb{max-height:40px}.kc{-webkit-line-clamp:2}.kd{padding:0px}.kt{padding:16px 20px}.ku{flex:1 1 auto}.kw{font-size:18px}.kx{margin-top:8px}.ky{margin-top:12px}.kz{width:160px}.la{background-image:url(https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/320/1*bAzQH4RFtSWknvblylsckA.jpeg)}.lb{background-origin:border-box}.lc{background-size:cover}.ld{height:167px}.le{background-position:50% 50%}.lf{max-width:100%}.lg{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1)}.lh{max-width:2512px}.li{padding-bottom:97.45222929936307%}.lj{max-width:1800px}.lk{padding-bottom:2.7777777777777777%}.lp{padding-bottom:NaN%}.lq{margin-top:0px}.lr{padding:2px 4px}.ls{font-size:75%}.lt> strong{font-family:inherit}.lu{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.lv{padding:20px}.lw{background:rgba(0, 0, 0, 0.05)}.lx{overflow-x:auto}.ly{line-height:1.18}.lz{margin-top:-0.09em}.ma{margin-bottom:-0.09em}.mb{white-space:pre-wrap}.mc{max-width:1905px}.md{padding-bottom:73.54330708661416%}.me{max-width:2069px}.mf{padding-bottom:90.14016433059449%}.ml{background-image:url(https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/320/1*fyYjlV_EPqraAEYuRbst1A.png)}.mm{background-image:url(https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/320/1*EKAWYUoAU4_SMRWYNpyy4w.png)}.mn{will-change:opacity}.mo{top:calc(65px + 54px + 40px)}.mr{width:131px}.ms{padding-top:28px}.mt{margin-bottom:19px}.mu{margin-left:-5px}.mv{margin-right:5px}.mw{outline:0}.mx{border:0}.my{user-select:none}.mz{cursor:pointer}.na> svg{pointer-events:none}.nb:active{border-style:none}.nc{-webkit-user-select:none}.nd{fill:rgba(0, 0, 0, 0.76)}.ne:focus{fill:rgba(0, 0, 0, 0.54)}.nf:hover{fill:rgba(0, 0, 0, 0.54)}.ng{margin-top:5px}.nh button{text-align:left}.ni{width:188px}.nj{transform:translateX(406px)}.nk{top:calc(65px + 54px + 14px)}.nm{margin-top:40px}.nn{flex-wrap:wrap}.no{margin-top:25px}.np{list-style-type:none}.nq{margin-right:8px}.nr{margin-bottom:8px}.ns{border-radius:3px}.nt{padding:5px 10px}.nu{line-height:22px}.nv{margin-top:15px}.nw{margin-right:16px}.nx{border:1px solid rgba(0, 0, 0, 0.1)}.ny{height:60px}.nz{width:60px}.om:hover{border-color:rgba(0, 0, 0, 0.54)}.on:active{border-style:solid}.oo{z-index:2}.oq{padding-top:32px}.or{border-top:1px solid rgba(0, 0, 0, 0.1)}.os{margin-bottom:25px}.ot{margin-bottom:32px}.ou{min-height:80px}.oz{width:80px}.pa{height:80px}.pb{padding-left:102px}.pd{text-transform:uppercase}.pe{letter-spacing:0.05em}.pf{margin-bottom:6px}.pg{line-height:36px}.ph{padding:4px 12px}.pi{max-width:555px}.pj{max-width:450px}.pk{line-height:24px}.pm{padding-top:25px}.pn{color:rgba(0, 0, 0, 0.76)}.po{opacity:1}.pp{border:1px solid rgba(3, 168, 124, 1)}.pq{margin-top:64px}.pr{background-color:rgba(0, 0, 0, 0.02)}.ps{padding:60px 0}.pt{background-color:rgba(0, 0, 0, 0.9)}.pv{padding-bottom:48px}.pw{border-bottom:1px solid rgba(255, 255, 255, 0.54)}.px{margin:0 -12px}.py{margin:0 12px}.pz{flex:1 1 0}.qa{padding-bottom:12px}.qb:hover{color:rgba(255, 255, 255, 0.99)}.qc:hover{fill:rgba(255, 255, 255, 0.99)}.qd:disabled{color:rgba(255, 255, 255, 0.7)}.qe:disabled{fill:rgba(255, 255, 255, 0.7)}.qf{color:rgba(255, 255, 255, 0.98)}.qg{fill:rgba(255, 255, 255, 0.98)}.qh{text-align:inherit}.qi{font-size:21.6px}.qj{letter-spacing:-0.32px}.qk{color:rgba(255, 255, 255, 0.7)}.ql{fill:rgba(255, 255, 255, 0.7)}.qm{text-decoration:underline}.qn{padding-bottom:8px}.qo{padding-top:8px}.qp{width:200px}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.ah{margin:0 64px}.dh{max-width:1192px}.dn{margin-top:32px}.ey{margin-top:0.78em}.gt{margin-left:30px}.hh{font-size:21px}.hi{margin-top:2em}.ht{padding-top:7px}.ib{margin-top:56px}.js{font-size:34px}.jt{margin-top:1.25em}.jz{margin-top:0.86em}.kq{padding-left:64px}.kr{padding-right:64px}.ks{max-width:1320px}.mk{margin-top:1.95em}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.el{margin-left:auto}.em{text-align:center}.gs{margin-left:30px}.ii{float:none}.ij{margin-left:0}.ik{margin-right:0}.il{width:100%}.kn{padding-left:64px}.ko{padding-right:64px}.kp{max-width:1080px}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.gr{margin-left:30px}.kk{padding-left:48px}.kl{padding-right:48px}.km{max-width:904px}.ll{float:none}.lm{margin-left:0}.ln{margin-right:0}.lo{width:100%}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.am{height:56px}.an{display:flex}.aq{display:block}.ci{margin-bottom:0px}.fe{margin-top:32px}.ff{flex-direction:column-reverse}.gp{margin-bottom:30px}.gq{margin-left:0px}.kh{padding-left:24px}.ki{padding-right:24px}.kj{max-width:728px}.kv{padding:10px 12px 10px}.ov{margin-bottom:24px}.ow{align-items:center}.ox{width:102px}.oy{position:relative}.pc{padding-left:0}.pl{margin-top:24px}.pu{padding:32px 0}.qq{width:140px}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.ac{margin:0 24px}.da{margin:0}.db{max-width:100%}.dj{margin-top:24px}.eu{margin-top:0.39em}.fd{margin-top:32px}.fr{margin-bottom:0px}.gn{margin-bottom:30px}.go{margin-left:0px}.gz{font-size:18px}.ha{margin-top:1.56em}.hp{padding-top:0}.hx{margin-top:40px}.jk{font-size:30px}.jl{margin-top:0.93em}.jv{margin-top:0.67em}.ke{padding-left:24px}.kf{padding-right:24px}.kg{max-width:552px}.mg{margin-top:1.2em}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.ag{margin:0 64px}.dg{max-width:1192px}.dm{margin-top:32px}.ex{margin-top:0.78em}.hf{font-size:21px}.hg{margin-top:2em}.hs{padding-top:7px}.ia{margin-top:56px}.jq{font-size:34px}.jr{margin-top:1.25em}.jy{margin-top:0.86em}.mj{margin-top:1.95em}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.af{margin:0 48px}.de{margin:0}.df{max-width:100%}.dl{margin-top:32px}.ew{margin-top:0.78em}.hd{font-size:21px}.he{margin-top:2em}.hr{padding-top:7px}.hz{margin-top:56px}.jo{font-size:34px}.jp{margin-top:1.25em}.jx{margin-top:0.86em}.mi{margin-top:1.95em}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.ae{margin:0 24px}.dc{margin:0}.dd{max-width:100%}.dk{margin-top:24px}.ev{margin-top:0.39em}.hb{font-size:18px}.hc{margin-top:1.56em}.hq{padding-top:0}.hy{margin-top:40px}.jm{font-size:30px}.jn{margin-top:0.93em}.jw{margin-top:0.67em}.mh{margin-top:1.2em}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="print">.ab{display:none}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.y{transition:transform 300ms ease}.z{will-change:transform}.mp{transition:opacity 200ms}.oa{transition:border-color 150ms ease}.ob::before{background:
      radial-gradient(circle, rgba(0, 0, 0, 0.84) 60%, transparent 70%)
    }.oc::before{border-radius:50%}.od::before{content:""}.oe::before{display:block}.of::before{z-index:0}.og::before{left:0}.oh::before{height:100%}.oi::before{position:absolute}.oj::before{top:0}.ok::before{width:100%}.ol:hover::before{animation:k1 2000ms infinite cubic-bezier(.1,.12,.25,1)}.op{transition:fill 200ms ease}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (max-width: 1198px)">.mq{display:none}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (max-width: 1230px)">.nl{display:none}</style></head><body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
</style>
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
<div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
<div id="wm-ipp-inside">
  <div style="position:relative;">
    <div id="wm-logo" style="float:left;width:110px;padding-top:12px;">
      <a href="/web/" title="Wayback Machine home page"><img src="/_static/images/toolbar/wayback-toolbar-logo-200.png" srcset="/_static/images/toolbar/wayback-toolbar-logo-100.png, /_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, /_static/images/toolbar/wayback-toolbar-logo-200.png 2x" alt="Wayback Machine" style="width:100px" border="0" /></a>
    </div>
    <div class="r" style="float:right;">
      <div id="wm-btns" style="text-align:right;height:25px;">
                  <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a id="wm-save-snapshot-open" href="#"
	     title="Share via My Web Archive" >
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php"
             title="Sign In"
             id="wm-sign-in"
          >
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
        	<a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	<a id="wm-tb-close" href="#close" onclick="__wm.h(event);return false;" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share">
          <a href="/web/20191204194039/http://web.archive.org/screenshot/https://medium.com/@ly.lee/build-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d?source=friends_link&sk=e49514a7e616d4ff931dd24329a82ce0"
             id="wm-screenshot"
             title="screenshot">
            <span class="wm-icon-screen-shot"></span>
          </a>
	<a id="wm-share-facebook" href="#" data-url="https://web.archive.org/web/20191204194039/https://medium.com/@ly.lee/build-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d?source=friends_link&amp;sk=e49514a7e616d4ff931dd24329a82ce0" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	<a id="wm-share-twitter" href="#" data-url="https://web.archive.org/web/20191204194039/https://medium.com/@ly.lee/build-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d?source=friends_link&amp;sk=e49514a7e616d4ff931dd24329a82ce0" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
    </div>
    <table class="c" style="">
      <tbody>
	<tr>
	  <td class="u" colspan="2">
	    <form target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="https://medium.com/@ly.lee/build-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d?source=friends_link&sk=e49514a7e616d4ff931dd24329a82ce0" onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20191204194039" /><input type="submit" value="Go" /></form>
	  </td>
	  <td class="n" rowspan="2" style="width:110px;">
	    <table>
	      <tbody>
		<!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
		<tr class="m">
		  <td class="b" nowrap="nowrap">Nov</td>
		  <td class="c" id="displayMonthEl" title="You are here: 19:40:39 Dec 04, 2019">DEC</td>
		  <td class="f" nowrap="nowrap">Jan</td>
		</tr>
		<!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
		<tr class="d">
		  <td class="b" nowrap="nowrap"><img src="/_static/images/toolbar/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0" /></td>
		  <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;" title="You are here: 19:40:39 Dec 04, 2019">04</td>
		  <td class="f" nowrap="nowrap"><img src="/_static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0" /></td>
		</tr>
		<!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
		<tr class="y">
		  <td class="b" nowrap="nowrap">2018</td>
		  <td class="c" id="displayYearEl" title="You are here: 19:40:39 Dec 04, 2019">2019</td>
		  <td class="f" nowrap="nowrap">2020</td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
	<tr>
	  <td class="s">
	    	    <div id="wm-nav-captures">
	      	      <a class="t" href="/web/20191204194039*/https://medium.com/@ly.lee/build-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d?source=friends_link&sk=e49514a7e616d4ff931dd24329a82ce0" title="See a list of every capture for this URL">1 capture</a>
	      <div class="r" title="Timespan for captures of this URL">04 Dec 2019</div>
	      </div>
	  </td>
	  <td class="k">
	    <a href="" id="wm-graph-anchor">
	      <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
		<canvas id="wm-sparkline-canvas" width="650" height="27" border="0"></canvas>
	      </div>
	    </a>
	  </td>
	</tr>
      </tbody>
    </table>
    <div style="position:absolute;bottom:0;right:2px;text-align:right;">
      <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this capture</span></a>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
                    <div id="wm-capinfo-collected-by">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
            <div style="display:inline-block;vertical-align:top;width:50%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/ArchiveIt-Partner-1028);"></span>
		Organization: <a style="color:#33f;" href="https://archive.org/details/ArchiveIt-Partner-1028" target="_new"><span class="wm-title">Mark Graham&#39;s Archive-IT Collections</span></a>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  This is a set of web collections curated by Mark Graham using the <a href="http://archive-it.org">Archive-IT</a> service of the <a href="http//archive.org">Internet Archive.</a>
<br>
<br>
They include web captures of the ISKME.org website as well as captures from sites hosted by IGC.org.
<br>
<br>
<br><br>
These web captures are available to the general public.
<br>
<br>
For more information about this collection please feel free to contact Mark via <a href="mailto:mark@archive.org?Subject=Question%20about%20you%20Archive-IT%20Collection" target="_top">Send Mail</a>
	</div>
	      </div>
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/ArchiveIt-Collection-8332)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/ArchiveIt-Collection-8332" target="_new"><span class="wm-title">General Crawls</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Archive-It Partner 1028: Mark Graham - Collection 8332: General Crawls
	</div>
	      </div>
    </div>
    </div>
    <div id="wm-capinfo-timestamps">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="/_static/images/loading.gif" alt="loading" /></div>
    </div>
    </div>
  </div></div></div></div><div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=https%3A//web.archive.org/web/20191204194039/https%3A//medium.com/%2540ly.lee/build-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d%3Fsource%3Dfriends_link%26sk%3De49514a7e616d4ff931dd24329a82ce0"
	    scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><script type="text/javascript">
__wm.bt(650,27,25,2,"web","https://medium.com/@ly.lee/build-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d?source=friends_link&sk=e49514a7e616d4ff931dd24329a82ce0","20191204194039",1996,"/_static/",["/_static/css/banner-styles.css?v=bsmaklHF","/_static/css/iconochive.css?v=qtvMKcIJ"]);
  __wm.rw(1);
</script>
<!-- END WAYBACK TOOLBAR INSERT --><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><script>window.PARSELY = window.PARSELY || {autotrack: false}</script><nav class="r s t u v c w x y z ab"><div class="branch-journeys-top"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="al n o am an"><div class="r ao w"><div class="n o"><a aria-label="Homepage" rel="noopener" href="/web/20191204194039/https://medium.com/?source=post_page-----ca7486523f5d----------------------"><div class="ap g"><svg height="22" width="112" viewbox="0 0 111.5 22" class="q"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></div><div class="r aq"><svg width="35" height="35" viewbox="5 5 35 35" class="q"><path d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z"></path></svg></div></a></div></div><div class="r ar w"><div class="n o"><div class="n g"><div class="as" id="lo-post-page-navbar-upsell-button"><div><a href="https://web.archive.org/web/20191204194039/https://medium.com/membership?source=upgrade_membership---nav_full------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><span class="bj b bk bl bm bn r bo bp">Become a member</span></a></div></div><div class="as" id="lo-post-page-navbar-sign-in-link"><div class="bq r"><span class="bj b bk bl bm bn r bo bp"><a href="https://web.archive.org/web/20191204194039/https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fbuild-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d&amp;source=post_page-----ca7486523f5d---------------------nav_reg-" class="br bs av aw ax ay az ba bb bc bt bu bf bg bv bw" rel="noopener">Sign in</a></span></div></div></div><div class="as" id="lo-post-page-navbar-get-started-button"><div class="bq r"><button class="bx by br bs bz bt bu ca bc cb bj b bk bl bm bn cc cd ce cf cg bf">Get started</button></div></div></div></div></div></div></div></div></nav><div class="ch al r ci am"></div><article><section class="cj ck cl cm ak cn ce n co"></section><span class="r"></span><div><div class="cp u cq cr cs ct"></div><section class="cu cv cw cx cy"><div class="cz"><div class="n p"><div class="da db dc dd de df ag dg ah dh aj ak"><figure class="dj dk dl dm dn cz do dp paragraph-image"><div class="dq dr ds dt ak"><div class="cl cm di"><div class="ea r ds eb"><div class="ec r"><div class="du dv cp t u dw ak dx dy dz"><img class="cp t u dw ak ed ee ef" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/60/1*Zi439VezFjysLCmp2WJ6wQ.png?q=20" width="3264" height="1871" role="presentation"/></div><img class="du dv cp t u dw ak eg" width="3264" height="1871" role="presentation"/><noscript><img class="cp t u dw ak" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/6528/1*Zi439VezFjysLCmp2WJ6wQ.png" width="3264" height="1871" role="presentation"/></noscript></div></div></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Mythical sonorous creature for belly illustration purpose only. Not required for implementation. Do not attempt to catch!</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah eo aj ak"><div><div id="dffd" class="ep eq er bk es b et eu ev ew ex ey ez"><h1 class="es b et fa er">Build Your IoT Sensor Network — STM32 Blue Pill + nRF24L01 + ESP8266 + Apache Mynewt + thethings.io</h1></div><div class="fb"><div class="n fc fd fe ff"><div class="o n"><div><a rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee?source=post_page-----ca7486523f5d----------------------"><div class="ds fg fh"><div class="bs n fi o p cp fj fk fl fm fn ct"><svg width="57" height="57" viewbox="0 0 57 57"><path fill-rule="evenodd" clip-rule="evenodd" d="M28.5 1.2A27.45 27.45 0 0 0 4.06 15.82L3 15.27A28.65 28.65 0 0 1 28.5 0C39.64 0 49.29 6.2 54 15.27l-1.06.55A27.45 27.45 0 0 0 28.5 1.2zM4.06 41.18A27.45 27.45 0 0 0 28.5 55.8a27.45 27.45 0 0 0 24.44-14.62l1.06.55A28.65 28.65 0 0 1 28.5 57 28.65 28.65 0 0 1 3 41.73l1.06-.55z"></path></svg></div><img alt="Lup Yuen Lee 李立源" class="r fo fh fg" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/fit/c/96/96/1*KGohS3sQaUnr58gc0BIfoQ.jpeg" width="48" height="48"/></div></a></div><div class="fp ak r"><div class="n"><div style="flex:1"><span class="bj b bk bl bm bn r er q"><div class="fq n o fr"><span class="bj en eh bl dx fs ft fu fv fw er"><a class="at au av aw ax ay az ba bb bc fx bf bg bh bi" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee?source=post_page-----ca7486523f5d----------------------">Lup Yuen Lee 李立源</a></span><div class="fy r ar h"><button class="fz er q by ga gb gc gd bc bh ge gf gg gh gi gj cb bj b bk gk gl bn cc cd ce cf cg bf">Follow</button></div></div></span></div></div><span class="bj b bk bl bm bn r bo bp"><span class="bj en eh bl dx fs ft fu fv fw bo"><div><a class="at au av aw ax ay az ba bb bc fx bf bg bh bi" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/build-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d?source=post_page-----ca7486523f5d----------------------">May 27</a> <!-- -->·<!-- --> <!-- -->18<!-- --> min read</div></span></span></div></div><div class="n gm gn go gp gq gr gs gt ab"><div class="n o"><div class="gu r ar"><a href="//web.archive.org/web/20191204194039/https://medium.com/p/ca7486523f5d/share/twitter?source=post_actions_header---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="gu r ar"><a href="//web.archive.org/web/20191204194039/https://medium.com/p/ca7486523f5d/share/linkedIn?source=post_actions_header---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" viewbox="0 0 29 29" fill="none" class="q"><path d="M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z" fill="#fff"></path></svg></a></div><div class="gu r ar"><a href="//web.archive.org/web/20191204194039/https://medium.com/p/ca7486523f5d/share/facebook?source=post_actions_header---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="gv r ao"><div><div class="cf"><a href="https://web.archive.org/web/20191204194039/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fbuild-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d&amp;source=post_actions_header--------------------------bookmark_sidebar-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25" height="25" viewbox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div></div></div></div><p id="e5a2" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj hk"><span class="r hl hm hn ho hp hq hr hs ht ds">L</span><strong class="gy hu"><em class="hv">aw of Thermospatiality</em></strong><em class="hv">: Air-conditioning always feels </em><strong class="gy hu"><em class="hv">too warm</em></strong><em class="hv"> AND </em><strong class="gy hu"><em class="hv">too cold </em></strong><em class="hv">by </em><strong class="gy hu"><em class="hv">different individuals</em></strong><em class="hv"> in a sizeable room</em></p><figure class="hx hy hz ia ib cz eg ic cd id hl ie if ig ba ih ii ij ik il im paragraph-image"><div class="dq dr ds dt ak"><div class="cl cm hw"><div class="ea r ds eb"><div class="in r"><div class="du dv cp t u dw ak dx dy dz"><img class="cp t u dw ak ed ee ef" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/60/1*v3frSlEwkvyVeOENEw6thQ.png?q=20" width="945" height="880" role="presentation"/></div><img class="du dv cp t u dw ak eg" width="945" height="880" role="presentation"/><noscript><img class="cp t u dw ak" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/1890/1*v3frSlEwkvyVeOENEw6thQ.png" width="945" height="880" role="presentation"/></noscript></div></div></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Law of Thermospatiality in action</figcaption></figure><p id="93a4" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">It’s impossible to get <strong class="gy hu">perfect air-conditioning</strong> in any room… But we can try! We begin by installing <strong class="gy hu">5 temperature sensors</strong> around our living room (to monitor the actual temperature at 5 different spots).</p><p id="6f5a" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">We’ll call them the <strong class="gy hu">5 Sensor Nodes</strong>. Each Sensor Node will be an <a href="https://web.archive.org/web/20191204194039/http://wiki.stm32duino.com/index.php?title=Blue_Pill" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">STM32 Blue Pill</strong></a> with a temperature sensor.</p><p id="6029" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Running cables through the living room is out of the question, so our Blue Pills will have to <strong class="gy hu">connect wirelessly</strong> to transmit the temperature data. Perhaps with an <a href="https://web.archive.org/web/20191204194039/https://www.espressif.com/en/products/hardware/esp8266ex/overview" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">ESP8266 WiFi</strong></a> module?</p><p id="0ddc" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">But each Sensor Node is only doing a <strong class="gy hu">dead simple</strong> job… 1️⃣ Read the temperature sensor 2️⃣ Transmit the temperature value. Do we really need an <a class="at cg io ip iq ir" target="_blank" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d?source=friends_link&amp;sk=df729a82533d817ec6b2d9b626b6f66b">ESP8266 with the <strong class="gy hu">whole CoAP + UDP + IP stack</strong></a>? (Don’t forget: we need to configure each ESP8266 with WiFi MAC Address security in case somebody spoofs our Sensor Nodes and breaks into our home WiFi)</p><p id="b08b" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The <a href="https://web.archive.org/web/20191204194039/https://www.sparkfun.com/datasheets/Components/nRF24L01_prelim_prod_spec_1_2.pdf" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">Nordic Semiconductor nRF24L01</strong></a><strong class="gy hu"> wireless transceiver</strong> is perfect for this scenario. Each Blue Pill transmits the temperature data via the nRF24L01 module to a simple <strong class="gy hu">2.4 GHz Sensor Network</strong>, without any WiFi / IP / UDP protocol overheads.</p><p id="bcd0" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">To bridge the 5 Sensor Nodes to a proper IoT CoAP Server (like <a href="https://web.archive.org/web/20191204194039/https://thethings.io/" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">thethings.io</a>), we use a Blue Pill running as a <strong class="gy hu">Collector Node.</strong> It collects temperature data from Sensor Nodes via nRF24L01, and transmits the data to the CoAP Server. That way, <strong class="gy hu">only ONE node</strong> needs the ESP8266 and the entire CoAP + UDP + IP stack (and the WiFi security).</p></div></div><div class="cz"><div class="n p"><div class="da db dc dd de df ag dg ah dh aj ak"><figure class="hx hy hz ia ib cz do dp paragraph-image"><div class="dq dr ds dt ak"><div class="cl cm is"><div class="ea r ds eb"><div class="it r"><div class="du dv cp t u dw ak dx dy dz"><img class="cp t u dw ak ed ee ef" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/60/1*b2VG5SiOD2VhY-R_QK-04g.png?q=20" width="1857" height="862" role="presentation"/></div><img class="du dv cp t u dw ak eg" width="1857" height="862" role="presentation"/><noscript><img class="cp t u dw ak" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/3714/1*b2VG5SiOD2VhY-R_QK-04g.png" width="1857" height="862" role="presentation"/></noscript></div></div></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Our Sensor Network: 5 Sensor Nodes (nRF24L01) and 1 Collector Node (nRF24L01 + ESP8266 WiFi)</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah eo aj ak"><p id="c5f7" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">With this Sensor Network design, we <strong class="gy hu">keep the Sensor Nodes dead simple</strong>, and push the complex embedded software to the Collector Node, for easier <strong class="gy hu">troubleshooting and upgrading</strong>. If we upgrade to the <strong class="gy hu">nRF24L01+ with RF power amplifier</strong>, the Sensor Nodes can be as far as <strong class="gy hu">1 kilometre away</strong> from the Collector Node! (Subject to various conditions of course)</p><p id="d8e0" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">In this tutorial we’ll learn to <strong class="gy hu">set up this Sensor Network</strong> (refer to the diagram)…</p><p id="8781" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ One Blue Pill shall serve as the <strong class="gy hu">Sensor Node</strong>. Via the <strong class="gy hu">nRF24L01 network</strong>, the Sensor Node <strong class="gy hu">transmits the Temperature Sensor value</strong> every 10 seconds to another Blue Pill, the <strong class="gy hu">Collector Node</strong>.</p><p id="977c" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ Another Blue Pill shall serve as the <strong class="gy hu">Collector Node</strong>. Via the nRF24L01 network, the Collector Node shall receive the Temperature Sensor value from the Sensor Node.</p><p id="f960" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">3️⃣ Via the <strong class="gy hu">ESP8266 WiFi network</strong>, the Collector Node shall transmit the Temperature Sensor value to the <strong class="gy hu">CoAP Server at thethings.io</strong>. So that the sensor data may be transformed, recorded and visualised at thethings.io.</p><p id="2109" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">By the end of the tutorial, we’ll have a Sensor Network like this running on two Blue Pills with nRF24L01 and ESP8266…</p></div></div><div class="cz"><div class="n p"><div class="da db dc dd de df ag dg ah dh aj ak"><figure class="hx hy hz ia ib cz"><div class="ea r ds"><div class="iu r"><iframe src="https://web.archive.org/web/20191204194039if_/https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F9ikpdsu97KU%3Ffeature%3Doembed&amp;url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D9ikpdsu97KU&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2F9ikpdsu97KU%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube" allowfullscreen="" frameborder="0" height="480" width="640" title="Mynewt Sensor Network with STM32 Blue Pill, nRF24L01, ESP8266 and thethings.io" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Demo of Sensor Network with two Blue Pills with nRF24L01 and ESP8266</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah eo aj ak"><blockquote class="iv iw ix"><p id="9603" class="gw gx er hv gy b gz ha hb hc hd he hf hg hh hi hj"><em class="bk">💎</em> <em class="bk">Sections marked with a diamond are meant for advanced developers. If you’re new to embedded programming, you may skip these sections</em></p></blockquote></div></div></section><hr class="iy en iz ja jb ek jc jd je jf jg"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah eo aj ak"><h1 id="1516" class="jh ji er bk bj jj jk jl jm jn jo jp jq jr js jt ju">Connect the Hardware</h1><p id="fc0a" class="gw gx er bk gy b gz jv hb jw hd jx hf jy hh jz hj">We’ll need the following hardware for <strong class="gy hu">one Collector Node</strong> and <strong class="gy hu">one Sensor Node</strong>…</p><p id="c5ba" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ <strong class="gy hu">Two </strong><a href="https://web.archive.org/web/20191204194039/http://wiki.stm32duino.com/index.php?title=Blue_Pill" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">Blue Pills</strong></a>, or two <a class="at cg io ip iq ir" target="_blank" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/super-blue-pill-like-stm32-blue-pill-but-better-6d341d9347da"><strong class="gy hu">Super Blue Pills</strong></a> which have onboard connectors for ESP8266 and nRF24L01…</p><div class="dj dk dl dm dn ka"><a rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/super-blue-pill-like-stm32-blue-pill-but-better-6d341d9347da?source=post_page-----ca7486523f5d----------------------"><section class="kd cl cm ak ce n ar ke kf kg kh ki kj kk kl km kn ko kp kq kr ks"><div class="kt n co p ku kv"><h2 class="bj jj kw bl er"><div class="dx kb ft fu kc fw">Super Blue Pill — Like STM32 Blue Pill, But Better!</div></h2><div class="kx r"><h3 class="bj en eh bl bo"><div class="dx kb ft fu kc fw">Friendlier for newbies, supports ESP8266 WiFi and nRF24L01</div></h3></div><div class="ky r"><h4 class="bj en gl bl bo"><div class="dx kb ft fu kc fw">medium.com</div></h4></div></div><div class="kz r"><div class="la r lb lc ld kz le lf lg"></div></div></section></a></div><p id="cca4" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ <strong class="gy hu">Two ST-Link V2 USB Adapters </strong>(<a href="https://web.archive.org/web/20191204194039/https://www.lazada.sg/-i105322107-s106873847.html?urlFlag=true&amp;mp=1" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">or compatible</a>) for connecting the (Super) Blue Pills to your computers. Check <a class="at cg io ip iq ir" target="_blank" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d">the previous article</a> for the instructions on connecting the (Super) Blue Pills to ST-Link V2. (Look for the <a href="https://web.archive.org/web/20191204194039/https://cdn-images-1.medium.com/max/1120/1*XC9f49KW9neBDa762pfTTQ.png" class="at cg io ip iq ir" target="_blank" rel="noopener">ST-Link V2 photo</a>)</p><p id="5edb" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">3️⃣ <strong class="gy hu">Two Computers </strong>(Windows 10 or macOS)<strong class="gy hu"> </strong>for debugging the two (Super) Blue Pills</p><p id="39cb" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">4️⃣ <strong class="gy hu">One ESP8266 WiFi module</strong>. I tested with the <a href="https://web.archive.org/web/20191204194039/https://www.lazada.sg/-i281003794-s442063247.html?urlFlag=true&amp;mp=1&amp;spm=spm=a2o42.order_details.item_title.1" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">ESP-01S</a>.</p><p id="19fd" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">5️⃣ <strong class="gy hu">Two nRF24L01 RF modules</strong>. I used the <a href="https://web.archive.org/web/20191204194039/https://www.lazada.sg/-i288146861-s465579095.html?urlFlag=true&amp;mp=1" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">nRF24L01+</a>, which includes an RF power amplifier for longer range (up to 1 km).</p><figure class="hx hy hz ia ib cz eg ic cd id hl ie if ig ba ih ii ij ik il im paragraph-image"><div class="dq dr ds dt ak"><div class="cl cm lh"><div class="ea r ds eb"><div class="li r"><div class="du dv cp t u dw ak dx dy dz"><img class="cp t u dw ak ed ee ef" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/60/1*5DS-e1ek1Q7qfgKgF37GGg.jpeg?q=20" width="2512" height="2448" role="presentation"/></div><img class="du dv cp t u dw ak eg" width="2512" height="2448" role="presentation"/><noscript><img class="cp t u dw ak" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/5024/1*5DS-e1ek1Q7qfgKgF37GGg.jpeg" width="2512" height="2448" role="presentation"/></noscript></div></div></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Super Blue Pill with ESP8266 (left) and nRF24L01 (right)</figcaption></figure><p id="fce7" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><strong class="gy hu"><em class="hv">If you have two Super Blue Pills…</em></strong></p><p id="fe9b" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><strong class="gy hu">Collector Node</strong>: Plug both <strong class="gy hu">ESP8266 </strong>and <strong class="gy hu">nRF24L01 </strong>modules into the onboard connectors of a Super Blue Pill.</p><p id="eb3b" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><strong class="gy hu">Sensor Node</strong>: Plug the <strong class="gy hu">nRF24L01</strong> module into the onboard connector of the other Super Blue Pill.</p><figure class="hx hy hz ia ib cz cl cm paragraph-image"><div class="dq dr ds dt ak"><div class="cl cm lj"><div class="ea r ds eb"><div class="lk r"><div class="du dv cp t u dw ak dx dy dz"><img class="cp t u dw ak ed ee ef" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/60/1*pmGFQ2cRpqypaNDM1UYwEw.png?q=20" width="1800" height="50" role="presentation"/></div><img class="du dv cp t u dw ak eg" width="1800" height="50" role="presentation"/><noscript><img class="cp t u dw ak" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/3600/1*pmGFQ2cRpqypaNDM1UYwEw.png" width="1800" height="50" role="presentation"/></noscript></div></div></div></div></figure><figure class="ej cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/8eef2d24e5da71d3096369f304531850" allowfullscreen="" frameborder="0" height="0" width="0" title="bluepill-esp8266.md" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Connect Blue Pill to ESP8266</figcaption></figure><figure class="lq cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/fa81250d569c19e7307f5351eeafb7af" allowfullscreen="" frameborder="0" height="0" width="0" title="bluepill-nrf24l01.md" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Connect Blue Pill to nRF24L01</figcaption></figure><p id="e239" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><strong class="gy hu"><em class="hv">If you have two older Blue Pills…</em></strong></p><p id="eb70" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><strong class="gy hu">Collector Node</strong>: Using a breadboard, connect a Blue Pill to the <strong class="gy hu">ESP8266</strong> and <strong class="gy hu">nRF24L01</strong> modules as shown.</p><p id="7725" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><strong class="gy hu">Sensor Node</strong>: Using a breadboard, connect the other Blue Pill to the <strong class="gy hu">nRF24L01</strong> module as shown.</p></div></div></section><hr class="iy en iz ja jb ek jc jd je jf jg"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah eo aj ak"><h1 id="19ba" class="jh ji er bk bj jj jk jl jm jn jo jp jq jr js jt ju">Download, Configure, Build and Run</h1><p id="5dbb" class="gw gx er bk gy b gz jv hb jw hd jx hf jy hh jz hj">On <strong class="gy hu">both computers</strong>, follow the instructions in <a class="at cg io ip iq ir" target="_blank" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d">the previous tutorial</a> under the sections below to download, configure, build and run the Blue Pill application…</p><p id="dae5" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ Section <em class="hv">“</em><strong class="gy hu"><em class="hv">Download Source Code</em></strong><em class="hv">” </em>of <a class="at cg io ip iq ir" target="_blank" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d">the previous tutorial</a>. If you have previously downloaded <code class="eb lr ls lt lu b">stm32bluepill-mynewt-sensor</code><strong class="gy hu">, </strong>rename the old folder before downloading.</p><p id="2283" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ Section <em class="hv">“</em><strong class="gy hu"><em class="hv">Configure WiFi Settings</em></strong><em class="hv">” </em>of <a class="at cg io ip iq ir" target="_blank" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d">the previous tutorial</a></p><p id="d21f" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">3️⃣ Section <em class="hv">“</em><strong class="gy hu"><em class="hv">Build The Application</em></strong><em class="hv">” </em>of <a class="at cg io ip iq ir" target="_blank" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d">the previous tutorial</a></p><p id="750b" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">4️⃣ Section <em class="hv">“</em><strong class="gy hu"><em class="hv">Run The Application</em></strong><em class="hv">” </em>of <a class="at cg io ip iq ir" target="_blank" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d">the previous tutorial</a></p><p id="c504" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">When the Collector Node and Sensor Node are communicating correctly, you should see messages like these…</p><p id="b593" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/logs/collector-node.log" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">Sample log for <strong class="gy hu">Collector Node</strong></a></p><p id="d3d5" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/logs/sensor-node.log" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">Sample log for <strong class="gy hu">Sensor Node</strong></a></p><p id="b5e6" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">However the Collector and Sensor Nodes won’t operate correctly yet… There’s a list of <strong class="gy hu">Hardware IDs that you need to populate in the settings file</strong>, due to the way network addresses are allocated in nRF24L01 networks. Read on to learn more…</p></div></div></section><hr class="iy en iz ja jb ek jc jd je jf jg"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah eo aj ak"><h1 id="089e" class="jh ji er bk bj jj jk jl jm jn jo jp jq jr js jt ju">Sensor Network Addresses</h1><p id="bde3" class="gw gx er bk gy b gz jv hb jw hd jx hf jy hh jz hj">Unlike complicated WiFi networks that dynamically allocate IP addresses, nRF24L01 networks are so simple that we need to <strong class="gy hu">allocate the addresses ourselves</strong>.</p><p id="0f93" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><em class="hv">How does the Collector Node know which Sensor Node sent the temperature data?</em> Each Sensor Node is distinguished from the other 4 Sensor Nodes by an <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L66-L74" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">8-bit address that we allocate to each Sensor Node</strong></a>. For the demo we’re using these addresses (in hexadecimal) for the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L77-L91" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">5 Sensor Nodes</a> (derived from the <a href="https://web.archive.org/web/20191204194039/https://www.sparkfun.com/datasheets/Components/nRF24L01_prelim_prod_spec_1_2.pdf" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">sample configuration in the datasheet</a>)…</p><pre class="hx hy hz ia ib lv lw lx"><span id="05b8" class="ly ji er bk lu b eh lz ma r mb">Sensor Node Addresses (last byte): F1, CD, A3, 0F and 05</span></pre><blockquote class="iv iw ix"><p id="89db" class="gw gx er hv gy b gz ha hb hc hd he hf hg hh hi hj"><em class="bk">💎 </em>nRF24L01 operates in the crowded licence-free 2.4 GHz frequency band (shared with WiFi, Bluetooth and microwave ovens). The above 5 bytes, which contain as many different bits as possible, were chosen so that we could detect (and reject) packet addresses that have been corrupted due to RF interference.</p></blockquote><p id="21f2" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><em class="hv">What if our neighbour decides to set up their own nRF24L01 Sensor Network?</em> To prevent address collisions, we distinguish each Sensor Network by allocating a <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L57-L62" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">unique 32-bit (4-byte) network address</strong></a>. For the demo we’re using <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L74-L76" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">this network address</a>…</p><pre class="hx hy hz ia ib lv lw lx"><span id="9e62" class="ly ji er bk lu b eh lz ma r mb">Sensor Network Address (four bytes): B3-B4-B5-B6</span></pre><p id="82bf" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">When we combine the Sensor Network Address with the Sensor Node Address, we get <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L63-L74" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">5 unique node address</a>, each containing 5 bytes…</p><pre class="hx hy hz ia ib lv lw lx"><span id="67ea" class="ly ji er bk lu b eh lz ma r mb">Sensor Node 1 Full Address: B3-B4-B5-B6-F1<br/>Sensor Node 2 Full Address: B3-B4-B5-B6-CD<br/>Sensor Node 3 Full Address: B3-B4-B5-B6-A3<br/>Sensor Node 4 Full Address: B3-B4-B5-B6-0F<br/>Sensor Node 5 Full Address: B3-B4-B5-B6-05</span></pre><p id="3bcc" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Which we may interpret as the 5 statically-allocated “IP Addresses” for each Sensor Node in our nRF24L01 network.</p></div></div><div class="cz"><div class="n p"><div class="da db dc dd de df ag dg ah dh aj ak"><figure class="hx hy hz ia ib cz do dp paragraph-image"><div class="dq dr ds dt ak"><div class="cl cm mc"><div class="ea r ds eb"><div class="md r"><div class="du dv cp t u dw ak dx dy dz"><img class="cp t u dw ak ed ee ef" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/60/1*9mnOCWrCRilhHxLHNA-xBg.png?q=20" width="1905" height="1401" role="presentation"/></div><img class="du dv cp t u dw ak eg" width="1905" height="1401" role="presentation"/><noscript><img class="cp t u dw ak" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/3810/1*9mnOCWrCRilhHxLHNA-xBg.png" width="1905" height="1401" role="presentation"/></noscript></div></div></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Collector and Sensor Node Addresses</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah eo aj ak"><p id="d23b" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><em class="hv">What about the Collector Node?</em> We’re free to allocate any unique <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L57-L62" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">5-byte node address</a>. (No need to share the same 4 bytes of the Sensor Network Address as the other nodes) <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L71-L73" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">For the demo</a>, we’re using…</p><pre class="hx hy hz ia ib lv lw lx"><span id="d89e" class="ly ji er bk lu b eh lz ma r mb">Collector Node Address (five bytes): 78-78-78-78-78</span></pre><figure class="hx hy hz ia ib cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/e1ab46f56fb2a0e57a09b46dc1b0f6f8" allowfullscreen="" frameborder="0" height="0" width="0" title="nrf24l01-config.yml" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">nRF24L01 Settings. From <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L66-L91" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L66-L91</a></figcaption></figure><p id="2381" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">If you need to configure the nRF24L01 addresses to avoid conflicts with nearby nRF24L01 networks, edit the settings in <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L66-L91" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">targets/bluepill_my_sensor/syscfg.yml</a></code></p></div></div></section><hr class="iy en iz ja jb ek jc jd je jf jg"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah eo aj ak"><h1 id="6684" class="jh ji er bk bj jj jk jl jm jn jo jp jq jr js jt ju">Assigning Network Addresses Automatically</h1><p id="0ffe" class="gw gx er bk gy b gz jv hb jw hd jx hf jy hh jz hj">Each Sensor Network can have 1 Collector Node and up to 5 Sensor Nodes. So we may need to assign 6 addresses manually to each of the 6 nodes. Does this mean we need to <em class="hv">create 6 different ROM images for flashing</em>, each with a different address inside? Nope, there’s an easier way!</p><p id="a34f" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Inside every Blue Pill is a <strong class="gy hu">unique 12-byte Hardware ID</strong> that’s burned in during manufacturing. I have provided a <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/master/libs/sensor_network" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">Sensor Network Library</strong></a> that…</p><p id="b5a2" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L326-L336" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">Reads the Blue Pill’s Hardware ID</a> (by calling Mynewt’s <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://mynewt.apache.org/latest/os/modules/hal/hal_bsp/hal_bsp.html#c.hal_bsp_hw_id" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">hal_bsp_hw_id</a>()</code> API)</p><p id="bf37" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L336-L348" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">Matches the Hardware ID</a> against a configurable list of Hardware IDs for the Collector and Sensor Nodes</p><p id="256d" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">3️⃣ And <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L338-L342" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">assigns the respective addresses</a> for the Collector and Sensor Nodes.</p><figure class="hx hy hz ia ib cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/a9e2c1ffa6dbde4c4712aa629d717e6c" allowfullscreen="" frameborder="0" height="0" width="0" title="hardware-id.yml" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Hardware ID settings. From <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L44-L65" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L44-L65</a></figcaption></figure><p id="c2dc" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">All you need to do is to fill in the list of Hardware IDs for your Blue Pills in <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L44-L65" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">targets/bluepill_my_sensor/syscfg.yml</a></code>…</p><p id="e411" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">To discover the Hardware ID for your Blue Pill, start the debugger and watch out for this message at startup…</p><pre class="hx hy hz ia ib lv lw lx"><span id="260a" class="ly ji er bk lu b eh lz ma r mb">NET hwid 57 ff 6a 06 78 78 54 50 49 29 24 67</span></pre><p id="6813" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">When updating the settings, convert the Hardware ID into a hexadecimal list like this…</p><pre class="hx hy hz ia ib lv lw lx"><span id="9797" class="ly ji er bk lu b eh lz ma r mb">0x57, 0xff, 0x6a, 0x06, 0x78, 0x78, 0x54, 0x50, 0x49, 0x29, 0x24, 0x67</span></pre><p id="b2b3" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Rebuild the application and restart the debugger. At startup, watch for <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L326-L347" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">one of these messages</a> that indicates the type of node…</p><pre class="hx hy hz ia ib lv lw lx"><span id="307c" class="ly ji er bk lu b eh lz ma r mb">NET collector node<br/>NET sensor node #1</span></pre><p id="3a82" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">If you see <code class="eb lr ls lt lu b">NET standalone node</code> it means that the program <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L242-L268" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">was unable to match your Hardware ID</a> with any Collector or Sensor Hardware IDs. Verify the list of Hardware IDs in <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L44-L65" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">targets/bluepill_my_sensor/syscfg.yml</a></code></p><p id="ceb3" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">So only <strong class="gy hu">ONE version of the ROM image</strong> (containing all 6 Hardware IDs and node addresses) needs to be flashed to all 6 Blue Pills. So easy to deploy and upgrade. <em class="hv">The rest happens automatically… like magic!</em></p><blockquote class="iv iw ix"><p id="3f53" class="gw gx er hv gy b gz ha hb hc hd he hf hg hh hi hj"><em class="bk">💎 </em>When we build only one ROM image for all Collector and Sensor Nodes, it means that the same code is present on ALL nodes. Depending on the Hardware ID, some parts of the code are disabled at runtime. This also means that we need to squeeze all code into the 64 KB ROM limit. More about this in a while…</p></blockquote></div></div></section><hr class="iy en iz ja jb ek jc jd je jf jg"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah eo aj ak"><h1 id="cfb0" class="jh ji er bk bj jj jk jl jm jn jo jp jq jr js jt ju">Mynewt Driver for Remote Sensors</h1><figure class="hx hy hz ia ib cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/0e877c3b3b8823edb0d72ca44b3648ca" allowfullscreen="" frameborder="0" height="0" width="0" title="start_sensor_listener.c" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Calling Mynewt’s Sensor Framework to poll a sensor. From <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/listen_sensor.c#L46-L76" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/listen_sensor.c#L46-L76</a></figcaption></figure><p id="2258" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Mynewt has an excellent <a href="https://web.archive.org/web/20191204194039/https://mynewt.apache.org/latest/os/modules/sensor_framework/sensor_framework.html" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">Sensor Framework</strong></a> that’s perfect for integrating IoT devices with sensors.</p><p id="d786" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">No need to code our own background task to poll the sensor periodically (like our temperature sensor) and to process the sensor data… Just tell the Sensor Framework <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/listen_sensor.c#L46-L76" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">which sensor to poll and how often</strong></a>!</p><p id="8c22" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Mynewt triggers our <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/listen_sensor.c#L109-L152" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">Listener Function</strong></a> to process the sensor data that has been polled.</p><p id="dd49" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><em class="hv">But our new Sensor Network is complicated</em>. On the Collector Node, Mynewt is blissfully unaware about the Sensor Nodes that are periodically transmitting sensor data to the Collector Node.<em class="hv"> Can we tell Mynewt about the Sensor Nodes and their attached sensors?</em></p><figure class="hx hy hz ia ib cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/716dd4e099613c3a76f8dd71ddb39b99" allowfullscreen="" frameborder="0" height="0" width="0" title="remote-sensor-type.yml" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Declaring a Remote Sensor Type for the Raw Temperature Sensor. From <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L135-L155" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L135-L155</a></figcaption></figure><p id="6138" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Yes, with the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/master/libs/remote_sensor" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">Remote Sensor Driver</strong></a> that I have provided! When installed on the Collector Node, the Remote Sensor Driver enables Sensor Nodes (and attached sensors) to <strong class="gy hu">masquerade as locally-attached sensors</strong>!</p><p id="a4ed" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The above <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L135-L155" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">Remote Sensor Configuration</strong></a> tells Mynewt about a <strong class="gy hu">Raw Temperature Sensor Type</strong> that’s attached to a Sensor Node (<code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L135-L155" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">targets/bluepill_my_sensor/syscfg.yml</a></code>)…</p><p id="56dd" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ <code class="eb lr ls lt lu b"><strong class="gy hu">temp_raw</strong></code> is the name of the Raw Temperature Sensor Type. This is an integer value (0 to 4095) that’s provided by the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/master/libs/temp_stm32" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">Blue Pill Internal Temperature Sensor</a> (<a class="at cg io ip iq ir" target="_blank" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d">described in my previous article</a>).</p><p id="f358" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ <code class="eb lr ls lt lu b"><strong class="gy hu">t</strong></code> is the field name that appears in the message transmitted by the Sensor Node. The message looks like <code class="eb lr ls lt lu b">{ &quot;t&quot;: 1745 }</code></p><p id="bb96" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">3️⃣ <code class="eb lr ls lt lu b"><strong class="gy hu">strd</strong></code> is the <code class="eb lr ls lt lu b">union</code> type that shall store the sensor value in memory. This follows Mynewt’s Sensor Framework convention of <a href="https://web.archive.org/web/20191204194039/https://mynewt.apache.org/latest/os/modules/sensor_framework/sensor_api.html#c.sensor_data_t" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">using a </a><code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://mynewt.apache.org/latest/os/modules/sensor_framework/sensor_api.html#c.sensor_data_t" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">union</a></code><a href="https://web.archive.org/web/20191204194039/https://mynewt.apache.org/latest/os/modules/sensor_framework/sensor_api.html#c.sensor_data_t" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"> to store each type of sensor value</a>. <code class="eb lr ls lt lu b">strd</code> is defined in <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/custom_sensor/include/custom_sensor/custom_sensor.h" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">libs/custom_sensor/include/custom_sensor/custom_sensor.h</a></code></p><p id="c328" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">4️⃣ <code class="eb lr ls lt lu b"><strong class="gy hu">AMBIENT_TEMPERATURE_RAW</strong></code> is the unique Sensor Type ID for the Raw Temperature Sensor Type. Mynewt’s Sensor Framework uses the <a href="https://web.archive.org/web/20191204194039/https://mynewt.apache.org/latest/os/modules/sensor_framework/sensor_api.html#c.SensorAPI::sensor_type_t" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">Sensor Type ID</a> to discover which Sensor Drivers can return values of each Sensor Type. <code class="eb lr ls lt lu b">AMBIENT_TEMPERATURE_RAW</code> is defined in <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/custom_sensor/include/custom_sensor/custom_sensor.h" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">libs/custom_sensor/include/custom_sensor/custom_sensor.h</a></code></p><p id="b230" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">5️⃣ The last 2 settings declare whether the sensor provides integer (<code class="eb lr ls lt lu b"><strong class="gy hu">INT</strong></code>) or double-precision floating-point (<code class="eb lr ls lt lu b"><strong class="gy hu">DOUBLE</strong></code>) sensor values.</p><figure class="hx hy hz ia ib cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/d970ea03e964c9ea9800758c61639856" allowfullscreen="" frameborder="0" height="0" width="0" title="start_remote_sensor_listeners.c" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Starting the Remote Sensor Listeners. From <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/listen_sensor.c#L77-L108" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/listen_sensor.c#L77-L108</a></figcaption></figure><p id="1b85" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Once we declare the Remote Sensor Type for the remote temperature sensor (<a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/listen_sensor.c#L77-L108" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">and start the Remote Sensor Listeners</a>), we may program the sensor as though it were a local temperature sensor… <em class="hv">Mynewt’s familiar Sensor Framework works exactly the same way!</em></p><p id="a553" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Just provide a <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/listen_sensor.c#L109-L152" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">Listener Function</a> and Mynewt will helpfully <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/remote_sensor/src/route_coap.c#L64-L148" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">trigger the function whenever it receives sensor data from the Sensor Nodes</a>.</p><p id="25d4" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Programming with Distributed IoT sensors becomes fun and easy, with this simple Remote Sensor Driver for Mynewt that converts a Remote Sensor into a Local Sensor. Now we understand why we adopted a multitasking realtime operating system like Mynewt… because without Mynewt, the Collector Node can’t possibly <strong class="gy hu">receive and send sensor messages over two different networks</strong> <strong class="gy hu">simultaneously</strong>.</p></div></div></section><hr class="iy en iz ja jb ek jc jd je jf jg"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah eo aj ak"><h1 id="88d2" class="jh ji er bk bj jj jk jl jm jn jo jp jq jr js jt ju">Packaging and shipping Sensor Data</h1><p id="0b22" class="gw gx er bk gy b gz jv hb jw hd jx hf jy hh jz hj">Remember earlier we declared that Sensor Nodes should be kept dead simple, using a simple network (nRF24L01) and a simple deployment method (only ONE ROM image!) The Sensor Data needs to be kept simple too…</p><p id="a0d9" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ <strong class="gy hu">Eliminate all floating-point code</strong>: On Blue Pill, we pay a hefty price for any computation involving floating-point (decimal) numbers. Even calculating a simple temperature like “28.9 degrees Celsius” will require a huge chunk of floating-point code (from the standard math library) to be embedded in ROM. Which inflates the ROM size, bloating beyond the 64 KB limit.</p><p id="e6ca" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">In this demo we transmit the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/temp_stm32/include/temp_stm32/temp_stm32.h#L35-L48" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">raw temperature values as integers</a> (directly from <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/temp_stm32/src/temp_stm32.c#L142-L183" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">Blue Pill’s Analogue-to-Digital Converter</a>) instead of the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/temp_stm32/src/temp_stm32.c#L184-L209" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">computed floating-point temperature</a> values (<a class="at cg io ip iq ir" target="_blank" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d">like in the previous tutorial</a>). The integer sensor values are transmitted from the Sensor Node to the Collector Node, and also from the Collector Node to the CoAP Server.</p><p id="df2f" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The raw temperature values are <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/transform.js" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">converted into floating-point</a> only upon reaching the CoAP Server at thethings.io. So that we could visualise the temperature properly as “28.9 degrees Celsius” instead of <code class="eb lr ls lt lu b">1745</code>.</p><p id="4266" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">No more floating-point bloat in our ROM!</p><p id="40ec" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ <strong class="gy hu">Compact CBOR encoding instead of JSON</strong>: Our Collector Node transmits the raw temperature to the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L115-L118" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">CoAP Server with JSON encoding</a>, which is accepted by all CoAP Servers…</p><pre class="hx hy hz ia ib lv lw lx"><span id="59cb" class="ly ji er bk lu b eh lz ma r mb">{ &quot;t&quot;: 1745 }</span></pre><p id="9551" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">During the JSON transmission we preserve the sensor field name <code class="eb lr ls lt lu b">&quot;t&quot;</code> so that it’s easier to visualise the sensor data and execute rules on the CoAP Server (like thethings.io).</p><p id="3a47" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">But JSON bloats our sensor data messages — we need <strong class="gy hu">10 data bytes</strong> to transmit the simple message above. Hence our Sensor Network demo uses <a href="https://web.archive.org/web/20191204194039/https://en.wikipedia.org/wiki/CBOR" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">CBOR encoding</strong></a>, a compressed, binary version of JSON. And it’s natively supported by Mynewt.</p><p id="b96d" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Between the Sensor Node and the Collector Node, we <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L115-L118" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">encode sensor data messages in CBOR format</a> instead of JSON. Which requires only <strong class="gy hu">6 data bytes</strong> instead of 10 bytes for the above example!</p><p id="b62f" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">By adopting CBOR as the message format in the local Sensor Network, we also simplify the design of the Remote Sensor Driver. The driver only needs to <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/remote_sensor/src/route_coap.c#L149-L176" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">decode incoming CBOR messages</a>, and <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/remote_sensor/src/route_coap.c#L109-L148" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">trigger the right Listener Function</a>. The Remote Sensor Driver <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/remote_sensor/src/remote_sensor.c#L85-L96" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">selects the Listener Function</a> based on the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/remote_sensor/src/sensor_type_desc.h#L31-L46" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">sensor field name </a><code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/remote_sensor/src/sensor_type_desc.h#L31-L46" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">&quot;t&quot;</a></code></p><blockquote class="iv iw ix"><p id="9e40" class="gw gx er hv gy b gz ha hb hc hd he hf hg hh hi hj"><em class="bk">💎 </em>Mynewt natively encodes CoAP messages using CBOR encoding. We <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/nrf24l01/src/transport.cpp#L89-L128" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">discard the CoAP Header</a>, keeping only the CoAP Payload in CBOR, which occupies 6 data bytes. An additional byte <code class="eb lr ls lt lu b">0xff</code> is added by Mynewt as the payload terminator. The final byte of the nRF24L01 message is the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/nrf24l01/src/transport.cpp#L110-L112" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">message counter</a>, useful for detecting missing messages.</p><p id="0282" class="gw gx er hv gy b gz ha hb hc hd he hf hg hh hi hj">nRF24L01 messages can be up to 32 bytes in length. But for the demo we have <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/nrf24l01/src/transport.cpp#L113-L116" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">fixed the message length as 12 bytes</a>. It’s big enough to transmit 2 sensor values, yet small enough to reduce the risk of RF interference and allow farther transmission distances. To change the message length, edit the <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L110-L112" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">NRF24L01_TX_SIZE</a></code> setting in <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L110-L112" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">targets/bluepill_my_sensor/syscfg.yml</a></code></p></blockquote></div></div></section><hr class="iy en iz ja jb ek jc jd je jf jg"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah eo aj ak"><h1 id="0eaa" class="jh ji er bk bj jj jk jl jm jn jo jp jq jr js jt ju">Selecting JSON or CBOR Encoding</h1><p id="be5f" class="gw gx er bk gy b gz jv hb jw hd jx hf jy hh jz hj">Now that we have two formats for encoding sensor data…</p><p id="6191" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L115-L118" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">CBOR Encoding</strong></a> from Sensor Node to Collector Node (via nRF24L01)</p><p id="8566" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L115-L118" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">JSON Encoding</strong></a> from Collector Node to CoAP Server (via ESP8266)</p><p id="b029" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><em class="hv">Does this make Blue Pill device programming twice as difficult?</em></p><p id="a69d" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Not at all! The Sensor Network Library hides the encoding details inside high-level functions that we may call to compose and transmit messages…</p><p id="84a3" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">0️⃣ Previously we called <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_coap/src/sensor_coap.c#L156-L186" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">init_sensor_post</strong></a>() … <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_coap/src/sensor_coap.c#L187-L193" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">do_sensor_post</strong></a>()</code> to send CoAP messages to the CoAP Server via the ESP8266 Network Transport (from the ESP8266 Network Driver)</p><p id="cf2a" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ Now we call <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L175-L185" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">init_collector_post</strong></a>() … <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L222-L231" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">do_collector_post</strong></a>()</code> to send messages to the Collector Node via the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/nrf24l01/src/transport.cpp#L89-L157" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">nRF24L01 Network Transport</a> (from the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/master/libs/nrf24l01" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">nRF24L01 Network Driver</a>)</p><p id="9761" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ And we call <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L165-L174" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">init_server_post</strong></a>() … <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L212-L221" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">do_server_post</strong></a>()</code> to send messages to the CoAP Server via the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/esp8266/src/transport.cpp#L102-L131" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">ESP8266 Network Transport</a> (from the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/master/libs/esp8266" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">ESP8266 Network Driver</a>)</p><p id="c7b8" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/master/libs/nrf24l01" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">nRF24L01 Network Driver</strong></a> was <a href="https://web.archive.org/web/20191204194039/https://os.mbed.com/users/Owen/code/nRF24L01P/file/8ae48233b4e4/nRF24L01P.cpp/" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">ported from mbed</a> to Mynewt. The driver settings may be found in <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/syscfg.yml#L92-L134" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">targets/bluepill_my_sensor/syscfg.yml</a></code></p><p id="9f2c" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The nRF24L01 driver is connected to the SPI port and supports simple <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/nrf24l01/include/nrf24l01/nrf24l01.h#L84-L104" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">transmit and receive functions</a>. There’s no need to call the nRF24L01 functions directly — the Sensor Network Library calls them when <code class="eb lr ls lt lu b">do_collector_post()</code> is invoked.</p><p id="5cd1" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The nRF24L01 driver <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/nrf24l01/src/driver.cpp#L250-L271" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">handles interrupts</a> raised by the nRF24L01 module when data has been received (so no polling is needed). The driver calls the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/remote_sensor/src/route_coap.c#L64-L108" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">Receive Callback Function</a> provided by the Remote Sensor Library. The callback function decodes the CBOR message and forwards it to the Remote Sensor Listener Function.</p><p id="71c6" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The <strong class="gy hu">ESP8266 Network Driver</strong> is connected to the UART port. It has been covered in detail in <a class="at cg io ip iq ir" target="_blank" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d">the previous tutorial</a>.</p><figure class="hx hy hz ia ib cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/e48275091e51ce0368c766c7ca9220ee" allowfullscreen="" frameborder="0" height="0" width="0" title="send_sensor_data.c" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">Using CP macros to compose messages for Collector Node and CoAP Server. From <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/send_coap.c#L182-L222" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/send_coap.c#L182-L222</a></figcaption></figure><p id="a696" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Composing messages with the macros <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_coap/include/sensor_coap/sensor_coap.h#L289-L324" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">CP_ITEM_STR</a>(), <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_coap/include/sensor_coap/sensor_coap.h#L289-L324" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">CP_ITEM_FLOAT</a>(), … </code>works exactly like before. The right encoding (CBOR or JSON) is automatically selected when we call <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L186-L195" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">init_collector_post</a>()</code> and <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L186-L195" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">init_server_post</a>()</code></p><p id="0e8d" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">To allow easier passing and encoding of Sensor Values, we have created a <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_coap/include/sensor_coap/sensor_coap.h#L11-L20" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">sensor_value</strong></a> struct</code> that contains one Sensor Key (e.g. <code class="eb lr ls lt lu b">&quot;t&quot;</code> for raw temperature) and one Sensor Value (<code class="eb lr ls lt lu b">int</code> or <code class="eb lr ls lt lu b">float</code>). New macros have been created to add a <code class="eb lr ls lt lu b">sensor_value</code> to a message: <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_coap/include/sensor_coap/sensor_coap.h#L230-L235" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">CP_SET_INT_VAL</a>(), <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_coap/include/sensor_coap/sensor_coap.h#L236-L241" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">CP_SET_FLOAT_VAL</a>(), <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_coap/include/sensor_coap/sensor_coap.h#L262-L267" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">CP_ITEM_INT_VAL</a>(), <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_coap/include/sensor_coap/sensor_coap.h#L268-L273" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">CP_ITEM_FLOAT_VAL</a>()</code>.</p><p id="c025" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The new macros are used in <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/send_coap.c#L113-L224" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">apps/my_sensor_app/src/send_coap.c</a></code> to compose <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/send_coap.c#L182-L224" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">Collector Node messages</a> and <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/apps/my_sensor_app/src/send_coap.c#L113-L181" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">CoAP Server messages</a>. All macros have been updated to <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_coap/include/sensor_coap/sensor_coap.h#L140-L218" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">support both CBOR and JSON encoding</a>, selected at runtime (instead of compile-time).</p><p id="c3d5" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The Sensor Network Library brings us one step closer to the vision of <strong class="gy hu">Network-Agnostic IoT</strong>… Doesn’t matter whether our devices are connected via ESP8266 or nRF24L01, <em class="hv">the same code still works</em>! The <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/README.md" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">Sensor Network Library</a>…</p><p id="a135" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L326-L348" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">Assigns network addresses</strong></a> (nRF24L01)<strong class="gy hu"> </strong>based on one common ROM image</p><p id="691b" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/include/sensor_network/sensor_network.h#L82-L117" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">Provides generic functions</strong></a> to perform operations on network interfaces, like <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L222-L231" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">do_collector_post</a>()</code> and <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L212-L221" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">do_server_post</a>()</code></p><p id="3050" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">3️⃣ <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L186-L195" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">Selects message encoding</strong></a> (CBOR or JSON) based on the destination of the message (Collector Node vs CoAP Server)</p><p id="8eab" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">4️⃣ <strong class="gy hu">Enforces a standard data format</strong> (CoAP JSON) for aggregating and encoding sensor data when transmitting sensor data to the IoT Server for processing</p><p id="555a" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">We’ll now learn how thethings.io may be used to process the standardised sensor data.</p><blockquote class="iv iw ix"><p id="c8e4" class="gw gx er hv gy b gz ha hb hc hd he hf hg hh hi hj"><em class="bk">💎 </em>The Sensor Network Library is clearly able to transmit sensor data locally (nRF24L01) and over internet (ESP8266)… yet the library has <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/pkg.yml#L29-L33" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">no dependencies on the nRF24L01 and ESP8266 drivers</a>! This was done with a programming trick known as “<a href="https://web.archive.org/web/20191204194039/https://en.wikipedia.org/wiki/Inversion_of_control" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">Inversion of Control</a>” — the <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/libs/sensor_network/src/sensor_network.c#L349-L360" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">network drivers register themselves</a> with the Sensor Network library, not the other way around.</p><p id="13c2" class="gw gx er hv gy b gz ha hb hc hd he hf hg hh hi hj">This enables the Sensor Network Library to be truly Network Agnostic. The Sensor Network Library will support many other network adapters and network protocols in future: NB-IoT, LoRa, Sigfox, Zigbee, Bluetooth, …</p></blockquote></div></div></section><hr class="iy en iz ja jb ek jc jd je jf jg"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah eo aj ak"><h1 id="7071" class="jh ji er bk bj jj jk jl jm jn jo jp jq jr js jt ju">Configuring the CoAP Server at thethings.io</h1><p id="ca3b" class="gw gx er bk gy b gz jv hb jw hd jx hf jy hh jz hj"><a href="https://web.archive.org/web/20191204194039/https://thethings.io/" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">thethings.io</a> is an excellent example of a modern hosted IoT server that’s capable of processing the CoAP standard-based sensor data transmitted by our Collector Node. Follow the steps below to configure the CoAP Server at thethings.io and understand how the server can transform our sensor data (Raw Temperature to Computed Temperature) and visualise the data…</p><p id="4714" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ Follow the video below to sign up for a 14-day free trial account (no credit card needed) and to install three custom JavaScript programs for processing the data: <code class="eb lr ls lt lu b">forward_geolocate</code>, <code class="eb lr ls lt lu b">transform</code>, <code class="eb lr ls lt lu b">update_state</code>. The scripts are located here: <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/thethingsio-wifi-geolocation</a></code></p><p id="05d0" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Click <code class="eb lr ls lt lu b">CC</code> to view the instructions…</p><blockquote class="iv iw ix"><p id="89d7" class="gw gx er hv gy b gz ha hb hc hd he hf hg hh hi hj"><em class="bk">💎 </em>If you will be using WiFi Geolocation, copy the script <code class="eb lr ls lt lu b">geolocate.js</code> and install it as the Cloud Code Function named <code class="eb lr ls lt lu b">geolocate</code></p></blockquote></div></div><div class="cz"><div class="n p"><div class="da db dc dd de df ag dg ah dh aj ak"><figure class="hx hy hz ia ib cz"><div class="ea r ds"><div class="iu r"><iframe src="https://web.archive.org/web/20191204194039if_/https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F4KJiZMboaUg%3Ffeature%3Doembed&amp;url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D4KJiZMboaUg&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2F4KJiZMboaUg%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube" allowfullscreen="" frameborder="0" height="480" width="640" title="Transform sensor data with thethings.io (Part 1 of 3)" class="cp t u dw ak" scrolling="auto"></iframe></div></div></figure></div></div></div><div class="n p"><div class="ac ae af ag ah eo aj ak"><p id="c63e" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ The second video explains the steps for creating a dashboard that visualises the Raw Temperature transmitted by our Collector Node.</p><p id="2de2" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Click <code class="eb lr ls lt lu b">CC</code> to view the instructions…</p></div></div><div class="cz"><div class="n p"><div class="da db dc dd de df ag dg ah dh aj ak"><figure class="hx hy hz ia ib cz"><div class="ea r ds"><div class="iu r"><iframe src="https://web.archive.org/web/20191204194039if_/https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FszCHheKEC7I%3Ffeature%3Doembed&amp;url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DszCHheKEC7I&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FszCHheKEC7I%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube" allowfullscreen="" frameborder="0" height="480" width="640" title="Transform sensor data with thethings.io (Part 2 of 3)" class="cp t u dw ak" scrolling="auto"></iframe></div></div></figure></div></div></div><div class="n p"><div class="ac ae af ag ah eo aj ak"><p id="0fce" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">3️⃣ In the final video we verify that the Raw Temperature <code class="eb lr ls lt lu b">t</code> is transformed to Computed Temperature <code class="eb lr ls lt lu b">tmp</code> correctly. We visualise the Computed Temperature <code class="eb lr ls lt lu b">tmp</code> in the dashboard.</p><p id="9514" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Click <code class="eb lr ls lt lu b">CC</code> to view the instructions…</p></div></div><div class="cz"><div class="n p"><div class="da db dc dd de df ag dg ah dh aj ak"><figure class="hx hy hz ia ib cz"><div class="ea r ds"><div class="iu r"><iframe src="https://web.archive.org/web/20191204194039if_/https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FdMelHn4xTcM%3Ffeature%3Doembed&amp;url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DdMelHn4xTcM&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FdMelHn4xTcM%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube" allowfullscreen="" frameborder="0" height="480" width="640" title="Transform sensor data with thethings.io (Part 3 of 3)" class="cp t u dw ak" scrolling="auto"></iframe></div></div></figure></div></div></div><div class="n p"><div class="ac ae af ag ah eo aj ak"><p id="6af3" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">After configuring the demo in thethings.io, we now fully appreciate how a comprehensive end-to-end IoT solution may benefit us…</p><p id="3e57" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣<strong class="gy hu"> Gather raw sensor data</strong> efficiently from Sensor Nodes dispersed around a region, up to 1 km away</p><p id="010f" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ <strong class="gy hu">Aggregate and transmi</strong>t the raw sensor data to a standards-based IoT server (like thethings.io)</p><p id="3e10" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">3️⃣ <strong class="gy hu">Transform the raw sensor data</strong> to the final display format (e.g. degrees Celsius) at the IoT server</p><p id="c869" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">4️⃣ <strong class="gy hu">Visualise the transformed sensor data</strong> as realtime text and graphical displays</p></div></div></section><hr class="iy en iz ja jb ek jc jd je jf jg"/><section class="cu cv cw cx cy"><div class="cz"><div class="n p"><div class="da db dc dd de df ag dg ah dh aj ak"><figure class="hx hy hz ia ib cz do dp paragraph-image"><div class="dq dr ds dt ak"><div class="cl cm me"><div class="ea r ds eb"><div class="mf r"><div class="du dv cp t u dw ak dx dy dz"><img class="cp t u dw ak ed ee ef" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/60/1*1_2SW-GMeqlkUYwb6NRiTA.png?q=20" width="2069" height="1865" role="presentation"/></div><img class="du dv cp t u dw ak eg" width="2069" height="1865" role="presentation"/><noscript><img class="cp t u dw ak" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/4138/1*1_2SW-GMeqlkUYwb6NRiTA.png" width="2069" height="1865" role="presentation"/></noscript></div></div></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">thethings.io Cloud Code Trigger and Functions used in the demo</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah eo aj ak"><h1 id="b985" class="jh ji er bk bj jj jk mg jm mh jo mi jq mj js mk ju">Processing Sensor Data at thethings.io</h1><p id="2087" class="gw gx er bk gy b gz jv hb jw hd jx hf jy hh jz hj">With Network-Agnostic IoT, our Collector Node aggregates and transmits sensor data to the IoT Server in a standard format: <strong class="gy hu">CoAP JSON</strong>. This ensures that our sensor data can be <strong class="gy hu">easily processed, regardless of the network and server used</strong>. Here’s how we process the sensor data with the CoAP Server hosted at thethings.io…</p><p id="416e" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><code class="eb lr ls lt lu b"><strong class="gy hu">forward_geolocate</strong></code>, <code class="eb lr ls lt lu b"><strong class="gy hu">geolocate</strong></code>, <code class="eb lr ls lt lu b"><strong class="gy hu">transform</strong></code> and <code class="eb lr ls lt lu b"><strong class="gy hu">update_thing</strong></code> are the Cloud Code Trigger and Functions that we install at thethings.io to process the sensor data. They call one another like a Finite State Machine to perform WiFi geolocation, transform sensor values (raw temperature to computed temperature) and update the thing state…</p><figure class="hx hy hz ia ib cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/11f9518627eda4cf30d887eb94d7322b" allowfullscreen="" frameborder="0" height="0" width="0" title="forward-geolocate-trigger.js" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">forward_geolocate Cloud Code Trigger. From <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/forward_geolocate.js#L61-L122" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/forward_geolocate.js#L61-L122</a></figcaption></figure><p id="0d33" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/forward_geolocate.js" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">forward_geolocate</strong></a></code> is the Cloud Code Trigger that will receive any sensor data transmitted by our Collector Node over CoAP. This trigger allows us to intercept the sensor values and transform them.</p><p id="f317" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ <code class="eb lr ls lt lu b">forward_geolocate</code> checks whether the message contains any <code class="eb lr ls lt lu b">ssid</code> or <code class="eb lr ls lt lu b">rssi</code> (signal strength) fields.</p><p id="c1d3" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">If the <code class="eb lr ls lt lu b">ssid</code> and <code class="eb lr ls lt lu b">rssi</code> fields were found, it forwards the message to the Cloud Code Function <code class="eb lr ls lt lu b">geolocate</code> for processing.</p><p id="1e6a" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">This was the code from <a class="at cg io ip iq ir" target="_blank" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d">the previous tutorial</a> that performs WiFi Geolocation given a list of WiFi SSIDs their Signal Strength. <code class="eb lr ls lt lu b">geolocate</code> is not needed if you don’t use the WiFi Geolocation feature.</p><figure class="hx hy hz ia ib cz cl cm paragraph-image"><div class="dq dr ds dt ak"><div class="cl cm lj"><div class="ea r ds eb"><div class="lk r"><div class="du dv cp t u dw ak dx dy dz"><img class="cp t u dw ak ed ee ef" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/60/1*pmGFQ2cRpqypaNDM1UYwEw.png?q=20" width="1800" height="50" role="presentation"/></div><img class="du dv cp t u dw ak eg" width="1800" height="50" role="presentation"/><noscript><img class="cp t u dw ak" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/3600/1*pmGFQ2cRpqypaNDM1UYwEw.png" width="1800" height="50" role="presentation"/></noscript></div></div></div></div></figure><figure class="ej cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/3ce2a438a7b6020fc84111c8aa1830ef" allowfullscreen="" frameborder="0" height="0" width="0" title="geolocate-main.js" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">geolocate Cloud Code Function. From <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/geolocate.js#L66-L114" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/geolocate.js#L66-L114</a></figcaption></figure><p id="464c" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">3️⃣ If WiFi Geolocation is enabled, Cloud Code Function <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/geolocate.js" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">geolocate</strong></a></code> passes the WiFi SSID and Signal Strength info to the Google WiFi Geolocation API. This info was obtained from the ESP8266 scanning nearby WiFI networks.</p><p id="35e4" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The Geolocation API estimates the location of the device and returns the latitude, longitude and accuracy (in metres).</p><p id="c622" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><code class="eb lr ls lt lu b">geolocate</code> calls the Cloud Code Function <code class="eb lr ls lt lu b">update_thing</code> to update the thing state with the geolocation results, so that the results will be stored in thethings.io and the dashboards will be updated.</p><figure class="hx hy hz ia ib cz cl cm paragraph-image"><div class="dq dr ds dt ak"><div class="cl cm lj"><div class="ea r ds eb"><div class="lk r"><div class="du dv cp t u dw ak dx dy dz"><img class="cp t u dw ak ed ee ef" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/60/1*pmGFQ2cRpqypaNDM1UYwEw.png?q=20" width="1800" height="50" role="presentation"/></div><img class="du dv cp t u dw ak eg" width="1800" height="50" role="presentation"/><noscript><img class="cp t u dw ak" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/3600/1*pmGFQ2cRpqypaNDM1UYwEw.png" width="1800" height="50" role="presentation"/></noscript></div></div></div></div></figure><figure class="ej cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/cbfc2fc2aa6cbc99419b2b4da057ab40" allowfullscreen="" frameborder="0" height="0" width="0" title="update-thing-http.js" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">update_thing Cloud Code Function. From <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/update_thing.js#L5-L49" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/update_thing.js#L5-L49</a></figcaption></figure><p id="c0e5" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">4️⃣ Cloud Function <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/update_thing.js" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">update_thing</strong></a></code> receives the updated sensor values (latitude, longitude, accuracy) and updates the thethings.io thing state by calling the HTTP API.</p><p id="48d1" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Since the option <code class="eb lr ls lt lu b">broadcast=true</code> was specified, all the dashboards for the thing will be instantly refreshed, including the geolocation result.</p><p id="92ea" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">5️⃣ The updating of the thing state also indirectly triggers <code class="eb lr ls lt lu b">forward_geolocate</code> with the updated sensor values. Which leads to the next step…</p><figure class="hx hy hz ia ib cz cl cm paragraph-image"><div class="dq dr ds dt ak"><div class="cl cm lj"><div class="ea r ds eb"><div class="lk r"><div class="du dv cp t u dw ak dx dy dz"><img class="cp t u dw ak ed ee ef" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/60/1*pmGFQ2cRpqypaNDM1UYwEw.png?q=20" width="1800" height="50" role="presentation"/></div><img class="du dv cp t u dw ak eg" width="1800" height="50" role="presentation"/><noscript><img class="cp t u dw ak" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/3600/1*pmGFQ2cRpqypaNDM1UYwEw.png" width="1800" height="50" role="presentation"/></noscript></div></div></div></div></figure><figure class="ej cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/bf8f922f14fd839494d73ea95cc0fe11" allowfullscreen="" frameborder="0" height="0" width="0" title="forward-geolocate-trigger2.js" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">forward_geolocate Cloud Code Trigger. From <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/forward_geolocate.js#L61-L122" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/forward_geolocate.js#L61-L122</a></figcaption></figure><p id="fb55" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">6️⃣ The next step of <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/forward_geolocate.js" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">forward_geolocate</strong></a></code> checks whether the sensor values have been transformed (i.e. whether the <code class="eb lr ls lt lu b">transformed</code> key exists).</p><p id="708e" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">If the values have not been transformed, it calls Cloud Function <code class="eb lr ls lt lu b">transform</code> to transform the values.</p><figure class="hx hy hz ia ib cz cl cm paragraph-image"><div class="dq dr ds dt ak"><div class="cl cm lj"><div class="ea r ds eb"><div class="lk r"><div class="du dv cp t u dw ak dx dy dz"><img class="cp t u dw ak ed ee ef" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/60/1*pmGFQ2cRpqypaNDM1UYwEw.png?q=20" width="1800" height="50" role="presentation"/></div><img class="du dv cp t u dw ak eg" width="1800" height="50" role="presentation"/><noscript><img class="cp t u dw ak" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/3600/1*pmGFQ2cRpqypaNDM1UYwEw.png" width="1800" height="50" role="presentation"/></noscript></div></div></div></div></figure><figure class="ej cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/6fecddc08d77f38ffc46846295d57dfe" allowfullscreen="" frameborder="0" height="0" width="0" title="transform-values.js" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">transform Cloud Code Function. From <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/transform.js#L1-L36" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/transform.js#L1-L36</a></figcaption></figure><p id="526d" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">7️⃣ Cloud Code Function <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/transform.js" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">transform</strong></a></code> computes the actual floating-point temperature <code class="eb lr ls lt lu b">tmp</code> given the raw temperature <code class="eb lr ls lt lu b">t</code>.</p><p id="7991" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">It calls Cloud Code Function <code class="eb lr ls lt lu b">update_thing</code> to update the thing state with the computed temperature <code class="eb lr ls lt lu b">tmp</code>. The <code class="eb lr ls lt lu b">transformed</code> key is added to the sensor values to indicate that the sensor values have been transformed.</p><p id="5b7e" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">This leads to Steps 4️⃣ and 5️⃣ that we have seen earlier. Any dashboards that render the <code class="eb lr ls lt lu b">tmp</code> value will be automatically refreshed.</p><p id="6cbe" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj"><code class="eb lr ls lt lu b">forward_geolocate</code> is triggered once again, leading to the final step…</p><figure class="hx hy hz ia ib cz eg ic cd id hl ie if ig ba ih ll lm ln lo im"><div class="ea r ds"><div class="lp r"><iframe src="https://web.archive.org/web/20191204194039if_/https://medium.com/media/9fd4dda358f00d3ec45bef3ab7d0ab0c" allowfullscreen="" frameborder="0" height="0" width="0" title="push-sensor-data.js" class="cp t u dw ak" scrolling="auto"></iframe></div></div><figcaption class="bo eh ei ej ek cn cl cm el em bj en">pushSensorData from Cloud Code Trigger forward_geolocate. From <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/forward_geolocate.js#L17-L60" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/forward_geolocate.js#L17-L60</a></figcaption></figure><p id="3b21" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">8️⃣ <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/forward_geolocate.js" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">forward_geolocate</strong></a></code> takes the geolocated and transformed sensor values (latitude, longitude, accuracy, computed temperature) and transmits them to an external server <code class="eb lr ls lt lu b">blue-pill-geolocate.appspot.com</code> via a HTTP POST request.</p><p id="c205" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">This step is not needed if you’re not using an external server to share your sensor data publicly.</p><p id="3e5d" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Details of the external server setup may be found in <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/gcloud-wifi-geolocation" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">gcloud-wifi-geolocation</a></code></p><figure class="hx hy hz ia ib cz cl cm paragraph-image"><div class="dq dr ds dt ak"><div class="cl cm lj"><div class="ea r ds eb"><div class="lk r"><div class="du dv cp t u dw ak dx dy dz"><img class="cp t u dw ak ed ee ef" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/60/1*pmGFQ2cRpqypaNDM1UYwEw.png?q=20" width="1800" height="50" role="presentation"/></div><img class="du dv cp t u dw ak eg" width="1800" height="50" role="presentation"/><noscript><img class="cp t u dw ak" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/max/3600/1*pmGFQ2cRpqypaNDM1UYwEw.png" width="1800" height="50" role="presentation"/></noscript></div></div></div></div></figure><p id="c989" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">Note that the nRF24L01 Sensor Node Address (e.g. <code class="eb lr ls lt lu b">B3-B4-B5-B6-F1</code>) is transmitted to thethings.io as sensor field <code class="eb lr ls lt lu b">node</code>. It’s possible to interpret the <code class="eb lr ls lt lu b">node</code> field so that each Sensor Node is represented by a different Thing in thethings.io. In the <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/thethingsio-wifi-geolocation/blob/master/update_thing.js" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow"><strong class="gy hu">update_thing</strong></a></code> Cloud Code Function, we may map <code class="eb lr ls lt lu b">node</code> to a Thing Token using a predefined mapping table. If you need more details, drop me a note!</p></div></div></section><hr class="iy en iz ja jb ek jc jd je jf jg"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah eo aj ak"><h1 id="b360" class="jh ji er bk bj jj jk jl jm jn jo jp jq jr js jt ju">Bootloader Stub</h1><p id="5507" class="gw gx er bk gy b gz jv hb jw hd jx hf jy hh jz hj">The application for the Sensor Network has grown quite complex, since it contains drivers for both nRF24L01 and ESP8266, as well as the encoding libraries for CoAP, JSON and CBOR message formats.</p><p id="99fd" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">To squeeze the code into 64 KB of ROM on Blue Pill, we have switched to a <a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/master/apps/boot_stub" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">smaller bootloader called </a><code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/master/apps/boot_stub" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">boot_stub</a></code>. This bootloader doesn’t do any of the <a href="https://web.archive.org/web/20191204194039/https://mynewt.apache.org/latest/os/modules/bootloader/bootloader.html" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">typical Mynewt Bootloader functions</a>; it simply jumps to the application code.</p><p id="a8ae" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The bootloader fits in 4 KB of ROM. The rest of the ROM (up to 60 KB) is available for the application.</p><p id="f496" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The Board Support Package for Blue Pill has been locally patched on your Mynewt build to use the new memory layout: <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/patch/bluepill.ld" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">bluepill.ld</a></code>, <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/patch/bsp.yml" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">bsp.yml</a></code>. The ROM flashing scripts in the <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/master/scripts" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">scripts</a></code> folder have also been updated.</p><p id="3f1d" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">The current application size is close to 60 KB. If we’re not using the debugger, we may reduce the application size by switching the build profile from <code class="eb lr ls lt lu b">debug</code> to <code class="eb lr ls lt lu b">optimized</code> in <code class="eb lr ls lt lu b"><a href="https://web.archive.org/web/20191204194039/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/master/targets/bluepill_my_sensor/target.yml" class="at cg io ip iq ir" target="_blank" rel="noopener nofollow">targets/bluepill_my_sensor/target.yml</a></code>:</p><pre class="hx hy hz ia ib lv lw lx"><span id="0cca" class="ly ji er bk lu b eh lz ma r mb">target.build_profile: optimized</span></pre></div></div></section><hr class="iy en iz ja jb ek jc jd je jf jg"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah eo aj ak"><h1 id="021e" class="jh ji er bk bj jj jk jl jm jn jo jp jq jr js jt ju">What’s Next?</h1><p id="c7ac" class="gw gx er bk gy b gz jv hb jw hd jx hf jy hh jz hj">The full power of Apache Mynewt is obvious while we were building the Sensor Network on Blue Pill…</p><p id="6681" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">1️⃣ <strong class="gy hu">Simultaneously receiving and transmitting</strong> sensor data messages</p><p id="1d01" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">2️⃣ <strong class="gy hu">Multitasking of network drivers</strong> (nRF24L01 and ESP8266) with interrupts</p><p id="52ed" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">3️⃣ <strong class="gy hu">Built-in CoAP, JSON and CBOR</strong> encoding and decoding</p><p id="0b84" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">4️⃣ <strong class="gy hu">Built-in Sensor Framework</strong> for multitasking multiple sensors, including Remote Sensors</p><p id="e757" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">All this compiled into <em class="hv">60 KB of ROM</em> on Blue Pill!</p><p id="1d6f" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">And we have wrapped all of the above into a <strong class="gy hu">Sensor Network Library</strong> that’s <strong class="gy hu">Network-Agnostic</strong> (works on any network) and makes Sensor Network development so simple.</p><p id="3262" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">I’m keen to prove that <strong class="gy hu">Network-Agnostic IoT is feasible</strong>, that we can make the same device code run on any network. Today I have proven this for ESP8266 (WiFi) and nRF24L01 networks, <em class="hv">tell me which networks I should tackle next!</em></p><p id="53ed" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">[UPDATE] I have ported the code in this article to Rust for a safer, smarter coding experience…</p><div class="dj dk dl dm dn ka"><a rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/hosting-embedded-rust-apps-on-apache-mynewt-with-stm32-blue-pill-c86b119fe5f?source=post_page-----ca7486523f5d----------------------"><section class="kd cl cm ak ce n ar ke kf kg kh ki kj kk kl km kn ko kp kq kr ks"><div class="kt n co p ku kv"><h2 class="bj jj kw bl er"><div class="dx kb ft fu kc fw">Hosting Embedded Rust apps on Apache Mynewt with STM32 Blue Pill</div></h2><div class="kx r"><h3 class="bj en eh bl bo"><div class="dx kb ft fu kc fw">Build IoT devices the smarter, safer way with Rust and Apache Mynewt</div></h3></div><div class="ky r"><h4 class="bj en gl bl bo"><div class="dx kb ft fu kc fw">medium.com</div></h4></div></div><div class="kz r"><div class="ml r lb lc ld kz le lf lg"></div></div></section></a></div><p id="3abc" class="gw gx er bk gy b gz ha hb hc hd he hf hg hh hi hj">I have added <strong class="gy hu">NB-IoT support for the Sensor Network Library</strong> here…</p><div class="dj dk dl dm dn ka"><a rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee/connect-stm32-blue-pill-to-nb-iot-with-quectel-bc95-g-and-apache-mynewt-c99a9d8417a9?source=post_page-----ca7486523f5d----------------------"><section class="kd cl cm ak ce n ar ke kf kg kh ki kj kk kl km kn ko kp kq kr ks"><div class="kt n co p ku kv"><h2 class="bj jj kw bl er"><div class="dx kb ft fu kc fw">Connect STM32 Blue Pill to NB-IoT with Quectel BC95-G and Apache Mynewt</div></h2><div class="kx r"><h3 class="bj en eh bl bo"><div class="dx kb ft fu kc fw">Build a real IoT sensor with STM32 Blue Pill and Quectel BC95-G Global NB-IoT module</div></h3></div><div class="ky r"><h4 class="bj en gl bl bo"><div class="dx kb ft fu kc fw">medium.com</div></h4></div></div><div class="kz r"><div class="mm r lb lc ld kz le lf lg"></div></div></section></a></div></div></div></section></div></article><div class="du ct mn s ak mo mp mq" data-test-id="post-sidebar"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="mr n co"><div class="ct"><div class="ms mt mu n"><div class="n o"><div class="mv r ds"><a href="https://web.archive.org/web/20191204194039/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fbuild-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d&amp;source=post_sidebar-----ca7486523f5d---------------------clap_sidebar-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><div class="ba mw mx my mz na nb nc nd ne nf"><svg width="29" height="29"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="ng r"><div class="nh"><h4 class="bj en eh bl bo"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi">18 </button></h4></div></div></div></div><div><div class="cf"><a href="https://web.archive.org/web/20191204194039/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fbuild-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d&amp;source=post_sidebar--------------------------bookmark_sidebar-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25" height="25" viewbox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div></div></div><div class="du ct mn s ni fm nj nk mp nl"></div><div><div class="nm cz n co p"><div class="n p"><div class="ac ae af ag ah eo aj ak"><div class="n nn"></div><div class="n o nn"></div><div class="no r"><ul class="ba bb"><li class="cf np nq nr"><a href="/web/20191204194039/https://medium.com/tag/iot" class="ns nt cg bo r lw nu a b gl">IoT</a></li><li class="cf np nq nr"><a href="/web/20191204194039/https://medium.com/tag/internet-of-things" class="ns nt cg bo r lw nu a b gl">Internet of Things</a></li><li class="cf np nq nr"><a href="/web/20191204194039/https://medium.com/tag/esp8266" class="ns nt cg bo r lw nu a b gl">Esp8266</a></li><li class="cf np nq nr"><a href="/web/20191204194039/https://medium.com/tag/nrf24l01" class="ns nt cg bo r lw nu a b gl">Nrf24l01</a></li><li class="cf np nq nr"><a href="/web/20191204194039/https://medium.com/tag/stm32" class="ns nt cg bo r lw nu a b gl">Stm32</a></li></ul></div><div class="nv n fc ab"><div class="n o"><div class="nw r ds"><a href="https://web.archive.org/web/20191204194039/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fbuild-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d&amp;source=post_actions_footer-----ca7486523f5d---------------------clap_footer-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><div class="c nx fo n o ny ds nz oa ob oc od oe of og oh oi oj ok ol om"><div class="ba mw mx my mz na on nc o eg fo n p oo u dw cp t ak nd ne nf op"><svg width="33" height="33" viewbox="0 0 33 33"><path d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z" fill-rule="evenodd"></path></svg></div></div></a></div><div class="ng r"><div class="nh"><h4 class="bj en eh bl er"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi">18 claps</button></h4></div></div></div><div class="n o"><div class="gu r ar"><a href="//web.archive.org/web/20191204194039/https://medium.com/p/ca7486523f5d/share/twitter?source=post_actions_footer---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="gu r ar"><a href="//web.archive.org/web/20191204194039/https://medium.com/p/ca7486523f5d/share/linkedIn?source=post_actions_footer---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" viewbox="0 0 29 29" fill="none" class="q"><path d="M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z" fill="#fff"></path></svg></a></div><div class="gu r ar"><a href="//web.archive.org/web/20191204194039/https://medium.com/p/ca7486523f5d/share/facebook?source=post_actions_footer---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="gu r ar"><div><div class="cf"><a href="https://web.archive.org/web/20191204194039/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fbuild-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d&amp;source=post_actions_footer--------------------------bookmark_sidebar-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25" height="25" viewbox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div><div class="cf"><div class="r ar"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi"><svg width="25" height="25" viewbox="-480.5 272.5 21 21" class="q"><path d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"></path></svg></button></div></div></div></div><div class="oq or os no r ab"><div class="ot ou r ds"><span class="r ov an ow"><div class="r cp ox oy"><a rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-"><div class="ds oz pa"><div class="bs n fi o p cp fj fk fl fm fn ct"><svg width="91" height="91" viewbox="0 0 91 91"><path fill-rule="evenodd" clip-rule="evenodd" d="M45.5 1.4c-17.14 0-32 9.95-39.25 24.5L5 25.28C12.47 10.28 27.8 0 45.5 0S78.53 10.29 86 25.28l-1.25.62C77.5 11.35 62.65 1.4 45.5 1.4zM6.25 65.1c7.25 14.55 22.1 24.5 39.25 24.5 17.14 0 32-9.95 39.25-24.5l1.25.62C78.53 80.72 63.2 91 45.5 91S12.47 80.71 5 65.72l1.25-.62z"></path></svg></div><img alt="Lup Yuen Lee 李立源" class="r fo pa oz" src="https://web.archive.org/web/20191204194039im_/https://miro.medium.com/fit/c/160/160/1*KGohS3sQaUnr58gc0BIfoQ.jpeg" width="80" height="80"/></div></a></div><span class="r"><div class="pb r pc"><p class="bj en gl bl bo pd pe">Written by</p></div><div class="pb pf n pc"><div class="ak n o fc"><h2 class="bj jj iz pg er"><a class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener" href="/web/20191204194039/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-">Lup Yuen Lee 李立源</a></h2><div class="r g"><button class="ph er q by ga gb gc gd bc bh ge gf gg gh gi gj cb bj b bk bl bm bn cc cd ce cf cg bf">Follow</button></div></div></div></span></span><div class="pb pi r pc aq"><div class="pj r"><h4 class="bj en kw pk bo">Techie and Educator in IoT 物聯網教師</h4></div><div class="ap pl aq"><button class="ph er q by ga gb gc gd bc bh ge gf gg gh gi gj cb bj b bk bl bm bn cc cd ce cf cg bf">Follow</button></div></div></div></div><div class="pm or r ab"><a href="https://web.archive.org/web/20191204194039/https://medium.com/p/ca7486523f5d/responses/show?source=follow_footer--------------------------follow_footer-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><span class="pn po mz"><div class="lv pp cb r ek g"><span class="br">Write the first response</span></div></span></a></div></div></div><div class="pq r pr ab"><div class="n p"><div class="ac ae af ag ah ai aj ak"></div></div></div></div></div><div class="ps r pt pu"><section class="cl cm ak ce r ke kf kg kh ki kj kk kl km kn ko kp kq kr ks"><div class="pv pw ot n fc g"><div class="px n fc"><div class="py r pz"><div class="qa r"><a href="https://web.archive.org/web/20191204194039/https://medium.com/about?autoplay=1&amp;source=post_page-----ca7486523f5d----------------------" class="at au av aw ax ay az ba bb bc qb qc bf bg qd qe" rel="noopener"><h4 class="qf qg qh bj jj bk pk qi qj r">Discover <!-- -->Medium</h4></a></div><span class="bj b bk bl bm bn r qk ql">Welcome to a place where words matter. On <!-- -->Medium<!-- -->, smart voices and original ideas take center stage - with no ads in sight.<!-- --> <a href="https://web.archive.org/web/20191204194039/https://medium.com/about?autoplay=1&amp;source=post_page-----ca7486523f5d----------------------" class="at au av aw ax ay az ba bb bc bf bg qd qe qm" rel="noopener">Watch</a></span></div><div class="py r pz"><div class="qn r"><a href="https://web.archive.org/web/20191204194039/https://medium.com/topics?source=post_page-----ca7486523f5d----------------------" class="at au av aw ax ay az ba bb bc qb qc bf bg qd qe" rel="noopener"><h4 class="qf qg qh bj jj bk pk qi qj r">Make <!-- -->Medium<!-- --> yours</h4></a></div><span class="bj b bk bl bm bn r qk ql">Follow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox.<!-- --> <a href="https://web.archive.org/web/20191204194039/https://medium.com/topics?source=post_page-----ca7486523f5d----------------------" class="at au av aw ax ay az ba bb bc bf bg qd qe qm" rel="noopener">Explore</a></span></div><div class="py r pz"><div class="qa r"><a href="https://web.archive.org/web/20191204194039/https://medium.com/membership?source=post_page-----ca7486523f5d----------------------" class="at au av aw ax ay az ba bb bc qb qc bf bg qd qe" rel="noopener"><h4 class="qf qg qh bj jj bk pk qi qj r">Become a member</h4></a></div><span class="bj b bk bl bm bn r qk ql">Get unlimited access to the best stories on <!-- -->Medium<!-- --> — and support writers while you’re at it. Just $5/month.<!-- --> <a href="https://web.archive.org/web/20191204194039/https://medium.com/membership?source=post_page-----ca7486523f5d----------------------" class="at au av aw ax ay az ba bb bc bf bg qd qe qm" rel="noopener">Upgrade</a></span></div></div></div><div class="n o fc"><a class="at au av aw ax ay az ba bb bc qb qc bf bg qd qe" rel="noopener" href="/web/20191204194039/https://medium.com/?source=post_page-----ca7486523f5d----------------------"><svg height="22" width="112" viewbox="0 0 111.5 22" class="qg"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></a><span class="bj b bk bl bm bn r qk ql"><div class="qo qp n fc qq an"><a href="https://web.archive.org/web/20191204194039/https://medium.com/about?autoplay=1&amp;source=post_page-----ca7486523f5d----------------------" class="at au av aw ax ay az ba bb bc fx bf bg qd qe" rel="noopener">About</a><a href="https://web.archive.org/web/20191204194039/https://help.medium.com/?source=post_page-----ca7486523f5d----------------------" class="at au av aw ax ay az ba bb bc fx bf bg qd qe" rel="noopener">Help</a><a class="at au av aw ax ay az ba bb bc fx bf bg qd qe" rel="noopener" href="/web/20191204194039/https://medium.com/policy/9db0094a1e0f?source=post_page-----ca7486523f5d----------------------">Legal</a></div></span></div></section></div></div></div><script src="https://web.archive.org/web/20191204194039js_/https://cdn.optimizely.com/js/16180790160.js"></script><script>window.__BUILD_ID__ = "development"</script><script>window.__GRAPHQL_URI__ = "https://web.archive.org/web/20191204194039/https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"config":{"nodeEnv":"production","version":"master-20191204-181919-f1d0be3b6c","productName":"Medium","publicUrl":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"collector-medium.lightstep.com","token":"ce5be895bef60919541332990ac9fef2","appVersion":"master-20191204-181919-f1d0be3b6c"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","sentry":{"dsn":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002F589e367c28ca47b195ce200d1507d18b@sentry.io\u002F1423575","environment":"production"},"isAmp":false,"googleAnalyticsCode":"UA-24232453-2","signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["544c7006046e","bcc38c8f6edf","444d13b52878","8d6b8a439e32","92d2092dc598","1285ba81cada","cb8577c9149e","8ccfed20cbb2","ae2a65f35510","3f6ecf56618","7b6769f2748b","fc8964313712","ef8e90590e66","191186aaafa0","d944778ce714","bdc4052bbdba","88d9857e584e"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"]},"debug":{"requestId":"507c7357-0b51-44b9-a89d-3fc527b107c1","originalSpanCarrier":{"ot-tracer-spanid":"776ff1f11fe70035","ot-tracer-traceid":"3dfdc39b5bcbc9a8","ot-tracer-sampled":"true"}},"session":{"user":{"id":"lo_vCXkRygHy5hG"},"xsrf":""},"stats":{"itemCount":0,"sending":false,"timeout":null,"backup":{}},"navigation":{"showBranchBanner":null,"hasRenderedBranchBanner":null,"hideGoogleOneTap":false,"hideAlternateUser":false,"branchData":{"loaded":false},"shareKey":"e49514a7e616d4ff931dd24329a82ce0","referrerSource":"friends_link","currentLocation":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuild-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d","host":"medium.com","hostname":"medium.com","referrer":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002Ftag\u002Frust","susiModal":{"step":null,"operation":"register","reportEventInfo":{"eventName":"","data":{}}}},"client":{"isBot":false,"isEu":false,"isNativeMedium":false,"isCustomDomain":false},"multiVote":{"clapsPerPost":{}},"metadata":{"faviconImageId":null}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"viewer":null,"variantFlags":[{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.0","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.1","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.2","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.3","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.4","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.5","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.6","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.7","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.8","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.9","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.10","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.11","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.12","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.13","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.14","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.15","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.16","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.17","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.18","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.19","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.20","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.21","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.22","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.23","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.24","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.25","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.26","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.27","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.28","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.29","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.30","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.31","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.32","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.33","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.34","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.35","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.36","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.37","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.38","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.39","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.40","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.41","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.42","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.43","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.44","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.45","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.46","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.47","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.48","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.49","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.50","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.51","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.52","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.53","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.54","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.55","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.56","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.57","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.58","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.59","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.60","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.61","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.62","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.63","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.64","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.65","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.66","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.67","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.68","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.69","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.70","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.71","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.72","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.73","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.74","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.75","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.76","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.77","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.78","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.79","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.80","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.81","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.82","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.83","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.84","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.85","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.86","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.87","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.88","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.89","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.90","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.91","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.92","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.93","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.94","typename":"VariantFlag"}],"meterPost({\"postId\":\"ca7486523f5d\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}})":{"type":"id","generated":false,"id":"MeteringInfo:singleton","typename":"MeteringInfo"},"postResult({\"id\":\"ca7486523f5d\"})":{"type":"id","generated":false,"id":"Post:ca7486523f5d","typename":"Post"}},"ROOT_QUERY.variantFlags.0":{"name":"allow_access","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.0.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.0.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.1":{"name":"allow_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.1.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.1.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.2":{"name":"allow_test_auth","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.2.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.2.valueType":{"__typename":"VariantFlagString","value":"disallow"},"ROOT_QUERY.variantFlags.3":{"name":"available_annual_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.3.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.3.valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"},"ROOT_QUERY.variantFlags.4":{"name":"available_monthly_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.4.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.4.valueType":{"__typename":"VariantFlagString","value":"60e220181034"},"ROOT_QUERY.variantFlags.5":{"name":"browsable_stream_config_bucket","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.5.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.5.valueType":{"__typename":"VariantFlagString","value":"curated-topics"},"ROOT_QUERY.variantFlags.6":{"name":"disable_gosocial_followers_that_you_follow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.6.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.6.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.7":{"name":"disable_ios_resume_reading_toast","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.7.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.7.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.8":{"name":"disable_mobile_featured_chunk","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.8.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.8.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.9":{"name":"disable_post_recommended_from_friends_provider","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.9.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.9.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.10":{"name":"enable_annual_renewal_reminder_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.10.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.10.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.11":{"name":"enable_app_flirty_thirty","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.11.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.11.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.12":{"name":"enable_automated_mission_control_triggers","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.12.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.12.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.13":{"name":"enable_branch_io","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.13.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.13.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.14":{"name":"enable_branding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.14.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.14.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.15":{"name":"enable_branding_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.15.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.15.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.16":{"name":"enable_dedicated_series_tab_api_ios","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.16.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.16.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.17":{"name":"enable_different_grid","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.17.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.17.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.18":{"name":"enable_disregard_trunc_state_for_footer","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.18.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.18.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.19":{"name":"enable_edit_alt_text","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.19.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.19.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.20":{"name":"enable_email_sign_in_captcha","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.20.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.20.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.21":{"name":"enable_embedding_based_diversification","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.21.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.21.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.22":{"name":"enable_filter_by_resend_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.22.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.22.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.23":{"name":"enable_first_name_on_blocker_banner","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.23.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.23.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.24":{"name":"enable_first_name_on_paywall","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.24.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.24.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.25":{"name":"enable_gift_membership_ended_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.25.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.25.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.26":{"name":"enable_google_one_tap","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.26.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.26.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.27":{"name":"enable_graphql_lo_cache","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.27.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.27.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.28":{"name":"enable_inline_search_lite","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.28.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.28.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.29":{"name":"enable_inline_search_popover_lite","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.29.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.29.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.30":{"name":"enable_ios_post_stats","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.30.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.30.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.31":{"name":"enable_janky_spam_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.31.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.31.valueType":{"__typename":"VariantFlagString","value":"users,posts"},"ROOT_QUERY.variantFlags.32":{"name":"enable_kafka_events","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.32.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.32.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.33":{"name":"enable_lite_notifications","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.33.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.33.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.34":{"name":"enable_lite_post","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.34.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.34.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.35":{"name":"enable_lite_post_cd","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.35.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.35.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.36":{"name":"enable_lite_post_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.36.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.36.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.37":{"name":"enable_lite_post_highlights_view_only","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.37.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.37.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.38":{"name":"enable_lite_profile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.38.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.38.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.39":{"name":"enable_lite_pub_header_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.39.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.39.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.40":{"name":"enable_lite_read_next","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.40.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.40.valueType":{"__typename":"VariantFlagString","value":"sidebar"},"ROOT_QUERY.variantFlags.41":{"name":"enable_lite_stories","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.41.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.41.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.42":{"name":"enable_lite_topics","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.42.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.42.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.43":{"name":"enable_lite_unread_notification_count_mutation","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.43.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.43.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.44":{"name":"enable_lo_homepage","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.44.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.44.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.45":{"name":"enable_lo_scroll_away_metabar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.45.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.45.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.46":{"name":"enable_logged_out_homepage_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.46.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.46.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.47":{"name":"enable_marketing_emails","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.47.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.47.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.48":{"name":"enable_media_resource_try_catch","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.48.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.48.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.49":{"name":"enable_membership_remove_section_a","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.49.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.49.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.50":{"name":"enable_membership_thank_you_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.50.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.50.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.51":{"name":"enable_more_branch_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.51.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.51.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.52":{"name":"enable_multi_day_pub_digests","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.52.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.52.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.53":{"name":"enable_new_collaborative_filtering_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.53.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.53.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.54":{"name":"enable_new_gdpr_partner_export","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.54.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.54.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.55":{"name":"enable_new_partner_dashboard","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.55.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.55.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.56":{"name":"enable_new_partner_program_updates","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.56.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.56.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.57":{"name":"enable_new_pub_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.57.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.57.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.58":{"name":"enable_new_pub_modules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.58.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.58.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.59":{"name":"enable_new_suspended_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.59.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.59.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.60":{"name":"enable_new_three_dot_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.60.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.60.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.61":{"name":"enable_no_cache_control","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.61.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.61.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.62":{"name":"enable_optimizely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.62.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.62.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.63":{"name":"enable_parsely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.63.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.63.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.64":{"name":"enable_patronus_on_kubernetes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.64.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.64.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.65":{"name":"enable_popularity_feature_exp_retrain","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.65.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.65.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.66":{"name":"enable_post_import","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.66.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.66.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.67":{"name":"enable_post_settings_screen","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.67.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.67.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.68":{"name":"enable_primary_topic_for_mobile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.68.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.68.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.69":{"name":"enable_pub_digest_send_after_pub_follow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.69.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.69.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.70":{"name":"enable_pubs_cta_follow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.70.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.70.valueType":{"__typename":"VariantFlagString","value":"clear_and_concise"},"ROOT_QUERY.variantFlags.71":{"name":"enable_rito_caching","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.71.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.71.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.72":{"name":"enable_rtr_channel","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.72.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.72.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.73":{"name":"enable_save_to_medium","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.73.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.73.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.74":{"name":"enable_sign_up_with_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.74.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.74.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.75":{"name":"enable_stripe_express_initial_expansion_copy","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.75.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.75.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.76":{"name":"enable_stripe_express_rest_of_world_copy","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.76.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.76.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.77":{"name":"enable_suggest_account_li","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.77.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.77.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.78":{"name":"enable_susi_font_changes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.78.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.78.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.79":{"name":"enable_tick_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.79.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.79.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.80":{"name":"enable_tipalti_onboarding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.80.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.80.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.81":{"name":"enable_topic_lifecycle_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.81.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.81.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.82":{"name":"enable_tribute_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.82.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.82.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.83":{"name":"enable_trumpland_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.83.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.83.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.84":{"name":"glyph_font_set","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.84.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.84.valueType":{"__typename":"VariantFlagString","value":"m2"},"ROOT_QUERY.variantFlags.85":{"name":"google_sign_in_android","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.85.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.85.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.86":{"name":"is_not_medium_subscriber","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.86.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.86.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.87":{"name":"new_transition_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.87.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.87.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.88":{"name":"pub_sidebar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.88.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.88.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.89":{"name":"rank_model","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.89.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.89.valueType":{"__typename":"VariantFlagString","value":"default"},"ROOT_QUERY.variantFlags.90":{"name":"redis_read_write_splitting","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.90.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.90.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.91":{"name":"share_post_linkedin","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.91.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.91.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.92":{"name":"signin_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.92.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.92.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap"},"ROOT_QUERY.variantFlags.93":{"name":"signup_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.93.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.93.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap"},"ROOT_QUERY.variantFlags.94":{"name":"use_new_admin_topic_backend","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.94.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.94.valueType":{"__typename":"VariantFlagBoolean","value":true},"MeteringInfo:singleton":{"__typename":"MeteringInfo","postIds":{"type":"json","json":[]},"maxUnlockCount":3,"unlocksRemaining":3},"Post:ca7486523f5d":{"__typename":"Post","visibility":"PUBLIC","latestPublishedVersion":"ac08967d9642","collection":null,"id":"ca7486523f5d","creator":{"type":"id","generated":false,"id":"User:1da08193a324","typename":"User"},"isLocked":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","sequence":null,"mediumUrl":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuild-your-iot-sensor-network-stm32-blue-pill-nrf24l01-esp8266-apache-mynewt-thethings-io-ca7486523f5d","canonicalUrl":"","content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}})":{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}})","typename":"PostContent"},"firstPublishedAt":1558951991985,"isPublished":true,"layerCake":0,"primaryTopic":null,"title":"Build Your IoT Sensor Network — STM32 Blue Pill + nRF24L01 + ESP8266 + Apache Mynewt + thethings.io","isLimitedState":false,"pendingCollection":null,"shareKey":null,"statusForCollection":null,"readingTime":17.768867924528305,"readingList":"READING_LIST_NONE","license":"ALL_RIGHTS_RESERVED","allowResponses":true,"tags":[{"type":"id","generated":false,"id":"Tag:iot","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:internet-of-things","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:esp8266","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:nrf24l01","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:stm32","typename":"Tag"}],"viewerClapCount":0,"clapCount":18,"voterCount":6,"recommenders":[],"responsesCount":0,"collaborators":[],"translationSourcePost":null,"newsletterId":"","inResponseToPostResult":null,"inResponseToMediaResource":null,"curationEligibleAt":1558951989945,"audioVersionUrl":"","seoTitle":"","socialTitle":"","socialDek":"","metaDescription":"Learn to build a Sensor Network that routes sensor data from the nRF24L01 local network to the ESP8266 WiFi network","latestPublishedAt":1564078514138,"wordCount":4351,"previewContent":{"type":"id","generated":true,"id":"$Post:ca7486523f5d.previewContent","typename":"PreviewContent"},"previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*Zi439VezFjysLCmp2WJ6wQ.png","typename":"ImageMetadata"},"updatedAt":1564078514528,"topics":[],"seoDescription":"","isSuspended":false},"User:1da08193a324":{"id":"1da08193a324","__typename":"User","isSuspended":false,"allowNotes":true,"name":"Lup Yuen Lee 李立源","isFollowing":false,"username":"ly.lee","bio":"Techie and Educator in IoT 物聯網教師","imageId":"1*KGohS3sQaUnr58gc0BIfoQ.jpeg","mediumMemberAt":1571194811000,"isBlocking":false,"isPartnerProgramEnrolled":false,"twitterScreenName":"MisterTechBlog"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}})":{"isLockedPreviewOnly":false,"validatedShareKey":"e49514a7e616d4ff931dd24329a82ce0","__typename":"PostContent","bodyModel":{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel","typename":"RichText"}},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.0":{"name":"4e62","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.1":{"name":"b114","startIndex":19,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.2":{"name":"eacb","startIndex":37,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.3":{"name":"34b6","startIndex":47,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.4":{"name":"0d77","startIndex":62,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.5":{"name":"7cfd","startIndex":79,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.6":{"name":"7186","startIndex":97,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.7":{"name":"adc6","startIndex":111,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.8":{"name":"0f55","startIndex":136,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.9":{"name":"4837","startIndex":153,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.10":{"name":"96d5","startIndex":188,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.11":{"name":"7c89","startIndex":195,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel":{"sections":[{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.0","typename":"Section"},{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.1","typename":"Section"},{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.2","typename":"Section"},{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.3","typename":"Section"},{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.4","typename":"Section"},{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.5","typename":"Section"},{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.6","typename":"Section"},{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.7","typename":"Section"},{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.8","typename":"Section"},{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.9","typename":"Section"},{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.10","typename":"Section"},{"type":"id","generated":true,"id":"$Post:ca7486523f5d.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"e49514a7e616d4ff931dd24329a82ce0\",\"source\":\"friends_link\"}}).bodyModel.sections.11","typename":"Section"}],"paragraphs":[{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_0","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_1","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_2","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_3","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_4","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_5","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_6","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_7","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_8","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_9","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_10","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_11","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_12","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_13","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_14","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_15","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_16","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_17","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_18","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_19","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_20","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_21","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_22","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_23","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_24","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_25","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_26","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_27","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_28","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_29","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_30","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_31","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_32","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_33","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_34","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_35","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_36","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_37","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_38","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_39","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_40","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_41","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_42","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_43","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_44","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_45","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_46","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_47","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_48","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_49","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_50","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_51","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_52","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_53","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_54","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_55","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_56","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_57","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_58","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_59","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_60","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_61","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_62","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_63","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_64","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_65","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_66","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_67","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_68","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_69","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_70","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_71","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_72","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_73","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_74","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_75","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_76","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_77","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_78","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_79","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_80","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_81","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_82","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_83","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_84","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_85","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_86","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_87","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_88","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_89","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_90","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_91","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_92","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_93","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_94","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_95","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_96","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_97","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_98","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_99","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_100","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_101","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_102","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_103","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_104","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_105","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_106","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_107","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_108","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_109","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_110","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_111","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_112","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_113","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_114","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_115","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_116","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_117","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_118","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_119","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_120","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_121","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_122","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_123","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_124","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_125","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_126","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_127","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_128","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_129","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_130","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_131","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_132","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_133","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_134","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_135","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_136","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_137","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_138","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_139","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_140","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_141","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_142","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_143","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_144","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_145","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_146","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_147","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_148","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_149","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_150","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_151","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_152","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_153","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_154","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_155","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_156","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_157","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_158","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_159","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_160","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_161","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_162","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_163","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_164","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_165","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_166","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_167","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_168","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_169","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_170","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_171","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_172","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_173","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_174","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_175","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_176","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_177","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_178","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_179","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_180","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_181","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_182","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_183","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_184","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_185","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_186","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_187","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_188","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_189","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_190","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_191","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_192","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_193","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_194","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_195","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_196","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_197","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_198","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_199","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_200","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_201","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_202","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_203","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_204","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_205","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_206","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:ac08967d9642_207","typename":"Paragraph"}],"__typename":"RichText"},"Paragraph:ac08967d9642_0":{"id":"ac08967d9642_0","name":"7635","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*Zi439VezFjysLCmp2WJ6wQ.png","typename":"ImageMetadata"},"text":"Mythical sonorous creature for belly illustration purpose only. Not required for implementation. Do not attempt to catch!","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*Zi439VezFjysLCmp2WJ6wQ.png":{"id":"1*Zi439VezFjysLCmp2WJ6wQ.png","originalHeight":1871,"originalWidth":3264,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:ac08967d9642_1":{"id":"ac08967d9642_1","name":"dffd","type":"H3","href":null,"layout":null,"metadata":null,"text":"Build Your IoT Sensor Network — STM32 Blue Pill + nRF24L01 + ESP8266 + Apache Mynewt + thethings.io","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_2":{"id":"ac08967d9642_2","name":"e5a2","type":"P","href":null,"layout":null,"metadata":null,"text":"Law of Thermospatiality: Air-conditioning always feels too warm AND too cold by different individuals in a sizeable room","hasDropCap":true,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_2.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_2.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_2.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_2.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_2.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_2.markups.0":{"type":"STRONG","start":0,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_2.markups.1":{"type":"STRONG","start":55,"end":63,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_2.markups.2":{"type":"STRONG","start":68,"end":77,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_2.markups.3":{"type":"STRONG","start":80,"end":101,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_2.markups.4":{"type":"EM","start":0,"end":120,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_3":{"id":"ac08967d9642_3","name":"ecf7","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*v3frSlEwkvyVeOENEw6thQ.png","typename":"ImageMetadata"},"text":"Law of Thermospatiality in action","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*v3frSlEwkvyVeOENEw6thQ.png":{"id":"1*v3frSlEwkvyVeOENEw6thQ.png","originalHeight":880,"originalWidth":945,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:ac08967d9642_4":{"id":"ac08967d9642_4","name":"93a4","type":"P","href":null,"layout":null,"metadata":null,"text":"It’s impossible to get perfect air-conditioning in any room… But we can try! We begin by installing 5 temperature sensors around our living room (to monitor the actual temperature at 5 different spots).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_4.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_4.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_4.markups.0":{"type":"STRONG","start":23,"end":47,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_4.markups.1":{"type":"STRONG","start":100,"end":121,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_5":{"id":"ac08967d9642_5","name":"6f5a","type":"P","href":null,"layout":null,"metadata":null,"text":"We’ll call them the 5 Sensor Nodes. Each Sensor Node will be an STM32 Blue Pill with a temperature sensor.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_5.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_5.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_5.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_5.markups.0":{"type":"A","start":64,"end":79,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttp:\u002F\u002Fwiki.stm32duino.com\u002Findex.php?title=Blue_Pill","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_5.markups.1":{"type":"STRONG","start":20,"end":34,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_5.markups.2":{"type":"STRONG","start":64,"end":79,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_6":{"id":"ac08967d9642_6","name":"6029","type":"P","href":null,"layout":null,"metadata":null,"text":"Running cables through the living room is out of the question, so our Blue Pills will have to connect wirelessly to transmit the temperature data. Perhaps with an ESP8266 WiFi module?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_6.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_6.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_6.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_6.markups.0":{"type":"A","start":163,"end":175,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fwww.espressif.com\u002Fen\u002Fproducts\u002Fhardware\u002Fesp8266ex\u002Foverview","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_6.markups.1":{"type":"STRONG","start":94,"end":112,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_6.markups.2":{"type":"STRONG","start":163,"end":175,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_7":{"id":"ac08967d9642_7","name":"0ddc","type":"P","href":null,"layout":null,"metadata":null,"text":"But each Sensor Node is only doing a dead simple job… 1️⃣ Read the temperature sensor 2️⃣ Transmit the temperature value. Do we really need an ESP8266 with the whole CoAP + UDP + IP stack? (Don’t forget: we need to configure each ESP8266 with WiFi MAC Address security in case somebody spoofs our Sensor Nodes and breaks into our home WiFi)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_7.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_7.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_7.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_7.markups.0":{"type":"A","start":143,"end":187,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d?source=friends_link&sk=df729a82533d817ec6b2d9b626b6f66b","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_7.markups.1":{"type":"STRONG","start":37,"end":48,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_7.markups.2":{"type":"STRONG","start":160,"end":187,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_8":{"id":"ac08967d9642_8","name":"b08b","type":"P","href":null,"layout":null,"metadata":null,"text":"The Nordic Semiconductor nRF24L01 wireless transceiver is perfect for this scenario. Each Blue Pill transmits the temperature data via the nRF24L01 module to a simple 2.4 GHz Sensor Network, without any WiFi \u002F IP \u002F UDP protocol overheads.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_8.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_8.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_8.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_8.markups.0":{"type":"A","start":4,"end":33,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fwww.sparkfun.com\u002Fdatasheets\u002FComponents\u002FnRF24L01_prelim_prod_spec_1_2.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_8.markups.1":{"type":"STRONG","start":4,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_8.markups.2":{"type":"STRONG","start":167,"end":189,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_9":{"id":"ac08967d9642_9","name":"bcd0","type":"P","href":null,"layout":null,"metadata":null,"text":"To bridge the 5 Sensor Nodes to a proper IoT CoAP Server (like thethings.io), we use a Blue Pill running as a Collector Node. It collects temperature data from Sensor Nodes via nRF24L01, and transmits the data to the CoAP Server. That way, only ONE node needs the ESP8266 and the entire CoAP + UDP + IP stack (and the WiFi security).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_9.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_9.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_9.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_9.markups.0":{"type":"A","start":63,"end":75,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fthethings.io\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_9.markups.1":{"type":"STRONG","start":110,"end":125,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_9.markups.2":{"type":"STRONG","start":240,"end":253,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_10":{"id":"ac08967d9642_10","name":"5b1a","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*b2VG5SiOD2VhY-R_QK-04g.png","typename":"ImageMetadata"},"text":"Our Sensor Network: 5 Sensor Nodes (nRF24L01) and 1 Collector Node (nRF24L01 + ESP8266 WiFi)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*b2VG5SiOD2VhY-R_QK-04g.png":{"id":"1*b2VG5SiOD2VhY-R_QK-04g.png","originalHeight":862,"originalWidth":1857,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:ac08967d9642_11":{"id":"ac08967d9642_11","name":"c5f7","type":"P","href":null,"layout":null,"metadata":null,"text":"With this Sensor Network design, we keep the Sensor Nodes dead simple, and push the complex embedded software to the Collector Node, for easier troubleshooting and upgrading. If we upgrade to the nRF24L01+ with RF power amplifier, the Sensor Nodes can be as far as 1 kilometre away from the Collector Node! (Subject to various conditions of course)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_11.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_11.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_11.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_11.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_11.markups.0":{"type":"STRONG","start":36,"end":69,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_11.markups.1":{"type":"STRONG","start":144,"end":173,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_11.markups.2":{"type":"STRONG","start":196,"end":229,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_11.markups.3":{"type":"STRONG","start":265,"end":281,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_12":{"id":"ac08967d9642_12","name":"d8e0","type":"P","href":null,"layout":null,"metadata":null,"text":"In this tutorial we’ll learn to set up this Sensor Network (refer to the diagram)…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_12.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_12.markups.0":{"type":"STRONG","start":32,"end":58,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_13":{"id":"ac08967d9642_13","name":"8781","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ One Blue Pill shall serve as the Sensor Node. Via the nRF24L01 network, the Sensor Node transmits the Temperature Sensor value every 10 seconds to another Blue Pill, the Collector Node.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_13.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_13.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_13.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_13.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_13.markups.0":{"type":"STRONG","start":37,"end":48,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_13.markups.1":{"type":"STRONG","start":58,"end":74,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_13.markups.2":{"type":"STRONG","start":92,"end":130,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_13.markups.3":{"type":"STRONG","start":174,"end":188,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_14":{"id":"ac08967d9642_14","name":"977c","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ Another Blue Pill shall serve as the Collector Node. Via the nRF24L01 network, the Collector Node shall receive the Temperature Sensor value from the Sensor Node.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_14.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_14.markups.0":{"type":"STRONG","start":41,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_15":{"id":"ac08967d9642_15","name":"f960","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ Via the ESP8266 WiFi network, the Collector Node shall transmit the Temperature Sensor value to the CoAP Server at thethings.io. So that the sensor data may be transformed, recorded and visualised at thethings.io.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_15.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_15.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_15.markups.0":{"type":"STRONG","start":12,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_15.markups.1":{"type":"STRONG","start":104,"end":131,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_16":{"id":"ac08967d9642_16","name":"2109","type":"P","href":null,"layout":null,"metadata":null,"text":"By the end of the tutorial, we’ll have a Sensor Network like this running on two Blue Pills with nRF24L01 and ESP8266…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_17":{"id":"ac08967d9642_17","name":"2233","type":"IFRAME","href":null,"layout":"OUTSET_CENTER","metadata":null,"text":"Demo of Sensor Network with two Blue Pills with nRF24L01 and ESP8266","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_17.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:8e2d9c5e1923d1c847e7e06ca342499f":{"id":"8e2d9c5e1923d1c847e7e06ca342499f","iframeSrc":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fcdn.embedly.com\u002Fwidgets\u002Fmedia.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F9ikpdsu97KU%3Ffeature%3Doembed&url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D9ikpdsu97KU&image=https%3A%2F%2Fi.ytimg.com%2Fvi%2F9ikpdsu97KU%2Fhqdefault.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=youtube","iframeHeight":480,"iframeWidth":640,"title":"Mynewt Sensor Network with STM32 Blue Pill, nRF24L01, ESP8266 and thethings.io","__typename":"MediaResource"},"$Paragraph:ac08967d9642_17.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:8e2d9c5e1923d1c847e7e06ca342499f","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_18":{"id":"ac08967d9642_18","name":"9603","type":"BQ","href":null,"layout":null,"metadata":null,"text":"💎 Sections marked with a diamond are meant for advanced developers. If you’re new to embedded programming, you may skip these sections","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_18.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_18.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_18.markups.0":{"type":"EM","start":0,"end":2,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_18.markups.1":{"type":"EM","start":3,"end":135,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_19":{"id":"ac08967d9642_19","name":"1516","type":"H3","href":null,"layout":null,"metadata":null,"text":"Connect the Hardware","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_20":{"id":"ac08967d9642_20","name":"fc0a","type":"P","href":null,"layout":null,"metadata":null,"text":"We’ll need the following hardware for one Collector Node and one Sensor Node…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_20.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_20.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_20.markups.0":{"type":"STRONG","start":38,"end":56,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_20.markups.1":{"type":"STRONG","start":61,"end":76,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_21":{"id":"ac08967d9642_21","name":"c5ba","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Two Blue Pills, or two Super Blue Pills which have onboard connectors for ESP8266 and nRF24L01…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_21.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_21.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_21.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_21.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_21.markups.0":{"type":"A","start":8,"end":18,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttp:\u002F\u002Fwiki.stm32duino.com\u002Findex.php?title=Blue_Pill","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_21.markups.1":{"type":"A","start":27,"end":43,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fsuper-blue-pill-like-stm32-blue-pill-but-better-6d341d9347da","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_21.markups.2":{"type":"STRONG","start":4,"end":18,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_21.markups.3":{"type":"STRONG","start":27,"end":43,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_22":{"id":"ac08967d9642_22","name":"3ad3","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"Super Blue Pill — Like STM32 Blue Pill, But Better!\nFriendlier for newbies, supports ESP8266 WiFi and nRF24L01medium.com","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_22.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_22.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_22.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_22.mixtapeMetadata","typename":"MixtapeMetadata"}},"Paragraph:ac08967d9642_22.markups.0":{"type":"A","start":0,"end":120,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fsuper-blue-pill-like-stm32-blue-pill-but-better-6d341d9347da","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_22.markups.1":{"type":"STRONG","start":0,"end":51,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_22.markups.2":{"type":"EM","start":52,"end":110,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Paragraph:ac08967d9642_22.mixtapeMetadata":{"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fsuper-blue-pill-like-stm32-blue-pill-but-better-6d341d9347da","thumbnailImageId":"1*bAzQH4RFtSWknvblylsckA.jpeg","mediaResourceId":"1*bAzQH4RFtSWknvblylsckA.jpeg","__typename":"MixtapeMetadata"},"Paragraph:ac08967d9642_23":{"id":"ac08967d9642_23","name":"cca4","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ Two ST-Link V2 USB Adapters (or compatible) for connecting the (Super) Blue Pills to your computers. Check the previous article for the instructions on connecting the (Super) Blue Pills to ST-Link V2. (Look for the ST-Link V2 photo)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_23.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_23.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_23.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_23.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_23.markups.0":{"type":"A","start":33,"end":46,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fwww.lazada.sg\u002F-i105322107-s106873847.html?urlFlag=true&mp=1","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_23.markups.1":{"type":"A","start":111,"end":131,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_23.markups.2":{"type":"A","start":219,"end":235,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F1120\u002F1*XC9f49KW9neBDa762pfTTQ.png","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_23.markups.3":{"type":"STRONG","start":4,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_24":{"id":"ac08967d9642_24","name":"5edb","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ Two Computers (Windows 10 or macOS) for debugging the two (Super) Blue Pills","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_24.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_24.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_24.markups.0":{"type":"STRONG","start":4,"end":18,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_24.markups.1":{"type":"STRONG","start":39,"end":40,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_25":{"id":"ac08967d9642_25","name":"39cb","type":"P","href":null,"layout":null,"metadata":null,"text":"4️⃣ One ESP8266 WiFi module. I tested with the ESP-01S.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_25.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_25.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_25.markups.0":{"type":"A","start":47,"end":54,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fwww.lazada.sg\u002F-i281003794-s442063247.html?urlFlag=true&mp=1&spm=spm=a2o42.order_details.item_title.1","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_25.markups.1":{"type":"STRONG","start":4,"end":27,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_26":{"id":"ac08967d9642_26","name":"19fd","type":"P","href":null,"layout":null,"metadata":null,"text":"5️⃣ Two nRF24L01 RF modules. I used the nRF24L01+, which includes an RF power amplifier for longer range (up to 1 km).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_26.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_26.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_26.markups.0":{"type":"A","start":40,"end":49,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fwww.lazada.sg\u002F-i288146861-s465579095.html?urlFlag=true&mp=1","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_26.markups.1":{"type":"STRONG","start":4,"end":27,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_27":{"id":"ac08967d9642_27","name":"4f92","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*5DS-e1ek1Q7qfgKgF37GGg.jpeg","typename":"ImageMetadata"},"text":"Super Blue Pill with ESP8266 (left) and nRF24L01 (right)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*5DS-e1ek1Q7qfgKgF37GGg.jpeg":{"id":"1*5DS-e1ek1Q7qfgKgF37GGg.jpeg","originalHeight":2448,"originalWidth":2512,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:ac08967d9642_28":{"id":"ac08967d9642_28","name":"fce7","type":"P","href":null,"layout":null,"metadata":null,"text":"If you have two Super Blue Pills…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_28.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_28.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_28.markups.0":{"type":"STRONG","start":0,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_28.markups.1":{"type":"EM","start":0,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_29":{"id":"ac08967d9642_29","name":"fe9b","type":"P","href":null,"layout":null,"metadata":null,"text":"Collector Node: Plug both ESP8266 and nRF24L01 modules into the onboard connectors of a Super Blue Pill.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_29.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_29.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_29.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_29.markups.0":{"type":"STRONG","start":0,"end":14,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_29.markups.1":{"type":"STRONG","start":26,"end":34,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_29.markups.2":{"type":"STRONG","start":38,"end":47,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_30":{"id":"ac08967d9642_30","name":"eb3b","type":"P","href":null,"layout":null,"metadata":null,"text":"Sensor Node: Plug the nRF24L01 module into the onboard connector of the other Super Blue Pill.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_30.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_30.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_30.markups.0":{"type":"STRONG","start":0,"end":11,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_30.markups.1":{"type":"STRONG","start":22,"end":30,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_31":{"id":"ac08967d9642_31","name":"16d3","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png":{"id":"1*pmGFQ2cRpqypaNDM1UYwEw.png","originalHeight":50,"originalWidth":1800,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:ac08967d9642_32":{"id":"ac08967d9642_32","name":"fb35","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"Connect Blue Pill to ESP8266","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_32.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:8eef2d24e5da71d3096369f304531850":{"id":"8eef2d24e5da71d3096369f304531850","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"bluepill-esp8266.md","__typename":"MediaResource"},"$Paragraph:ac08967d9642_32.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:8eef2d24e5da71d3096369f304531850","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_33":{"id":"ac08967d9642_33","name":"78f2","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"Connect Blue Pill to nRF24L01","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_33.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:fa81250d569c19e7307f5351eeafb7af":{"id":"fa81250d569c19e7307f5351eeafb7af","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"bluepill-nrf24l01.md","__typename":"MediaResource"},"$Paragraph:ac08967d9642_33.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:fa81250d569c19e7307f5351eeafb7af","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_34":{"id":"ac08967d9642_34","name":"e239","type":"P","href":null,"layout":null,"metadata":null,"text":"If you have two older Blue Pills…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_34.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_34.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_34.markups.0":{"type":"STRONG","start":0,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_34.markups.1":{"type":"EM","start":0,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_35":{"id":"ac08967d9642_35","name":"eb70","type":"P","href":null,"layout":null,"metadata":null,"text":"Collector Node: Using a breadboard, connect a Blue Pill to the ESP8266 and nRF24L01 modules as shown.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_35.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_35.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_35.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_35.markups.0":{"type":"STRONG","start":0,"end":14,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_35.markups.1":{"type":"STRONG","start":63,"end":70,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_35.markups.2":{"type":"STRONG","start":75,"end":83,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_36":{"id":"ac08967d9642_36","name":"7725","type":"P","href":null,"layout":null,"metadata":null,"text":"Sensor Node: Using a breadboard, connect the other Blue Pill to the nRF24L01 module as shown.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_36.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_36.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_36.markups.0":{"type":"STRONG","start":0,"end":11,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_36.markups.1":{"type":"STRONG","start":68,"end":76,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_37":{"id":"ac08967d9642_37","name":"19ba","type":"H3","href":null,"layout":null,"metadata":null,"text":"Download, Configure, Build and Run","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_38":{"id":"ac08967d9642_38","name":"5dbb","type":"P","href":null,"layout":null,"metadata":null,"text":"On both computers, follow the instructions in the previous tutorial under the sections below to download, configure, build and run the Blue Pill application…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_38.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_38.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_38.markups.0":{"type":"A","start":46,"end":67,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_38.markups.1":{"type":"STRONG","start":3,"end":17,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_39":{"id":"ac08967d9642_39","name":"dae5","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Section “Download Source Code” of the previous tutorial. If you have previously downloaded stm32bluepill-mynewt-sensor, rename the old folder before downloading.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_39.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_39.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_39.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_39.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_39.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_39.markups.0":{"type":"CODE","start":95,"end":122,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_39.markups.1":{"type":"A","start":38,"end":59,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_39.markups.2":{"type":"STRONG","start":13,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_39.markups.3":{"type":"STRONG","start":122,"end":124,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_39.markups.4":{"type":"EM","start":12,"end":35,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_40":{"id":"ac08967d9642_40","name":"2283","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ Section “Configure WiFi Settings” of the previous tutorial","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_40.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_40.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_40.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_40.markups.0":{"type":"A","start":41,"end":62,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_40.markups.1":{"type":"STRONG","start":13,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_40.markups.2":{"type":"EM","start":12,"end":38,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_41":{"id":"ac08967d9642_41","name":"d21f","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ Section “Build The Application” of the previous tutorial","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_41.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_41.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_41.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_41.markups.0":{"type":"A","start":39,"end":60,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_41.markups.1":{"type":"STRONG","start":13,"end":34,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_41.markups.2":{"type":"EM","start":12,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_42":{"id":"ac08967d9642_42","name":"750b","type":"P","href":null,"layout":null,"metadata":null,"text":"4️⃣ Section “Run The Application” of the previous tutorial","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_42.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_42.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_42.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_42.markups.0":{"type":"A","start":37,"end":58,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_42.markups.1":{"type":"STRONG","start":13,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_42.markups.2":{"type":"EM","start":12,"end":34,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_43":{"id":"ac08967d9642_43","name":"c504","type":"P","href":null,"layout":null,"metadata":null,"text":"When the Collector Node and Sensor Node are communicating correctly, you should see messages like these…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_44":{"id":"ac08967d9642_44","name":"b593","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Sample log for Collector Node","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_44.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_44.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_44.markups.0":{"type":"A","start":4,"end":33,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flogs\u002Fcollector-node.log","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_44.markups.1":{"type":"STRONG","start":19,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_45":{"id":"ac08967d9642_45","name":"d3d5","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ Sample log for Sensor Node","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_45.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_45.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_45.markups.0":{"type":"A","start":4,"end":30,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flogs\u002Fsensor-node.log","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_45.markups.1":{"type":"STRONG","start":19,"end":30,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_46":{"id":"ac08967d9642_46","name":"b5e6","type":"P","href":null,"layout":null,"metadata":null,"text":"However the Collector and Sensor Nodes won’t operate correctly yet… There’s a list of Hardware IDs that you need to populate in the settings file, due to the way network addresses are allocated in nRF24L01 networks. Read on to learn more…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_46.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_46.markups.0":{"type":"STRONG","start":86,"end":145,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_47":{"id":"ac08967d9642_47","name":"089e","type":"H3","href":null,"layout":null,"metadata":null,"text":"Sensor Network Addresses","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_48":{"id":"ac08967d9642_48","name":"bde3","type":"P","href":null,"layout":null,"metadata":null,"text":"Unlike complicated WiFi networks that dynamically allocate IP addresses, nRF24L01 networks are so simple that we need to allocate the addresses ourselves.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_48.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_48.markups.0":{"type":"STRONG","start":121,"end":153,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_49":{"id":"ac08967d9642_49","name":"0f93","type":"P","href":null,"layout":null,"metadata":null,"text":"How does the Collector Node know which Sensor Node sent the temperature data? Each Sensor Node is distinguished from the other 4 Sensor Nodes by an 8-bit address that we allocate to each Sensor Node. For the demo we’re using these addresses (in hexadecimal) for the 5 Sensor Nodes (derived from the sample configuration in the datasheet)…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_49.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_49.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_49.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_49.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_49.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_49.markups.0":{"type":"A","start":148,"end":198,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L66-L74","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_49.markups.1":{"type":"A","start":266,"end":280,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L77-L91","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_49.markups.2":{"type":"A","start":299,"end":336,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fwww.sparkfun.com\u002Fdatasheets\u002FComponents\u002FnRF24L01_prelim_prod_spec_1_2.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_49.markups.3":{"type":"STRONG","start":148,"end":198,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_49.markups.4":{"type":"EM","start":0,"end":77,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_50":{"id":"ac08967d9642_50","name":"05b8","type":"PRE","href":null,"layout":null,"metadata":null,"text":"Sensor Node Addresses (last byte): F1, CD, A3, 0F and 05","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_51":{"id":"ac08967d9642_51","name":"89db","type":"BQ","href":null,"layout":null,"metadata":null,"text":"💎 nRF24L01 operates in the crowded licence-free 2.4 GHz frequency band (shared with WiFi, Bluetooth and microwave ovens). The above 5 bytes, which contain as many different bits as possible, were chosen so that we could detect (and reject) packet addresses that have been corrupted due to RF interference.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_51.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_51.markups.0":{"type":"EM","start":0,"end":3,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_52":{"id":"ac08967d9642_52","name":"21f2","type":"P","href":null,"layout":null,"metadata":null,"text":"What if our neighbour decides to set up their own nRF24L01 Sensor Network? To prevent address collisions, we distinguish each Sensor Network by allocating a unique 32-bit (4-byte) network address. For the demo we’re using this network address…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_52.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_52.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_52.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_52.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_52.markups.0":{"type":"A","start":157,"end":195,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L57-L62","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_52.markups.1":{"type":"A","start":222,"end":242,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L74-L76","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_52.markups.2":{"type":"STRONG","start":157,"end":195,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_52.markups.3":{"type":"EM","start":0,"end":74,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_53":{"id":"ac08967d9642_53","name":"9e62","type":"PRE","href":null,"layout":null,"metadata":null,"text":"Sensor Network Address (four bytes): B3-B4-B5-B6","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_54":{"id":"ac08967d9642_54","name":"82bf","type":"P","href":null,"layout":null,"metadata":null,"text":"When we combine the Sensor Network Address with the Sensor Node Address, we get 5 unique node address, each containing 5 bytes…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_54.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_54.markups.0":{"type":"A","start":80,"end":101,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L63-L74","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_55":{"id":"ac08967d9642_55","name":"67ea","type":"PRE","href":null,"layout":null,"metadata":null,"text":"Sensor Node 1 Full Address: B3-B4-B5-B6-F1\nSensor Node 2 Full Address: B3-B4-B5-B6-CD\nSensor Node 3 Full Address: B3-B4-B5-B6-A3\nSensor Node 4 Full Address: B3-B4-B5-B6-0F\nSensor Node 5 Full Address: B3-B4-B5-B6-05","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_56":{"id":"ac08967d9642_56","name":"3bcc","type":"P","href":null,"layout":null,"metadata":null,"text":"Which we may interpret as the 5 statically-allocated “IP Addresses” for each Sensor Node in our nRF24L01 network.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_57":{"id":"ac08967d9642_57","name":"cb75","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*9mnOCWrCRilhHxLHNA-xBg.png","typename":"ImageMetadata"},"text":"Collector and Sensor Node Addresses","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*9mnOCWrCRilhHxLHNA-xBg.png":{"id":"1*9mnOCWrCRilhHxLHNA-xBg.png","originalHeight":1401,"originalWidth":1905,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:ac08967d9642_58":{"id":"ac08967d9642_58","name":"d23b","type":"P","href":null,"layout":null,"metadata":null,"text":"What about the Collector Node? We’re free to allocate any unique 5-byte node address. (No need to share the same 4 bytes of the Sensor Network Address as the other nodes) For the demo, we’re using…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_58.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_58.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_58.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_58.markups.0":{"type":"A","start":65,"end":84,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L57-L62","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_58.markups.1":{"type":"A","start":171,"end":183,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L71-L73","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_58.markups.2":{"type":"EM","start":0,"end":30,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_59":{"id":"ac08967d9642_59","name":"d89e","type":"PRE","href":null,"layout":null,"metadata":null,"text":"Collector Node Address (five bytes): 78-78-78-78-78","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_60":{"id":"ac08967d9642_60","name":"47c8","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"nRF24L01 Settings. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L66-L91","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_60.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_60.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:ac08967d9642_60.markups.0":{"type":"A","start":24,"end":136,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L66-L91","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:e1ab46f56fb2a0e57a09b46dc1b0f6f8":{"id":"e1ab46f56fb2a0e57a09b46dc1b0f6f8","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"nrf24l01-config.yml","__typename":"MediaResource"},"$Paragraph:ac08967d9642_60.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:e1ab46f56fb2a0e57a09b46dc1b0f6f8","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_61":{"id":"ac08967d9642_61","name":"2381","type":"P","href":null,"layout":null,"metadata":null,"text":"If you need to configure the nRF24L01 addresses to avoid conflicts with nearby nRF24L01 networks, edit the settings in targets\u002Fbluepill_my_sensor\u002Fsyscfg.yml","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_61.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_61.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_61.markups.0":{"type":"CODE","start":119,"end":156,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_61.markups.1":{"type":"A","start":119,"end":156,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L66-L91","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_62":{"id":"ac08967d9642_62","name":"6684","type":"H3","href":null,"layout":null,"metadata":null,"text":"Assigning Network Addresses Automatically","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_63":{"id":"ac08967d9642_63","name":"0ffe","type":"P","href":null,"layout":null,"metadata":null,"text":"Each Sensor Network can have 1 Collector Node and up to 5 Sensor Nodes. So we may need to assign 6 addresses manually to each of the 6 nodes. Does this mean we need to create 6 different ROM images for flashing, each with a different address inside? Nope, there’s an easier way!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_63.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_63.markups.0":{"type":"EM","start":168,"end":210,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_64":{"id":"ac08967d9642_64","name":"a34f","type":"P","href":null,"layout":null,"metadata":null,"text":"Inside every Blue Pill is a unique 12-byte Hardware ID that’s burned in during manufacturing. I have provided a Sensor Network Library that…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_64.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_64.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_64.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_64.markups.0":{"type":"A","start":112,"end":134,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fmaster\u002Flibs\u002Fsensor_network","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_64.markups.1":{"type":"STRONG","start":28,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_64.markups.2":{"type":"STRONG","start":112,"end":134,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_65":{"id":"ac08967d9642_65","name":"b5a2","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Reads the Blue Pill’s Hardware ID (by calling Mynewt’s hal_bsp_hw_id() API)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_65.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_65.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_65.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_65.markups.0":{"type":"CODE","start":59,"end":74,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_65.markups.1":{"type":"A","start":4,"end":37,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L326-L336","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_65.markups.2":{"type":"A","start":59,"end":72,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fmodules\u002Fhal\u002Fhal_bsp\u002Fhal_bsp.html#c.hal_bsp_hw_id","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_66":{"id":"ac08967d9642_66","name":"bf37","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ Matches the Hardware ID against a configurable list of Hardware IDs for the Collector and Sensor Nodes","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_66.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_66.markups.0":{"type":"A","start":4,"end":27,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L336-L348","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_67":{"id":"ac08967d9642_67","name":"256d","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ And assigns the respective addresses for the Collector and Sensor Nodes.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_67.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_67.markups.0":{"type":"A","start":8,"end":40,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L338-L342","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_68":{"id":"ac08967d9642_68","name":"46ee","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"Hardware ID settings. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L44-L65","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_68.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_68.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:ac08967d9642_68.markups.0":{"type":"A","start":27,"end":139,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L44-L65","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:a9e2c1ffa6dbde4c4712aa629d717e6c":{"id":"a9e2c1ffa6dbde4c4712aa629d717e6c","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"hardware-id.yml","__typename":"MediaResource"},"$Paragraph:ac08967d9642_68.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:a9e2c1ffa6dbde4c4712aa629d717e6c","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_69":{"id":"ac08967d9642_69","name":"c2dc","type":"P","href":null,"layout":null,"metadata":null,"text":"All you need to do is to fill in the list of Hardware IDs for your Blue Pills in targets\u002Fbluepill_my_sensor\u002Fsyscfg.yml…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_69.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_69.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_69.markups.0":{"type":"CODE","start":81,"end":118,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_69.markups.1":{"type":"A","start":81,"end":118,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L44-L65","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_70":{"id":"ac08967d9642_70","name":"e411","type":"P","href":null,"layout":null,"metadata":null,"text":"To discover the Hardware ID for your Blue Pill, start the debugger and watch out for this message at startup…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_71":{"id":"ac08967d9642_71","name":"260a","type":"PRE","href":null,"layout":null,"metadata":null,"text":"NET hwid 57 ff 6a 06 78 78 54 50 49 29 24 67","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_72":{"id":"ac08967d9642_72","name":"6813","type":"P","href":null,"layout":null,"metadata":null,"text":"When updating the settings, convert the Hardware ID into a hexadecimal list like this…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_73":{"id":"ac08967d9642_73","name":"9797","type":"PRE","href":null,"layout":null,"metadata":null,"text":"0x57, 0xff, 0x6a, 0x06, 0x78, 0x78, 0x54, 0x50, 0x49, 0x29, 0x24, 0x67","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_74":{"id":"ac08967d9642_74","name":"b2b3","type":"P","href":null,"layout":null,"metadata":null,"text":"Rebuild the application and restart the debugger. At startup, watch for one of these messages that indicates the type of node…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_74.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_74.markups.0":{"type":"A","start":72,"end":93,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L326-L347","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_75":{"id":"ac08967d9642_75","name":"307c","type":"PRE","href":null,"layout":null,"metadata":null,"text":"NET collector node\nNET sensor node #1","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_76":{"id":"ac08967d9642_76","name":"3a82","type":"P","href":null,"layout":null,"metadata":null,"text":"If you see NET standalone node it means that the program was unable to match your Hardware ID with any Collector or Sensor Hardware IDs. Verify the list of Hardware IDs in targets\u002Fbluepill_my_sensor\u002Fsyscfg.yml","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_76.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_76.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_76.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_76.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_76.markups.0":{"type":"CODE","start":11,"end":30,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_76.markups.1":{"type":"CODE","start":172,"end":209,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_76.markups.2":{"type":"A","start":57,"end":93,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L242-L268","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_76.markups.3":{"type":"A","start":172,"end":209,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L44-L65","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_77":{"id":"ac08967d9642_77","name":"ceb3","type":"P","href":null,"layout":null,"metadata":null,"text":"So only ONE version of the ROM image (containing all 6 Hardware IDs and node addresses) needs to be flashed to all 6 Blue Pills. So easy to deploy and upgrade. The rest happens automatically… like magic!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_77.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_77.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_77.markups.0":{"type":"STRONG","start":8,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_77.markups.1":{"type":"EM","start":160,"end":203,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_78":{"id":"ac08967d9642_78","name":"3f53","type":"BQ","href":null,"layout":null,"metadata":null,"text":"💎 When we build only one ROM image for all Collector and Sensor Nodes, it means that the same code is present on ALL nodes. Depending on the Hardware ID, some parts of the code are disabled at runtime. This also means that we need to squeeze all code into the 64 KB ROM limit. More about this in a while…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_78.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_78.markups.0":{"type":"EM","start":0,"end":3,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_79":{"id":"ac08967d9642_79","name":"cfb0","type":"H3","href":null,"layout":null,"metadata":null,"text":"Mynewt Driver for Remote Sensors","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_80":{"id":"ac08967d9642_80","name":"a6dc","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"Calling Mynewt’s Sensor Framework to poll a sensor. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Flisten_sensor.c#L46-L76","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_80.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_80.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:ac08967d9642_80.markups.0":{"type":"A","start":57,"end":170,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Flisten_sensor.c#L46-L76","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:0e877c3b3b8823edb0d72ca44b3648ca":{"id":"0e877c3b3b8823edb0d72ca44b3648ca","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"start_sensor_listener.c","__typename":"MediaResource"},"$Paragraph:ac08967d9642_80.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:0e877c3b3b8823edb0d72ca44b3648ca","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_81":{"id":"ac08967d9642_81","name":"2258","type":"P","href":null,"layout":null,"metadata":null,"text":"Mynewt has an excellent Sensor Framework that’s perfect for integrating IoT devices with sensors.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_81.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_81.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_81.markups.0":{"type":"A","start":24,"end":40,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fmodules\u002Fsensor_framework\u002Fsensor_framework.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_81.markups.1":{"type":"STRONG","start":24,"end":40,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_82":{"id":"ac08967d9642_82","name":"d786","type":"P","href":null,"layout":null,"metadata":null,"text":"No need to code our own background task to poll the sensor periodically (like our temperature sensor) and to process the sensor data… Just tell the Sensor Framework which sensor to poll and how often!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_82.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_82.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_82.markups.0":{"type":"A","start":165,"end":199,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Flisten_sensor.c#L46-L76","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_82.markups.1":{"type":"STRONG","start":165,"end":199,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_83":{"id":"ac08967d9642_83","name":"8c22","type":"P","href":null,"layout":null,"metadata":null,"text":"Mynewt triggers our Listener Function to process the sensor data that has been polled.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_83.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_83.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_83.markups.0":{"type":"A","start":20,"end":37,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Flisten_sensor.c#L109-L152","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_83.markups.1":{"type":"STRONG","start":20,"end":37,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_84":{"id":"ac08967d9642_84","name":"dd49","type":"P","href":null,"layout":null,"metadata":null,"text":"But our new Sensor Network is complicated. On the Collector Node, Mynewt is blissfully unaware about the Sensor Nodes that are periodically transmitting sensor data to the Collector Node. Can we tell Mynewt about the Sensor Nodes and their attached sensors?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_84.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_84.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_84.markups.0":{"type":"EM","start":0,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_84.markups.1":{"type":"EM","start":187,"end":257,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_85":{"id":"ac08967d9642_85","name":"8898","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"Declaring a Remote Sensor Type for the Raw Temperature Sensor. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L135-L155","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_85.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_85.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:ac08967d9642_85.markups.0":{"type":"A","start":68,"end":182,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L135-L155","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:716dd4e099613c3a76f8dd71ddb39b99":{"id":"716dd4e099613c3a76f8dd71ddb39b99","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"remote-sensor-type.yml","__typename":"MediaResource"},"$Paragraph:ac08967d9642_85.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:716dd4e099613c3a76f8dd71ddb39b99","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_86":{"id":"ac08967d9642_86","name":"6138","type":"P","href":null,"layout":null,"metadata":null,"text":"Yes, with the Remote Sensor Driver that I have provided! When installed on the Collector Node, the Remote Sensor Driver enables Sensor Nodes (and attached sensors) to masquerade as locally-attached sensors!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_86.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_86.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_86.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_86.markups.0":{"type":"A","start":14,"end":34,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fmaster\u002Flibs\u002Fremote_sensor","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_86.markups.1":{"type":"STRONG","start":14,"end":34,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_86.markups.2":{"type":"STRONG","start":167,"end":205,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_87":{"id":"ac08967d9642_87","name":"a4ed","type":"P","href":null,"layout":null,"metadata":null,"text":"The above Remote Sensor Configuration tells Mynewt about a Raw Temperature Sensor Type that’s attached to a Sensor Node (targets\u002Fbluepill_my_sensor\u002Fsyscfg.yml)…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_87.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_87.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_87.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_87.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_87.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_87.markups.0":{"type":"CODE","start":121,"end":158,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_87.markups.1":{"type":"A","start":10,"end":37,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L135-L155","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_87.markups.2":{"type":"A","start":121,"end":158,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L135-L155","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_87.markups.3":{"type":"STRONG","start":10,"end":37,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_87.markups.4":{"type":"STRONG","start":59,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_88":{"id":"ac08967d9642_88","name":"56dd","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ temp_raw is the name of the Raw Temperature Sensor Type. This is an integer value (0 to 4095) that’s provided by the Blue Pill Internal Temperature Sensor (described in my previous article).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_88.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_88.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_88.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_88.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_88.markups.0":{"type":"CODE","start":4,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_88.markups.1":{"type":"A","start":121,"end":158,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fmaster\u002Flibs\u002Ftemp_stm32","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_88.markups.2":{"type":"A","start":160,"end":192,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_88.markups.3":{"type":"STRONG","start":4,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_89":{"id":"ac08967d9642_89","name":"f358","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ t is the field name that appears in the message transmitted by the Sensor Node. The message looks like { \"t\": 1745 }","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_89.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_89.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_89.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_89.markups.0":{"type":"CODE","start":4,"end":5,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_89.markups.1":{"type":"CODE","start":107,"end":120,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_89.markups.2":{"type":"STRONG","start":4,"end":5,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_90":{"id":"ac08967d9642_90","name":"bb96","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ strd is the union type that shall store the sensor value in memory. This follows Mynewt’s Sensor Framework convention of using a union to store each type of sensor value. strd is defined in libs\u002Fcustom_sensor\u002Finclude\u002Fcustom_sensor\u002Fcustom_sensor.h","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_90.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_90.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_90.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_90.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_90.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_90.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_90.markups.6","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_90.markups.7","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_90.markups.0":{"type":"CODE","start":4,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_90.markups.1":{"type":"CODE","start":16,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_90.markups.2":{"type":"CODE","start":133,"end":138,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_90.markups.3":{"type":"CODE","start":175,"end":179,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_90.markups.4":{"type":"CODE","start":194,"end":250,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_90.markups.5":{"type":"A","start":125,"end":173,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fmodules\u002Fsensor_framework\u002Fsensor_api.html#c.sensor_data_t","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_90.markups.6":{"type":"A","start":194,"end":250,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fcustom_sensor\u002Finclude\u002Fcustom_sensor\u002Fcustom_sensor.h","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_90.markups.7":{"type":"STRONG","start":4,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_91":{"id":"ac08967d9642_91","name":"c328","type":"P","href":null,"layout":null,"metadata":null,"text":"4️⃣ AMBIENT_TEMPERATURE_RAW is the unique Sensor Type ID for the Raw Temperature Sensor Type. Mynewt’s Sensor Framework uses the Sensor Type ID to discover which Sensor Drivers can return values of each Sensor Type. AMBIENT_TEMPERATURE_RAW is defined in libs\u002Fcustom_sensor\u002Finclude\u002Fcustom_sensor\u002Fcustom_sensor.h","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_91.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_91.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_91.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_91.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_91.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_91.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_91.markups.0":{"type":"CODE","start":4,"end":27,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_91.markups.1":{"type":"CODE","start":216,"end":239,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_91.markups.2":{"type":"CODE","start":254,"end":310,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_91.markups.3":{"type":"A","start":129,"end":143,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fmodules\u002Fsensor_framework\u002Fsensor_api.html#c.SensorAPI::sensor_type_t","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_91.markups.4":{"type":"A","start":254,"end":310,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fcustom_sensor\u002Finclude\u002Fcustom_sensor\u002Fcustom_sensor.h","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_91.markups.5":{"type":"STRONG","start":4,"end":27,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_92":{"id":"ac08967d9642_92","name":"b230","type":"P","href":null,"layout":null,"metadata":null,"text":"5️⃣ The last 2 settings declare whether the sensor provides integer (INT) or double-precision floating-point (DOUBLE) sensor values.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_92.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_92.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_92.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_92.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_92.markups.0":{"type":"CODE","start":69,"end":72,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_92.markups.1":{"type":"CODE","start":110,"end":116,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_92.markups.2":{"type":"STRONG","start":69,"end":72,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_92.markups.3":{"type":"STRONG","start":110,"end":116,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_93":{"id":"ac08967d9642_93","name":"ae78","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"Starting the Remote Sensor Listeners. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Flisten_sensor.c#L77-L108","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_93.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_93.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:ac08967d9642_93.markups.0":{"type":"A","start":43,"end":157,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Flisten_sensor.c#L77-L108","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:d970ea03e964c9ea9800758c61639856":{"id":"d970ea03e964c9ea9800758c61639856","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"start_remote_sensor_listeners.c","__typename":"MediaResource"},"$Paragraph:ac08967d9642_93.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:d970ea03e964c9ea9800758c61639856","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_94":{"id":"ac08967d9642_94","name":"1b85","type":"P","href":null,"layout":null,"metadata":null,"text":"Once we declare the Remote Sensor Type for the remote temperature sensor (and start the Remote Sensor Listeners), we may program the sensor as though it were a local temperature sensor… Mynewt’s familiar Sensor Framework works exactly the same way!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_94.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_94.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_94.markups.0":{"type":"A","start":74,"end":111,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Flisten_sensor.c#L77-L108","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_94.markups.1":{"type":"EM","start":186,"end":248,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_95":{"id":"ac08967d9642_95","name":"a553","type":"P","href":null,"layout":null,"metadata":null,"text":"Just provide a Listener Function and Mynewt will helpfully trigger the function whenever it receives sensor data from the Sensor Nodes.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_95.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_95.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_95.markups.0":{"type":"A","start":15,"end":32,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Flisten_sensor.c#L109-L152","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_95.markups.1":{"type":"A","start":59,"end":134,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fremote_sensor\u002Fsrc\u002Froute_coap.c#L64-L148","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_96":{"id":"ac08967d9642_96","name":"25d4","type":"P","href":null,"layout":null,"metadata":null,"text":"Programming with Distributed IoT sensors becomes fun and easy, with this simple Remote Sensor Driver for Mynewt that converts a Remote Sensor into a Local Sensor. Now we understand why we adopted a multitasking realtime operating system like Mynewt… because without Mynewt, the Collector Node can’t possibly receive and send sensor messages over two different networks simultaneously.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_96.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_96.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_96.markups.0":{"type":"STRONG","start":308,"end":368,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_96.markups.1":{"type":"STRONG","start":369,"end":383,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_97":{"id":"ac08967d9642_97","name":"88d2","type":"H3","href":null,"layout":null,"metadata":null,"text":"Packaging and shipping Sensor Data","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_98":{"id":"ac08967d9642_98","name":"0b22","type":"P","href":null,"layout":null,"metadata":null,"text":"Remember earlier we declared that Sensor Nodes should be kept dead simple, using a simple network (nRF24L01) and a simple deployment method (only ONE ROM image!) The Sensor Data needs to be kept simple too…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_99":{"id":"ac08967d9642_99","name":"a0d9","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Eliminate all floating-point code: On Blue Pill, we pay a hefty price for any computation involving floating-point (decimal) numbers. Even calculating a simple temperature like “28.9 degrees Celsius” will require a huge chunk of floating-point code (from the standard math library) to be embedded in ROM. Which inflates the ROM size, bloating beyond the 64 KB limit.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_99.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_99.markups.0":{"type":"STRONG","start":4,"end":37,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_100":{"id":"ac08967d9642_100","name":"e6ca","type":"P","href":null,"layout":null,"metadata":null,"text":"In this demo we transmit the raw temperature values as integers (directly from Blue Pill’s Analogue-to-Digital Converter) instead of the computed floating-point temperature values (like in the previous tutorial). The integer sensor values are transmitted from the Sensor Node to the Collector Node, and also from the Collector Node to the CoAP Server.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_100.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_100.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_100.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_100.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_100.markups.0":{"type":"A","start":29,"end":63,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Ftemp_stm32\u002Finclude\u002Ftemp_stm32\u002Ftemp_stm32.h#L35-L48","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_100.markups.1":{"type":"A","start":79,"end":120,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Ftemp_stm32\u002Fsrc\u002Ftemp_stm32.c#L142-L183","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_100.markups.2":{"type":"A","start":137,"end":172,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Ftemp_stm32\u002Fsrc\u002Ftemp_stm32.c#L184-L209","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_100.markups.3":{"type":"A","start":181,"end":210,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_101":{"id":"ac08967d9642_101","name":"df2f","type":"P","href":null,"layout":null,"metadata":null,"text":"The raw temperature values are converted into floating-point only upon reaching the CoAP Server at thethings.io. So that we could visualise the temperature properly as “28.9 degrees Celsius” instead of 1745.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_101.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_101.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_101.markups.0":{"type":"CODE","start":202,"end":206,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_101.markups.1":{"type":"A","start":31,"end":60,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Ftransform.js","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_102":{"id":"ac08967d9642_102","name":"4266","type":"P","href":null,"layout":null,"metadata":null,"text":"No more floating-point bloat in our ROM!","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_103":{"id":"ac08967d9642_103","name":"40ec","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ Compact CBOR encoding instead of JSON: Our Collector Node transmits the raw temperature to the CoAP Server with JSON encoding, which is accepted by all CoAP Servers…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_103.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_103.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_103.markups.0":{"type":"A","start":99,"end":129,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L115-L118","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_103.markups.1":{"type":"STRONG","start":4,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_104":{"id":"ac08967d9642_104","name":"59cb","type":"PRE","href":null,"layout":null,"metadata":null,"text":"{ \"t\": 1745 }","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_105":{"id":"ac08967d9642_105","name":"9551","type":"P","href":null,"layout":null,"metadata":null,"text":"During the JSON transmission we preserve the sensor field name \"t\" so that it’s easier to visualise the sensor data and execute rules on the CoAP Server (like thethings.io).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_105.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_105.markups.0":{"type":"CODE","start":63,"end":66,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_106":{"id":"ac08967d9642_106","name":"3a47","type":"P","href":null,"layout":null,"metadata":null,"text":"But JSON bloats our sensor data messages — we need 10 data bytes to transmit the simple message above. Hence our Sensor Network demo uses CBOR encoding, a compressed, binary version of JSON. And it’s natively supported by Mynewt.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_106.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_106.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_106.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_106.markups.0":{"type":"A","start":138,"end":151,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FCBOR","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_106.markups.1":{"type":"STRONG","start":51,"end":64,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_106.markups.2":{"type":"STRONG","start":138,"end":151,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_107":{"id":"ac08967d9642_107","name":"b96d","type":"P","href":null,"layout":null,"metadata":null,"text":"Between the Sensor Node and the Collector Node, we encode sensor data messages in CBOR format instead of JSON. Which requires only 6 data bytes instead of 10 bytes for the above example!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_107.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_107.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_107.markups.0":{"type":"A","start":51,"end":93,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L115-L118","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_107.markups.1":{"type":"STRONG","start":131,"end":143,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_108":{"id":"ac08967d9642_108","name":"b62f","type":"P","href":null,"layout":null,"metadata":null,"text":"By adopting CBOR as the message format in the local Sensor Network, we also simplify the design of the Remote Sensor Driver. The driver only needs to decode incoming CBOR messages, and trigger the right Listener Function. The Remote Sensor Driver selects the Listener Function based on the sensor field name \"t\"","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_108.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_108.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_108.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_108.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_108.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_108.markups.0":{"type":"CODE","start":308,"end":311,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_108.markups.1":{"type":"A","start":150,"end":179,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fremote_sensor\u002Fsrc\u002Froute_coap.c#L149-L176","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_108.markups.2":{"type":"A","start":185,"end":220,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fremote_sensor\u002Fsrc\u002Froute_coap.c#L109-L148","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_108.markups.3":{"type":"A","start":247,"end":276,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fremote_sensor\u002Fsrc\u002Fremote_sensor.c#L85-L96","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_108.markups.4":{"type":"A","start":290,"end":311,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fremote_sensor\u002Fsrc\u002Fsensor_type_desc.h#L31-L46","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_109":{"id":"ac08967d9642_109","name":"9e40","type":"BQ","href":null,"layout":null,"metadata":null,"text":"💎 Mynewt natively encodes CoAP messages using CBOR encoding. We discard the CoAP Header, keeping only the CoAP Payload in CBOR, which occupies 6 data bytes. An additional byte 0xff is added by Mynewt as the payload terminator. The final byte of the nRF24L01 message is the message counter, useful for detecting missing messages.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_109.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_109.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_109.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_109.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_109.markups.0":{"type":"CODE","start":177,"end":181,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_109.markups.1":{"type":"A","start":65,"end":88,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fnrf24l01\u002Fsrc\u002Ftransport.cpp#L89-L128","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_109.markups.2":{"type":"A","start":274,"end":289,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fnrf24l01\u002Fsrc\u002Ftransport.cpp#L110-L112","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_109.markups.3":{"type":"EM","start":0,"end":3,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_110":{"id":"ac08967d9642_110","name":"0282","type":"BQ","href":null,"layout":null,"metadata":null,"text":"nRF24L01 messages can be up to 32 bytes in length. But for the demo we have fixed the message length as 12 bytes. It’s big enough to transmit 2 sensor values, yet small enough to reduce the risk of RF interference and allow farther transmission distances. To change the message length, edit the NRF24L01_TX_SIZE setting in targets\u002Fbluepill_my_sensor\u002Fsyscfg.yml","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_110.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_110.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_110.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_110.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_110.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_110.markups.0":{"type":"CODE","start":295,"end":311,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_110.markups.1":{"type":"CODE","start":323,"end":360,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_110.markups.2":{"type":"A","start":76,"end":112,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fnrf24l01\u002Fsrc\u002Ftransport.cpp#L113-L116","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_110.markups.3":{"type":"A","start":295,"end":311,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L110-L112","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_110.markups.4":{"type":"A","start":323,"end":360,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L110-L112","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_111":{"id":"ac08967d9642_111","name":"0eaa","type":"H3","href":null,"layout":null,"metadata":null,"text":"Selecting JSON or CBOR Encoding","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_112":{"id":"ac08967d9642_112","name":"be5f","type":"P","href":null,"layout":null,"metadata":null,"text":"Now that we have two formats for encoding sensor data…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_113":{"id":"ac08967d9642_113","name":"6191","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ CBOR Encoding from Sensor Node to Collector Node (via nRF24L01)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_113.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_113.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_113.markups.0":{"type":"A","start":4,"end":17,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L115-L118","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_113.markups.1":{"type":"STRONG","start":4,"end":17,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_114":{"id":"ac08967d9642_114","name":"8566","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ JSON Encoding from Collector Node to CoAP Server (via ESP8266)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_114.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_114.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_114.markups.0":{"type":"A","start":4,"end":17,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L115-L118","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_114.markups.1":{"type":"STRONG","start":4,"end":17,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_115":{"id":"ac08967d9642_115","name":"b029","type":"P","href":null,"layout":null,"metadata":null,"text":"Does this make Blue Pill device programming twice as difficult?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_115.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_115.markups.0":{"type":"EM","start":0,"end":63,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_116":{"id":"ac08967d9642_116","name":"a69d","type":"P","href":null,"layout":null,"metadata":null,"text":"Not at all! The Sensor Network Library hides the encoding details inside high-level functions that we may call to compose and transmit messages…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_117":{"id":"ac08967d9642_117","name":"84a3","type":"P","href":null,"layout":null,"metadata":null,"text":"0️⃣ Previously we called init_sensor_post() … do_sensor_post() to send CoAP messages to the CoAP Server via the ESP8266 Network Transport (from the ESP8266 Network Driver)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_117.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_117.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_117.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_117.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_117.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_117.markups.0":{"type":"CODE","start":25,"end":62,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_117.markups.1":{"type":"A","start":25,"end":41,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_coap\u002Fsrc\u002Fsensor_coap.c#L156-L186","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_117.markups.2":{"type":"A","start":46,"end":60,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_coap\u002Fsrc\u002Fsensor_coap.c#L187-L193","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_117.markups.3":{"type":"STRONG","start":25,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_117.markups.4":{"type":"STRONG","start":46,"end":60,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_118":{"id":"ac08967d9642_118","name":"cf2a","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Now we call init_collector_post() … do_collector_post() to send messages to the Collector Node via the nRF24L01 Network Transport (from the nRF24L01 Network Driver)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_118.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_118.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_118.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_118.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_118.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_118.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_118.markups.6","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_118.markups.0":{"type":"CODE","start":16,"end":59,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_118.markups.1":{"type":"A","start":16,"end":35,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L175-L185","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_118.markups.2":{"type":"A","start":40,"end":57,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L222-L231","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_118.markups.3":{"type":"A","start":107,"end":133,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fnrf24l01\u002Fsrc\u002Ftransport.cpp#L89-L157","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_118.markups.4":{"type":"A","start":144,"end":167,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fmaster\u002Flibs\u002Fnrf24l01","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_118.markups.5":{"type":"STRONG","start":16,"end":35,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_118.markups.6":{"type":"STRONG","start":40,"end":57,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_119":{"id":"ac08967d9642_119","name":"9761","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ And we call init_server_post() … do_server_post() to send messages to the CoAP Server via the ESP8266 Network Transport (from the ESP8266 Network Driver)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_119.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_119.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_119.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_119.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_119.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_119.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_119.markups.6","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_119.markups.0":{"type":"CODE","start":16,"end":53,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_119.markups.1":{"type":"A","start":16,"end":32,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L165-L174","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_119.markups.2":{"type":"A","start":37,"end":51,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L212-L221","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_119.markups.3":{"type":"A","start":98,"end":123,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fesp8266\u002Fsrc\u002Ftransport.cpp#L102-L131","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_119.markups.4":{"type":"A","start":134,"end":156,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fmaster\u002Flibs\u002Fesp8266","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_119.markups.5":{"type":"STRONG","start":16,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_119.markups.6":{"type":"STRONG","start":37,"end":51,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_120":{"id":"ac08967d9642_120","name":"c7b8","type":"P","href":null,"layout":null,"metadata":null,"text":"The nRF24L01 Network Driver was ported from mbed to Mynewt. The driver settings may be found in targets\u002Fbluepill_my_sensor\u002Fsyscfg.yml","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_120.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_120.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_120.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_120.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_120.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_120.markups.0":{"type":"CODE","start":96,"end":133,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_120.markups.1":{"type":"A","start":4,"end":27,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fmaster\u002Flibs\u002Fnrf24l01","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_120.markups.2":{"type":"A","start":32,"end":48,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fos.mbed.com\u002Fusers\u002FOwen\u002Fcode\u002FnRF24L01P\u002Ffile\u002F8ae48233b4e4\u002FnRF24L01P.cpp\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_120.markups.3":{"type":"A","start":96,"end":133,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Fsyscfg.yml#L92-L134","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_120.markups.4":{"type":"STRONG","start":4,"end":27,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_121":{"id":"ac08967d9642_121","name":"9f2c","type":"P","href":null,"layout":null,"metadata":null,"text":"The nRF24L01 driver is connected to the SPI port and supports simple transmit and receive functions. There’s no need to call the nRF24L01 functions directly — the Sensor Network Library calls them when do_collector_post() is invoked.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_121.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_121.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_121.markups.0":{"type":"CODE","start":202,"end":221,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_121.markups.1":{"type":"A","start":69,"end":99,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fnrf24l01\u002Finclude\u002Fnrf24l01\u002Fnrf24l01.h#L84-L104","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_122":{"id":"ac08967d9642_122","name":"5cd1","type":"P","href":null,"layout":null,"metadata":null,"text":"The nRF24L01 driver handles interrupts raised by the nRF24L01 module when data has been received (so no polling is needed). The driver calls the Receive Callback Function provided by the Remote Sensor Library. The callback function decodes the CBOR message and forwards it to the Remote Sensor Listener Function.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_122.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_122.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_122.markups.0":{"type":"A","start":20,"end":38,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fnrf24l01\u002Fsrc\u002Fdriver.cpp#L250-L271","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_122.markups.1":{"type":"A","start":145,"end":170,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fremote_sensor\u002Fsrc\u002Froute_coap.c#L64-L108","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_123":{"id":"ac08967d9642_123","name":"71c6","type":"P","href":null,"layout":null,"metadata":null,"text":"The ESP8266 Network Driver is connected to the UART port. It has been covered in detail in the previous tutorial.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_123.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_123.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_123.markups.0":{"type":"A","start":91,"end":112,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_123.markups.1":{"type":"STRONG","start":4,"end":26,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_124":{"id":"ac08967d9642_124","name":"f75e","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"Using CP macros to compose messages for Collector Node and CoAP Server. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Fsend_coap.c#L182-L222","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_124.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_124.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:ac08967d9642_124.markups.0":{"type":"A","start":77,"end":188,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Fsend_coap.c#L182-L222","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:e48275091e51ce0368c766c7ca9220ee":{"id":"e48275091e51ce0368c766c7ca9220ee","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"send_sensor_data.c","__typename":"MediaResource"},"$Paragraph:ac08967d9642_124.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:e48275091e51ce0368c766c7ca9220ee","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_125":{"id":"ac08967d9642_125","name":"a696","type":"P","href":null,"layout":null,"metadata":null,"text":"Composing messages with the macros CP_ITEM_STR(), CP_ITEM_FLOAT(), … works exactly like before. The right encoding (CBOR or JSON) is automatically selected when we call init_collector_post() and init_server_post()","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_125.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_125.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_125.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_125.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_125.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_125.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_125.markups.6","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_125.markups.0":{"type":"CODE","start":35,"end":69,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_125.markups.1":{"type":"CODE","start":169,"end":190,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_125.markups.2":{"type":"CODE","start":195,"end":213,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_125.markups.3":{"type":"A","start":35,"end":46,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_coap\u002Finclude\u002Fsensor_coap\u002Fsensor_coap.h#L289-L324","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_125.markups.4":{"type":"A","start":50,"end":63,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_coap\u002Finclude\u002Fsensor_coap\u002Fsensor_coap.h#L289-L324","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_125.markups.5":{"type":"A","start":169,"end":188,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L186-L195","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_125.markups.6":{"type":"A","start":195,"end":211,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L186-L195","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_126":{"id":"ac08967d9642_126","name":"0e8d","type":"P","href":null,"layout":null,"metadata":null,"text":"To allow easier passing and encoding of Sensor Values, we have created a sensor_value struct that contains one Sensor Key (e.g. \"t\" for raw temperature) and one Sensor Value (int or float). New macros have been created to add a sensor_value to a message: CP_SET_INT_VAL(), CP_SET_FLOAT_VAL(), CP_ITEM_INT_VAL(), CP_ITEM_FLOAT_VAL().","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_126.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_126.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_126.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_126.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_126.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_126.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_126.markups.6","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_126.markups.7","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_126.markups.8","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_126.markups.9","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_126.markups.10","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_126.markups.11","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_126.markups.0":{"type":"CODE","start":73,"end":92,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_126.markups.1":{"type":"CODE","start":128,"end":131,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_126.markups.2":{"type":"CODE","start":175,"end":178,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_126.markups.3":{"type":"CODE","start":182,"end":187,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_126.markups.4":{"type":"CODE","start":228,"end":240,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_126.markups.5":{"type":"CODE","start":255,"end":331,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_126.markups.6":{"type":"A","start":73,"end":85,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_coap\u002Finclude\u002Fsensor_coap\u002Fsensor_coap.h#L11-L20","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_126.markups.7":{"type":"A","start":255,"end":269,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_coap\u002Finclude\u002Fsensor_coap\u002Fsensor_coap.h#L230-L235","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_126.markups.8":{"type":"A","start":273,"end":289,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_coap\u002Finclude\u002Fsensor_coap\u002Fsensor_coap.h#L236-L241","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_126.markups.9":{"type":"A","start":293,"end":308,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_coap\u002Finclude\u002Fsensor_coap\u002Fsensor_coap.h#L262-L267","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_126.markups.10":{"type":"A","start":312,"end":329,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_coap\u002Finclude\u002Fsensor_coap\u002Fsensor_coap.h#L268-L273","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_126.markups.11":{"type":"STRONG","start":73,"end":85,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_127":{"id":"ac08967d9642_127","name":"c025","type":"P","href":null,"layout":null,"metadata":null,"text":"The new macros are used in apps\u002Fmy_sensor_app\u002Fsrc\u002Fsend_coap.c to compose Collector Node messages and CoAP Server messages. All macros have been updated to support both CBOR and JSON encoding, selected at runtime (instead of compile-time).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_127.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_127.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_127.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_127.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_127.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_127.markups.0":{"type":"CODE","start":27,"end":61,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_127.markups.1":{"type":"A","start":27,"end":61,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Fsend_coap.c#L113-L224","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_127.markups.2":{"type":"A","start":73,"end":96,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Fsend_coap.c#L182-L224","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_127.markups.3":{"type":"A","start":101,"end":121,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Fsend_coap.c#L113-L181","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_127.markups.4":{"type":"A","start":155,"end":190,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_coap\u002Finclude\u002Fsensor_coap\u002Fsensor_coap.h#L140-L218","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_128":{"id":"ac08967d9642_128","name":"c3d5","type":"P","href":null,"layout":null,"metadata":null,"text":"The Sensor Network Library brings us one step closer to the vision of Network-Agnostic IoT… Doesn’t matter whether our devices are connected via ESP8266 or nRF24L01, the same code still works! The Sensor Network Library…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_128.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_128.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_128.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_128.markups.0":{"type":"A","start":197,"end":219,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002FREADME.md","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_128.markups.1":{"type":"STRONG","start":70,"end":90,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_128.markups.2":{"type":"EM","start":166,"end":191,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_129":{"id":"ac08967d9642_129","name":"a135","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Assigns network addresses (nRF24L01) based on one common ROM image","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_129.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_129.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_129.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_129.markups.0":{"type":"A","start":4,"end":29,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L326-L348","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_129.markups.1":{"type":"STRONG","start":4,"end":29,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_129.markups.2":{"type":"STRONG","start":40,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_130":{"id":"ac08967d9642_130","name":"691b","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ Provides generic functions to perform operations on network interfaces, like do_collector_post() and do_server_post()","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_130.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_130.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_130.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_130.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_130.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_130.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_130.markups.0":{"type":"CODE","start":81,"end":100,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_130.markups.1":{"type":"CODE","start":105,"end":121,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_130.markups.2":{"type":"A","start":4,"end":30,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Finclude\u002Fsensor_network\u002Fsensor_network.h#L82-L117","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_130.markups.3":{"type":"A","start":81,"end":98,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L222-L231","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_130.markups.4":{"type":"A","start":105,"end":119,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L212-L221","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_130.markups.5":{"type":"STRONG","start":4,"end":30,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_131":{"id":"ac08967d9642_131","name":"3050","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ Selects message encoding (CBOR or JSON) based on the destination of the message (Collector Node vs CoAP Server)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_131.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_131.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_131.markups.0":{"type":"A","start":4,"end":28,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L186-L195","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_131.markups.1":{"type":"STRONG","start":4,"end":28,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_132":{"id":"ac08967d9642_132","name":"8eab","type":"P","href":null,"layout":null,"metadata":null,"text":"4️⃣ Enforces a standard data format (CoAP JSON) for aggregating and encoding sensor data when transmitting sensor data to the IoT Server for processing","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_132.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_132.markups.0":{"type":"STRONG","start":4,"end":35,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_133":{"id":"ac08967d9642_133","name":"555a","type":"P","href":null,"layout":null,"metadata":null,"text":"We’ll now learn how thethings.io may be used to process the standardised sensor data.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_134":{"id":"ac08967d9642_134","name":"c8e4","type":"BQ","href":null,"layout":null,"metadata":null,"text":"💎 The Sensor Network Library is clearly able to transmit sensor data locally (nRF24L01) and over internet (ESP8266)… yet the library has no dependencies on the nRF24L01 and ESP8266 drivers! This was done with a programming trick known as “Inversion of Control” — the network drivers register themselves with the Sensor Network library, not the other way around.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_134.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_134.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_134.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_134.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_134.markups.0":{"type":"A","start":138,"end":189,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fpkg.yml#L29-L33","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_134.markups.1":{"type":"A","start":240,"end":260,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FInversion_of_control","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_134.markups.2":{"type":"A","start":268,"end":303,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Flibs\u002Fsensor_network\u002Fsrc\u002Fsensor_network.c#L349-L360","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_134.markups.3":{"type":"EM","start":0,"end":3,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_135":{"id":"ac08967d9642_135","name":"13c2","type":"BQ","href":null,"layout":null,"metadata":null,"text":"This enables the Sensor Network Library to be truly Network Agnostic. The Sensor Network Library will support many other network adapters and network protocols in future: NB-IoT, LoRa, Sigfox, Zigbee, Bluetooth, …","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_136":{"id":"ac08967d9642_136","name":"7071","type":"H3","href":null,"layout":null,"metadata":null,"text":"Configuring the CoAP Server at thethings.io","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_137":{"id":"ac08967d9642_137","name":"ca3b","type":"P","href":null,"layout":null,"metadata":null,"text":"thethings.io is an excellent example of a modern hosted IoT server that’s capable of processing the CoAP standard-based sensor data transmitted by our Collector Node. Follow the steps below to configure the CoAP Server at thethings.io and understand how the server can transform our sensor data (Raw Temperature to Computed Temperature) and visualise the data…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_137.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_137.markups.0":{"type":"A","start":0,"end":12,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fthethings.io\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_138":{"id":"ac08967d9642_138","name":"4714","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Follow the video below to sign up for a 14-day free trial account (no credit card needed) and to install three custom JavaScript programs for processing the data: forward_geolocate, transform, update_state. The scripts are located here: https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_138.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_138.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_138.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_138.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_138.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_138.markups.0":{"type":"CODE","start":167,"end":184,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_138.markups.1":{"type":"CODE","start":186,"end":195,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_138.markups.2":{"type":"CODE","start":197,"end":209,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_138.markups.3":{"type":"CODE","start":241,"end":296,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_138.markups.4":{"type":"A","start":241,"end":296,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_139":{"id":"ac08967d9642_139","name":"05d0","type":"P","href":null,"layout":null,"metadata":null,"text":"Click CC to view the instructions…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_139.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_139.markups.0":{"type":"CODE","start":6,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_140":{"id":"ac08967d9642_140","name":"89d7","type":"BQ","href":null,"layout":null,"metadata":null,"text":"💎 If you will be using WiFi Geolocation, copy the script geolocate.js and install it as the Cloud Code Function named geolocate","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_140.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_140.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_140.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_140.markups.0":{"type":"CODE","start":58,"end":70,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_140.markups.1":{"type":"CODE","start":119,"end":128,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_140.markups.2":{"type":"EM","start":0,"end":3,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_141":{"id":"ac08967d9642_141","name":"fb05","type":"IFRAME","href":null,"layout":"OUTSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_141.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:a0f2046c3ad7d70ad29c52b8d76fe867":{"id":"a0f2046c3ad7d70ad29c52b8d76fe867","iframeSrc":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fcdn.embedly.com\u002Fwidgets\u002Fmedia.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F4KJiZMboaUg%3Ffeature%3Doembed&url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D4KJiZMboaUg&image=https%3A%2F%2Fi.ytimg.com%2Fvi%2F4KJiZMboaUg%2Fhqdefault.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=youtube","iframeHeight":480,"iframeWidth":640,"title":"Transform sensor data with thethings.io (Part 1 of 3)","__typename":"MediaResource"},"$Paragraph:ac08967d9642_141.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:a0f2046c3ad7d70ad29c52b8d76fe867","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_142":{"id":"ac08967d9642_142","name":"c63e","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ The second video explains the steps for creating a dashboard that visualises the Raw Temperature transmitted by our Collector Node.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_143":{"id":"ac08967d9642_143","name":"2de2","type":"P","href":null,"layout":null,"metadata":null,"text":"Click CC to view the instructions…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_143.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_143.markups.0":{"type":"CODE","start":6,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_144":{"id":"ac08967d9642_144","name":"f139","type":"IFRAME","href":null,"layout":"OUTSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_144.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:60ccd1053f700d6f438a5e38e16f8338":{"id":"60ccd1053f700d6f438a5e38e16f8338","iframeSrc":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fcdn.embedly.com\u002Fwidgets\u002Fmedia.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FszCHheKEC7I%3Ffeature%3Doembed&url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DszCHheKEC7I&image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FszCHheKEC7I%2Fhqdefault.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=youtube","iframeHeight":480,"iframeWidth":640,"title":"Transform sensor data with thethings.io (Part 2 of 3)","__typename":"MediaResource"},"$Paragraph:ac08967d9642_144.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:60ccd1053f700d6f438a5e38e16f8338","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_145":{"id":"ac08967d9642_145","name":"0fce","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ In the final video we verify that the Raw Temperature t is transformed to Computed Temperature tmp correctly. We visualise the Computed Temperature tmp in the dashboard.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_145.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_145.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_145.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_145.markups.0":{"type":"CODE","start":58,"end":59,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_145.markups.1":{"type":"CODE","start":99,"end":102,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_145.markups.2":{"type":"CODE","start":152,"end":155,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_146":{"id":"ac08967d9642_146","name":"9514","type":"P","href":null,"layout":null,"metadata":null,"text":"Click CC to view the instructions…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_146.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_146.markups.0":{"type":"CODE","start":6,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_147":{"id":"ac08967d9642_147","name":"5388","type":"IFRAME","href":null,"layout":"OUTSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_147.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:5d8e9f0557387bdbc3b204555a5fe1bf":{"id":"5d8e9f0557387bdbc3b204555a5fe1bf","iframeSrc":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fcdn.embedly.com\u002Fwidgets\u002Fmedia.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FdMelHn4xTcM%3Ffeature%3Doembed&url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DdMelHn4xTcM&image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FdMelHn4xTcM%2Fhqdefault.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=youtube","iframeHeight":480,"iframeWidth":640,"title":"Transform sensor data with thethings.io (Part 3 of 3)","__typename":"MediaResource"},"$Paragraph:ac08967d9642_147.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:5d8e9f0557387bdbc3b204555a5fe1bf","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_148":{"id":"ac08967d9642_148","name":"6af3","type":"P","href":null,"layout":null,"metadata":null,"text":"After configuring the demo in thethings.io, we now fully appreciate how a comprehensive end-to-end IoT solution may benefit us…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_149":{"id":"ac08967d9642_149","name":"3e57","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Gather raw sensor data efficiently from Sensor Nodes dispersed around a region, up to 1 km away","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_149.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_149.markups.0":{"type":"STRONG","start":3,"end":26,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_150":{"id":"ac08967d9642_150","name":"010f","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ Aggregate and transmit the raw sensor data to a standards-based IoT server (like thethings.io)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_150.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_150.markups.0":{"type":"STRONG","start":4,"end":25,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_151":{"id":"ac08967d9642_151","name":"3e10","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ Transform the raw sensor data to the final display format (e.g. degrees Celsius) at the IoT server","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_151.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_151.markups.0":{"type":"STRONG","start":4,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_152":{"id":"ac08967d9642_152","name":"c869","type":"P","href":null,"layout":null,"metadata":null,"text":"4️⃣ Visualise the transformed sensor data as realtime text and graphical displays","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_152.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_152.markups.0":{"type":"STRONG","start":4,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_153":{"id":"ac08967d9642_153","name":"6859","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*1_2SW-GMeqlkUYwb6NRiTA.png","typename":"ImageMetadata"},"text":"thethings.io Cloud Code Trigger and Functions used in the demo","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*1_2SW-GMeqlkUYwb6NRiTA.png":{"id":"1*1_2SW-GMeqlkUYwb6NRiTA.png","originalHeight":1865,"originalWidth":2069,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:ac08967d9642_154":{"id":"ac08967d9642_154","name":"b985","type":"H3","href":null,"layout":null,"metadata":null,"text":"Processing Sensor Data at thethings.io","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_155":{"id":"ac08967d9642_155","name":"2087","type":"P","href":null,"layout":null,"metadata":null,"text":"With Network-Agnostic IoT, our Collector Node aggregates and transmits sensor data to the IoT Server in a standard format: CoAP JSON. This ensures that our sensor data can be easily processed, regardless of the network and server used. Here’s how we process the sensor data with the CoAP Server hosted at thethings.io…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_155.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_155.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_155.markups.0":{"type":"STRONG","start":123,"end":132,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_155.markups.1":{"type":"STRONG","start":175,"end":234,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_156":{"id":"ac08967d9642_156","name":"416e","type":"P","href":null,"layout":null,"metadata":null,"text":"forward_geolocate, geolocate, transform and update_thing are the Cloud Code Trigger and Functions that we install at thethings.io to process the sensor data. They call one another like a Finite State Machine to perform WiFi geolocation, transform sensor values (raw temperature to computed temperature) and update the thing state…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_156.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_156.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_156.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_156.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_156.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_156.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_156.markups.6","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_156.markups.7","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_156.markups.0":{"type":"CODE","start":0,"end":17,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_156.markups.1":{"type":"CODE","start":19,"end":28,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_156.markups.2":{"type":"CODE","start":30,"end":39,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_156.markups.3":{"type":"CODE","start":44,"end":56,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_156.markups.4":{"type":"STRONG","start":0,"end":17,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_156.markups.5":{"type":"STRONG","start":19,"end":28,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_156.markups.6":{"type":"STRONG","start":30,"end":39,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_156.markups.7":{"type":"STRONG","start":44,"end":56,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_157":{"id":"ac08967d9642_157","name":"19db","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"forward_geolocate Cloud Code Trigger. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fforward_geolocate.js#L61-L122","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_157.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_157.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:ac08967d9642_157.markups.0":{"type":"A","start":43,"end":140,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fforward_geolocate.js#L61-L122","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:11f9518627eda4cf30d887eb94d7322b":{"id":"11f9518627eda4cf30d887eb94d7322b","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"forward-geolocate-trigger.js","__typename":"MediaResource"},"$Paragraph:ac08967d9642_157.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:11f9518627eda4cf30d887eb94d7322b","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_158":{"id":"ac08967d9642_158","name":"0d33","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ forward_geolocate is the Cloud Code Trigger that will receive any sensor data transmitted by our Collector Node over CoAP. This trigger allows us to intercept the sensor values and transform them.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_158.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_158.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_158.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_158.markups.0":{"type":"CODE","start":4,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_158.markups.1":{"type":"A","start":4,"end":21,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fforward_geolocate.js","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_158.markups.2":{"type":"STRONG","start":4,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_159":{"id":"ac08967d9642_159","name":"f317","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ forward_geolocate checks whether the message contains any ssid or rssi (signal strength) fields.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_159.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_159.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_159.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_159.markups.0":{"type":"CODE","start":4,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_159.markups.1":{"type":"CODE","start":62,"end":66,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_159.markups.2":{"type":"CODE","start":70,"end":74,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_160":{"id":"ac08967d9642_160","name":"c1d3","type":"P","href":null,"layout":null,"metadata":null,"text":"If the ssid and rssi fields were found, it forwards the message to the Cloud Code Function geolocate for processing.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_160.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_160.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_160.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_160.markups.0":{"type":"CODE","start":7,"end":11,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_160.markups.1":{"type":"CODE","start":16,"end":20,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_160.markups.2":{"type":"CODE","start":91,"end":100,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_161":{"id":"ac08967d9642_161","name":"1e6a","type":"P","href":null,"layout":null,"metadata":null,"text":"This was the code from the previous tutorial that performs WiFi Geolocation given a list of WiFi SSIDs their Signal Strength. geolocate is not needed if you don’t use the WiFi Geolocation feature.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_161.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_161.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_161.markups.0":{"type":"CODE","start":126,"end":135,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_161.markups.1":{"type":"A","start":23,"end":44,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-esp8266-with-apache-mynewt-7edceb9e3b8d","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_162":{"id":"ac08967d9642_162","name":"53dd","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_163":{"id":"ac08967d9642_163","name":"b5c7","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"geolocate Cloud Code Function. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fgeolocate.js#L66-L114","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_163.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_163.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:ac08967d9642_163.markups.0":{"type":"A","start":36,"end":125,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fgeolocate.js#L66-L114","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:3ce2a438a7b6020fc84111c8aa1830ef":{"id":"3ce2a438a7b6020fc84111c8aa1830ef","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"geolocate-main.js","__typename":"MediaResource"},"$Paragraph:ac08967d9642_163.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:3ce2a438a7b6020fc84111c8aa1830ef","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_164":{"id":"ac08967d9642_164","name":"464c","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ If WiFi Geolocation is enabled, Cloud Code Function geolocate passes the WiFi SSID and Signal Strength info to the Google WiFi Geolocation API. This info was obtained from the ESP8266 scanning nearby WiFI networks.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_164.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_164.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_164.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_164.markups.0":{"type":"CODE","start":56,"end":65,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_164.markups.1":{"type":"A","start":56,"end":65,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fgeolocate.js","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_164.markups.2":{"type":"STRONG","start":56,"end":65,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_165":{"id":"ac08967d9642_165","name":"35e4","type":"P","href":null,"layout":null,"metadata":null,"text":"The Geolocation API estimates the location of the device and returns the latitude, longitude and accuracy (in metres).","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_166":{"id":"ac08967d9642_166","name":"c622","type":"P","href":null,"layout":null,"metadata":null,"text":"geolocate calls the Cloud Code Function update_thing to update the thing state with the geolocation results, so that the results will be stored in thethings.io and the dashboards will be updated.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_166.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_166.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_166.markups.0":{"type":"CODE","start":0,"end":9,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_166.markups.1":{"type":"CODE","start":40,"end":52,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_167":{"id":"ac08967d9642_167","name":"dee3","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_168":{"id":"ac08967d9642_168","name":"3a04","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"update_thing Cloud Code Function. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fupdate_thing.js#L5-L49","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_168.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_168.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:ac08967d9642_168.markups.0":{"type":"A","start":39,"end":129,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fupdate_thing.js#L5-L49","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:cbfc2fc2aa6cbc99419b2b4da057ab40":{"id":"cbfc2fc2aa6cbc99419b2b4da057ab40","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"update-thing-http.js","__typename":"MediaResource"},"$Paragraph:ac08967d9642_168.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:cbfc2fc2aa6cbc99419b2b4da057ab40","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_169":{"id":"ac08967d9642_169","name":"c0e5","type":"P","href":null,"layout":null,"metadata":null,"text":"4️⃣ Cloud Function update_thing receives the updated sensor values (latitude, longitude, accuracy) and updates the thethings.io thing state by calling the HTTP API.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_169.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_169.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_169.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_169.markups.0":{"type":"CODE","start":19,"end":31,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_169.markups.1":{"type":"A","start":19,"end":31,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fupdate_thing.js","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_169.markups.2":{"type":"STRONG","start":19,"end":31,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_170":{"id":"ac08967d9642_170","name":"48d1","type":"P","href":null,"layout":null,"metadata":null,"text":"Since the option broadcast=true was specified, all the dashboards for the thing will be instantly refreshed, including the geolocation result.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_170.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_170.markups.0":{"type":"CODE","start":17,"end":31,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_171":{"id":"ac08967d9642_171","name":"92ea","type":"P","href":null,"layout":null,"metadata":null,"text":"5️⃣ The updating of the thing state also indirectly triggers forward_geolocate with the updated sensor values. Which leads to the next step…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_171.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_171.markups.0":{"type":"CODE","start":61,"end":78,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_172":{"id":"ac08967d9642_172","name":"33ff","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_173":{"id":"ac08967d9642_173","name":"34f6","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"forward_geolocate Cloud Code Trigger. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fforward_geolocate.js#L61-L122","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_173.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_173.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:ac08967d9642_173.markups.0":{"type":"A","start":43,"end":140,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fforward_geolocate.js#L61-L122","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:bf8f922f14fd839494d73ea95cc0fe11":{"id":"bf8f922f14fd839494d73ea95cc0fe11","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"forward-geolocate-trigger2.js","__typename":"MediaResource"},"$Paragraph:ac08967d9642_173.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:bf8f922f14fd839494d73ea95cc0fe11","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_174":{"id":"ac08967d9642_174","name":"fb55","type":"P","href":null,"layout":null,"metadata":null,"text":"6️⃣ The next step of forward_geolocate checks whether the sensor values have been transformed (i.e. whether the transformed key exists).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_174.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_174.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_174.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_174.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_174.markups.0":{"type":"CODE","start":21,"end":38,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_174.markups.1":{"type":"CODE","start":112,"end":123,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_174.markups.2":{"type":"A","start":21,"end":38,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fforward_geolocate.js","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_174.markups.3":{"type":"STRONG","start":21,"end":38,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_175":{"id":"ac08967d9642_175","name":"708e","type":"P","href":null,"layout":null,"metadata":null,"text":"If the values have not been transformed, it calls Cloud Function transform to transform the values.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_175.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_175.markups.0":{"type":"CODE","start":65,"end":74,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_176":{"id":"ac08967d9642_176","name":"df48","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_177":{"id":"ac08967d9642_177","name":"b7bc","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"transform Cloud Code Function. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Ftransform.js#L1-L36","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_177.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_177.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:ac08967d9642_177.markups.0":{"type":"A","start":36,"end":123,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Ftransform.js#L1-L36","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:6fecddc08d77f38ffc46846295d57dfe":{"id":"6fecddc08d77f38ffc46846295d57dfe","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"transform-values.js","__typename":"MediaResource"},"$Paragraph:ac08967d9642_177.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:6fecddc08d77f38ffc46846295d57dfe","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_178":{"id":"ac08967d9642_178","name":"526d","type":"P","href":null,"layout":null,"metadata":null,"text":"7️⃣ Cloud Code Function transform computes the actual floating-point temperature tmp given the raw temperature t.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_178.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_178.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_178.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_178.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_178.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_178.markups.0":{"type":"CODE","start":24,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_178.markups.1":{"type":"CODE","start":81,"end":84,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_178.markups.2":{"type":"CODE","start":111,"end":112,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_178.markups.3":{"type":"A","start":24,"end":33,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Ftransform.js","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_178.markups.4":{"type":"STRONG","start":24,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_179":{"id":"ac08967d9642_179","name":"7991","type":"P","href":null,"layout":null,"metadata":null,"text":"It calls Cloud Code Function update_thing to update the thing state with the computed temperature tmp. The transformed key is added to the sensor values to indicate that the sensor values have been transformed.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_179.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_179.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_179.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_179.markups.0":{"type":"CODE","start":29,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_179.markups.1":{"type":"CODE","start":98,"end":101,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_179.markups.2":{"type":"CODE","start":107,"end":118,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_180":{"id":"ac08967d9642_180","name":"5b7e","type":"P","href":null,"layout":null,"metadata":null,"text":"This leads to Steps 4️⃣ and 5️⃣ that we have seen earlier. Any dashboards that render the tmp value will be automatically refreshed.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_180.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_180.markups.0":{"type":"CODE","start":90,"end":93,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_181":{"id":"ac08967d9642_181","name":"6cbe","type":"P","href":null,"layout":null,"metadata":null,"text":"forward_geolocate is triggered once again, leading to the final step…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_181.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_181.markups.0":{"type":"CODE","start":0,"end":17,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_182":{"id":"ac08967d9642_182","name":"d617","type":"IFRAME","href":null,"layout":"OUTSET_LEFT","metadata":null,"text":"pushSensorData from Cloud Code Trigger forward_geolocate. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fforward_geolocate.js#L17-L60","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_182.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_182.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:ac08967d9642_182.markups.0":{"type":"A","start":63,"end":159,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fforward_geolocate.js#L17-L60","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:9fd4dda358f00d3ec45bef3ab7d0ab0c":{"id":"9fd4dda358f00d3ec45bef3ab7d0ab0c","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"push-sensor-data.js","__typename":"MediaResource"},"$Paragraph:ac08967d9642_182.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:9fd4dda358f00d3ec45bef3ab7d0ab0c","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:ac08967d9642_183":{"id":"ac08967d9642_183","name":"3b21","type":"P","href":null,"layout":null,"metadata":null,"text":"8️⃣ forward_geolocate takes the geolocated and transformed sensor values (latitude, longitude, accuracy, computed temperature) and transmits them to an external server blue-pill-geolocate.appspot.com via a HTTP POST request.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_183.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_183.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_183.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_183.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_183.markups.0":{"type":"CODE","start":4,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_183.markups.1":{"type":"CODE","start":168,"end":199,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_183.markups.2":{"type":"A","start":4,"end":21,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fforward_geolocate.js","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_183.markups.3":{"type":"STRONG","start":4,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_184":{"id":"ac08967d9642_184","name":"c205","type":"P","href":null,"layout":null,"metadata":null,"text":"This step is not needed if you’re not using an external server to share your sensor data publicly.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_185":{"id":"ac08967d9642_185","name":"3e5d","type":"P","href":null,"layout":null,"metadata":null,"text":"Details of the external server setup may be found in gcloud-wifi-geolocation","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_185.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_185.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_185.markups.0":{"type":"CODE","start":53,"end":76,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_185.markups.1":{"type":"A","start":53,"end":76,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fgcloud-wifi-geolocation","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_186":{"id":"ac08967d9642_186","name":"09da","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_187":{"id":"ac08967d9642_187","name":"c989","type":"P","href":null,"layout":null,"metadata":null,"text":"Note that the nRF24L01 Sensor Node Address (e.g. B3-B4-B5-B6-F1) is transmitted to thethings.io as sensor field node. It’s possible to interpret the node field so that each Sensor Node is represented by a different Thing in thethings.io. In the update_thing Cloud Code Function, we may map node to a Thing Token using a predefined mapping table. If you need more details, drop me a note!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_187.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_187.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_187.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_187.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_187.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_187.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_187.markups.6","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_187.markups.0":{"type":"CODE","start":49,"end":63,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_187.markups.1":{"type":"CODE","start":112,"end":116,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_187.markups.2":{"type":"CODE","start":149,"end":153,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_187.markups.3":{"type":"CODE","start":245,"end":257,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_187.markups.4":{"type":"CODE","start":290,"end":294,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_187.markups.5":{"type":"A","start":245,"end":257,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fthethingsio-wifi-geolocation\u002Fblob\u002Fmaster\u002Fupdate_thing.js","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_187.markups.6":{"type":"STRONG","start":245,"end":257,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_188":{"id":"ac08967d9642_188","name":"b360","type":"H3","href":null,"layout":null,"metadata":null,"text":"Bootloader Stub","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_189":{"id":"ac08967d9642_189","name":"5507","type":"P","href":null,"layout":null,"metadata":null,"text":"The application for the Sensor Network has grown quite complex, since it contains drivers for both nRF24L01 and ESP8266, as well as the encoding libraries for CoAP, JSON and CBOR message formats.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_190":{"id":"ac08967d9642_190","name":"99fd","type":"P","href":null,"layout":null,"metadata":null,"text":"To squeeze the code into 64 KB of ROM on Blue Pill, we have switched to a smaller bootloader called boot_stub. This bootloader doesn’t do any of the typical Mynewt Bootloader functions; it simply jumps to the application code.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_190.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_190.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_190.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_190.markups.0":{"type":"CODE","start":100,"end":109,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_190.markups.1":{"type":"A","start":74,"end":109,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fmaster\u002Fapps\u002Fboot_stub","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_190.markups.2":{"type":"A","start":149,"end":184,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fos\u002Fmodules\u002Fbootloader\u002Fbootloader.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_191":{"id":"ac08967d9642_191","name":"a8ae","type":"P","href":null,"layout":null,"metadata":null,"text":"The bootloader fits in 4 KB of ROM. The rest of the ROM (up to 60 KB) is available for the application.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_192":{"id":"ac08967d9642_192","name":"f496","type":"P","href":null,"layout":null,"metadata":null,"text":"The Board Support Package for Blue Pill has been locally patched on your Mynewt build to use the new memory layout: bluepill.ld, bsp.yml. The ROM flashing scripts in the scripts folder have also been updated.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_192.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_192.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_192.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_192.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_192.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_192.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_192.markups.0":{"type":"CODE","start":116,"end":127,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_192.markups.1":{"type":"CODE","start":129,"end":136,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_192.markups.2":{"type":"CODE","start":170,"end":177,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_192.markups.3":{"type":"A","start":116,"end":127,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fpatch\u002Fbluepill.ld","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_192.markups.4":{"type":"A","start":129,"end":136,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Fpatch\u002Fbsp.yml","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_192.markups.5":{"type":"A","start":170,"end":177,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fmaster\u002Fscripts","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_193":{"id":"ac08967d9642_193","name":"3f1d","type":"P","href":null,"layout":null,"metadata":null,"text":"The current application size is close to 60 KB. If we’re not using the debugger, we may reduce the application size by switching the build profile from debug to optimized in targets\u002Fbluepill_my_sensor\u002Ftarget.yml:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_193.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_193.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_193.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_193.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_193.markups.0":{"type":"CODE","start":152,"end":157,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_193.markups.1":{"type":"CODE","start":161,"end":170,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_193.markups.2":{"type":"CODE","start":174,"end":211,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_193.markups.3":{"type":"A","start":174,"end":211,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fmaster\u002Ftargets\u002Fbluepill_my_sensor\u002Ftarget.yml","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_194":{"id":"ac08967d9642_194","name":"0cca","type":"PRE","href":null,"layout":null,"metadata":null,"text":"target.build_profile: optimized","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_195":{"id":"ac08967d9642_195","name":"021e","type":"H3","href":null,"layout":null,"metadata":null,"text":"What’s Next?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_196":{"id":"ac08967d9642_196","name":"c7ac","type":"P","href":null,"layout":null,"metadata":null,"text":"The full power of Apache Mynewt is obvious while we were building the Sensor Network on Blue Pill…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_197":{"id":"ac08967d9642_197","name":"6681","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Simultaneously receiving and transmitting sensor data messages","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_197.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_197.markups.0":{"type":"STRONG","start":4,"end":45,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_198":{"id":"ac08967d9642_198","name":"1d01","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ Multitasking of network drivers (nRF24L01 and ESP8266) with interrupts","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_198.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_198.markups.0":{"type":"STRONG","start":4,"end":35,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_199":{"id":"ac08967d9642_199","name":"52ed","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ Built-in CoAP, JSON and CBOR encoding and decoding","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_199.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_199.markups.0":{"type":"STRONG","start":4,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_200":{"id":"ac08967d9642_200","name":"0b84","type":"P","href":null,"layout":null,"metadata":null,"text":"4️⃣ Built-in Sensor Framework for multitasking multiple sensors, including Remote Sensors","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_200.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_200.markups.0":{"type":"STRONG","start":4,"end":29,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_201":{"id":"ac08967d9642_201","name":"e757","type":"P","href":null,"layout":null,"metadata":null,"text":"All this compiled into 60 KB of ROM on Blue Pill!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_201.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_201.markups.0":{"type":"EM","start":23,"end":35,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_202":{"id":"ac08967d9642_202","name":"1d6f","type":"P","href":null,"layout":null,"metadata":null,"text":"And we have wrapped all of the above into a Sensor Network Library that’s Network-Agnostic (works on any network) and makes Sensor Network development so simple.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_202.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_202.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_202.markups.0":{"type":"STRONG","start":44,"end":66,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_202.markups.1":{"type":"STRONG","start":74,"end":90,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_203":{"id":"ac08967d9642_203","name":"3262","type":"P","href":null,"layout":null,"metadata":null,"text":"I’m keen to prove that Network-Agnostic IoT is feasible, that we can make the same device code run on any network. Today I have proven this for ESP8266 (WiFi) and nRF24L01 networks, tell me which networks I should tackle next!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_203.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_203.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_203.markups.0":{"type":"STRONG","start":23,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_203.markups.1":{"type":"EM","start":182,"end":226,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_204":{"id":"ac08967d9642_204","name":"53ed","type":"P","href":null,"layout":null,"metadata":null,"text":"[UPDATE] I have ported the code in this article to Rust for a safer, smarter coding experience…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_205":{"id":"ac08967d9642_205","name":"0913","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"Hosting Embedded Rust apps on Apache Mynewt with STM32 Blue Pill\nBuild IoT devices the smarter, safer way with Rust and Apache Mynewtmedium.com","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_205.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_205.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_205.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_205.mixtapeMetadata","typename":"MixtapeMetadata"}},"Paragraph:ac08967d9642_205.markups.0":{"type":"A","start":0,"end":143,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fhosting-embedded-rust-apps-on-apache-mynewt-with-stm32-blue-pill-c86b119fe5f","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_205.markups.1":{"type":"STRONG","start":0,"end":64,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_205.markups.2":{"type":"EM","start":65,"end":133,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Paragraph:ac08967d9642_205.mixtapeMetadata":{"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fhosting-embedded-rust-apps-on-apache-mynewt-with-stm32-blue-pill-c86b119fe5f","thumbnailImageId":"1*fyYjlV_EPqraAEYuRbst1A.png","mediaResourceId":"1*fyYjlV_EPqraAEYuRbst1A.png","__typename":"MixtapeMetadata"},"Paragraph:ac08967d9642_206":{"id":"ac08967d9642_206","name":"3abc","type":"P","href":null,"layout":null,"metadata":null,"text":"I have added NB-IoT support for the Sensor Network Library here…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_206.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:ac08967d9642_206.markups.0":{"type":"STRONG","start":13,"end":58,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_207":{"id":"ac08967d9642_207","name":"977e","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"Connect STM32 Blue Pill to NB-IoT with Quectel BC95-G and Apache Mynewt\nBuild a real IoT sensor with STM32 Blue Pill and Quectel BC95-G Global NB-IoT modulemedium.com","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_207.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_207.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:ac08967d9642_207.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":{"type":"id","generated":true,"id":"$Paragraph:ac08967d9642_207.mixtapeMetadata","typename":"MixtapeMetadata"}},"Paragraph:ac08967d9642_207.markups.0":{"type":"A","start":0,"end":166,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-nb-iot-with-quectel-bc95-g-and-apache-mynewt-c99a9d8417a9","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_207.markups.1":{"type":"STRONG","start":0,"end":71,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:ac08967d9642_207.markups.2":{"type":"EM","start":72,"end":156,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Paragraph:ac08967d9642_207.mixtapeMetadata":{"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194039\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fconnect-stm32-blue-pill-to-nb-iot-with-quectel-bc95-g-and-apache-mynewt-c99a9d8417a9","thumbnailImageId":"1*EKAWYUoAU4_SMRWYNpyy4w.png","mediaResourceId":"1*EKAWYUoAU4_SMRWYNpyy4w.png","__typename":"MixtapeMetadata"},"Tag:iot":{"id":"iot","displayTitle":"IoT","__typename":"Tag"},"Tag:internet-of-things":{"id":"internet-of-things","displayTitle":"Internet of Things","__typename":"Tag"},"Tag:esp8266":{"id":"esp8266","displayTitle":"Esp8266","__typename":"Tag"},"Tag:nrf24l01":{"id":"nrf24l01","displayTitle":"Nrf24l01","__typename":"Tag"},"Tag:stm32":{"id":"stm32","displayTitle":"Stm32","__typename":"Tag"},"$Post:ca7486523f5d.previewContent":{"subtitle":"Learn to build a Sensor Network that routes sensor data from the nRF24L01 local network to the ESP8266 WiFi network","__typename":"PreviewContent"}}</script><script src="https://web.archive.org/web/20191204194039js_/https://cdn-client.medium.com/lite/static/js/manifest.c83c1a1a.js"></script><script src="https://web.archive.org/web/20191204194039js_/https://cdn-client.medium.com/lite/static/js/vendors~main.9c8dc7d0.chunk.js"></script><script src="https://web.archive.org/web/20191204194039js_/https://cdn-client.medium.com/lite/static/js/main.c5c932e3.chunk.js"></script><script src="https://web.archive.org/web/20191204194039js_/https://cdn-client.medium.com/lite/static/js/vendors~screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~scre~3e410f11.faa5af01.chunk.js"></script>
<script src="https://web.archive.org/web/20191204194039js_/https://cdn-client.medium.com/lite/static/js/screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~screen.post~~73c4bb05.cf7c8ea6.chunk.js"></script>
<script src="https://web.archive.org/web/20191204194039js_/https://cdn-client.medium.com/lite/static/js/screen.post~screen.post.amp~screen.post.series~screen.profile~screen.sequence.library~screen.sequenc~036c6b37.3e471c5d.chunk.js"></script>
<script src="https://web.archive.org/web/20191204194039js_/https://cdn-client.medium.com/lite/static/js/screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tick~screen.landingp~ed90ee39.3c8733a8.chunk.js"></script>
<script src="https://web.archive.org/web/20191204194039js_/https://cdn-client.medium.com/lite/static/js/screen.post.1aa42b57.chunk.js"></script><script>window.main();</script></body></html><!--
     FILE ARCHIVED ON 19:40:39 Dec 04, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 01:29:49 Feb 23, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  esindex: 0.014
  captures_list: 191.452
  load_resource: 67.769
  RedisCDXSource: 0.772
  LoadShardBlock: 156.062 (3)
  exclusion.robots: 0.442
  PetaboxLoader3.datanode: 177.48 (4)
  exclusion.robots.policy: 0.424
  CDXLines.iter: 29.675 (3)
  PetaboxLoader3.resolve: 30.95
-->