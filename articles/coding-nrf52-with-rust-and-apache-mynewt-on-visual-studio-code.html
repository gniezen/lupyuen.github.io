<!doctype html><html lang="en"><head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app103.us.archive.org';v.server_ms=239;archive_analytics.send_pageview({});});</script><script type="text/javascript" src="/_static/js/playback.bundle.js?v=bQvHU8mx" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/wombat.js?v=cRqOKCOw" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("https://web.archive.org/web");
  __wm.wombat("https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004?source=friends_link&sk=bb4e2523b922d0870259ab3fa696c7da","20191217201803","https://web.archive.org/","web","/_static/",
	      "1576613883");
</script>
<link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=bsmaklHF" />
<link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->
<script>!function(c,f){var t,o,i,e=[],r={passive:!0,capture:!0},n=new Date,a="pointerup",u="pointercancel";function p(n,e){t||(t=e,o=n,i=new Date,w(f),s())}function s(){0<=o&&o<i-n&&(e.forEach(function(n){n(o,t)}),e=[])}function l(n){if(n.cancelable){var e=(1e12<n.timeStamp?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,e){function t(){p(n,e),i()}function o(){i()}function i(){f(a,t,r),f(u,o,r)}c(a,t,r),c(u,o,r)}(e,n):p(e,n)}}function w(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(n){e(n,l,r)})}w(c),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){e.push(n),s()}}(addEventListener,removeEventListener)</script><title data-rh="true">Coding nRF52 with Rust and Apache Mynewt on Visual Studio Code</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2019-11-26T04:43:21.543Z"/><meta data-rh="true" name="title" content="Coding nRF52 with Rust and Apache Mynewt on Visual Studio Code"/><meta data-rh="true" property="og:title" content="Coding nRF52 with Rust and Apache Mynewt on Visual Studio Code"/><meta data-rh="true" property="twitter:title" content="Coding nRF52 with Rust and Apache Mynewt on Visual Studio Code"/><meta data-rh="true" name="twitter:site" content="@Medium"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/9521bcba6004"/><meta data-rh="true" property="al:android:url" content="medium://p/9521bcba6004"/><meta data-rh="true" property="al:ios:url" content="medium://p/9521bcba6004"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="Build an iBeacon with Apache NimBLE… Connect nRF52 to ST-Link / Raspberry Pi… And more!"/><meta data-rh="true" property="og:description" content="Build an iBeacon with Apache NimBLE… Connect nRF52 to ST-Link / Raspberry Pi… And more!"/><meta data-rh="true" property="twitter:description" content="Build an iBeacon with Apache NimBLE… Connect nRF52 to ST-Link / Raspberry Pi… And more!"/><meta data-rh="true" property="og:url" content="https://web.archive.org/web/20191217201803/https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004"/><meta data-rh="true" property="al:web:url" content="https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004"/><meta data-rh="true" property="og:image" content="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/1200/1*AfTha5-zgaqPAilsamj-Mw.jpeg"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1200/1*AfTha5-zgaqPAilsamj-Mw.jpeg"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" property="article:author" content="https://medium.com/@ly.lee"/><meta data-rh="true" name="twitter:creator" content="@MisterTechBlog"/><meta data-rh="true" name="author" content="Lup Yuen Lee 李立源"/><meta data-rh="true" name="robots" content="index,follow"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" name="twitter:label1" value="Reading time"/><meta data-rh="true" name="twitter:data1" value="26 min read"/><meta data-rh="true" name="parsely-post-id" content="9521bcba6004"/><link data-rh="true" rel="publisher" href="https://plus.google.com/103654360130207659246"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/web/20191217201803/https://medium.com/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://web.archive.org/web/20191217201803im_/https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://web.archive.org/web/20191217201803im_/https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://web.archive.org/web/20191217201803im_/https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://web.archive.org/web/20191217201803im_/https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="mask-icon" href="https://web.archive.org/web/20191217201803im_/https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"/><link data-rh="true" rel="icon" href="https://web.archive.org/web/20191217201803im_/https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://web.archive.org/web/20191217201803cs_/https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css"/><link data-rh="true" rel="author" href="https://medium.com/@ly.lee"/><link data-rh="true" rel="canonical" href="https://web.archive.org/web/20191217201803/https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004"/><link data-rh="true" rel="alternate" href="https://web.archive.org/web/20191217201803/android-app://com.medium.reader/https/medium.com/p/9521bcba6004"/><script data-rh="true" type="application/ld+json">{"@context":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttp:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*AfTha5-zgaqPAilsamj-Mw.jpeg"],"url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","dateCreated":"2019-10-03T13:21:10.852Z","datePublished":"2019-10-03T13:21:10.852Z","dateModified":"2019-11-26T04:43:21.956Z","headline":"Coding nRF52 with Rust and Apache Mynewt on Visual Studio Code","name":"Coding nRF52 with Rust and Apache Mynewt on Visual Studio Code","description":"Build an iBeacon with Apache NimBLE… Connect nRF52 to ST-Link \u002F Raspberry Pi… And more!","identifier":"9521bcba6004","keywords":["Lite:true","Tag:Programming","Tag:Gadgets","Tag:Nrf52","Tag:Rust","Tag:Mynewt","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:0"],"author":{"@type":"Person","name":"Lup Yuen Lee 李立源","url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee"},"creator":["Lup Yuen Lee 李立源"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F616\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004"}</script><script data-rh="true">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://web.archive.org/web/20191217201803/https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-24232453-2', 'auto');
ga('send', 'pageview');</script><link rel="preload" href="https://web.archive.org/web/20191217201803/https://cdn.optimizely.com/js/16180790160.js" as="script"><style type="text/css" data-fela-rehydration="499" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@-moz-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{fill:rgba(0, 0, 0, 0.84)}.r{display:block}.s{position:fixed}.t{top:0}.u{left:0}.v{right:0}.w{z-index:500}.x{box-shadow:0 4px 12px 0 rgba(0, 0, 0, 0.05)}.ai{max-width:1192px}.aj{min-width:0}.ak{width:100%}.al{height:65px}.ao{flex:1 0 auto}.ap{display:none}.ar{flex:0 0 auto}.as{visibility:hidden}.at{color:inherit}.au{fill:inherit}.av{font-size:inherit}.aw{border:inherit}.ax{font-family:inherit}.ay{letter-spacing:inherit}.az{font-weight:inherit}.ba{padding:0}.bb{margin:0}.bc:hover{cursor:pointer}.bd:hover{color:rgba(0, 0, 0, 0.9)}.be:hover{fill:rgba(0, 0, 0, 0.9)}.bf:focus{outline:none}.bg:disabled{cursor:default}.bh:disabled{color:rgba(0, 0, 0, 0.54)}.bi:disabled{fill:rgba(0, 0, 0, 0.54)}.bj{font-family:medium-content-sans-serif-font, "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Arial, sans-serif}.bk{font-style:normal}.bl{line-height:20px}.bm{font-size:15.8px}.bn{letter-spacing:0px}.bo{color:rgba(0, 0, 0, 0.54)}.bp{fill:rgba(0, 0, 0, 0.54)}.bq{margin-left:16px}.br{color:rgba(2, 158, 116, 1)}.bs{fill:rgba(3, 168, 124, 1)}.bt:hover{color:rgba(1, 143, 105, 1)}.bu:hover{fill:rgba(2, 158, 116, 1)}.bv:disabled{color:rgba(3, 168, 124, 0.5)}.bw:disabled{fill:rgba(3, 168, 124, 0.5)}.bx{padding:8px 16px}.by{background:0}.bz{border-color:rgba(3, 168, 124, 1)}.ca:hover{border-color:rgba(2, 158, 116, 1)}.cb{border-radius:4px}.cc{border-width:1px}.cd{border-style:solid}.ce{box-sizing:border-box}.cf{display:inline-block}.cg{text-decoration:none}.ch{margin-bottom:0px}.cj{padding-left:24px}.ck{padding-right:24px}.cl{margin-left:auto}.cm{margin-right:auto}.cn{max-width:728px}.co{flex-direction:column}.cp{position:absolute}.cq{top:calc(100vh + 100px)}.cr{bottom:calc(100vh + 100px)}.cs{width:10px}.ct{pointer-events:none}.cu{word-break:break-word}.cv{word-wrap:break-word}.cw:after{display:block}.cx:after{content:""}.cy:after{clear:both}.cz{clear:both}.da{margin-top:0px}.db{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.dc{cursor:zoom-in}.dd{position:relative}.de{z-index:auto}.df{opacity:0}.dg{transition:opacity 100ms 400ms}.dh{height:100%}.di{overflow:hidden}.dj{will-change:transform}.dk{transform:translateZ(0)}.dl{margin:auto}.dm{background-color:rgba(0, 0, 0, 0.05)}.dn{padding-bottom:52.2981732469063%}.do{filter:blur(20px)}.dp{transform:scale(1.1)}.dq{visibility:visible}.dr{background:rgba(255, 255, 255, 1)}.ds{font-size:16px}.dt{line-height:1.4}.du{margin-top:10px}.dv{text-align:center}.dy{font-weight:300}.dz{max-width:680px}.ea{line-height:1.23}.eb{letter-spacing:0}.ec{color:rgba(0, 0, 0, 0.84)}.ed{font-family:medium-content-title-font, Georgia, Cambria, "Times New Roman", Times, serif}.eo{margin-bottom:-0.27em}.eu{margin-top:32px}.ev{justify-content:space-between}.ez{width:48px}.fa{height:48px}.fb{flex-direction:row}.fc{width:calc(100% + 25px)}.fd{height:calc(100% + 25px)}.fe{top:50%}.ff{left:50%}.fg{transform:translateX(-50%) translateY(-50%)}.fh{border-radius:50%}.fi{margin-left:12px}.fj{margin-bottom:2px}.fl{max-height:20px}.fm{text-overflow:ellipsis}.fn{display:-webkit-box}.fo{-webkit-line-clamp:1}.fp{-webkit-box-orient:vertical}.fq:hover{text-decoration:underline}.fr{margin-left:8px}.fs{padding:0px 8px}.ft{border-color:rgba(0, 0, 0, 0.54)}.fu:hover{color:rgba(0, 0, 0, 0.97)}.fv:hover{fill:rgba(0, 0, 0, 0.97)}.fw:hover{border-color:rgba(0, 0, 0, 0.84)}.fx:disabled{fill:rgba(0, 0, 0, 0.76)}.fy:disabled{border-color:rgba(0, 0, 0, 0.2)}.fz:disabled{cursor:inherit}.ga:disabled:hover{color:rgba(0, 0, 0, 0.54)}.gb:disabled:hover{fill:rgba(0, 0, 0, 0.76)}.gc:disabled:hover{border-color:rgba(0, 0, 0, 0.2)}.gd{line-height:18px}.ge{font-size:15px}.gf{align-items:flex-end}.gn{padding-right:8px}.go{margin-right:-6px}.gp{line-height:1.58}.gq{letter-spacing:-0.004em}.gr{font-family:medium-content-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.hc{margin-bottom:-0.46em}.hd{background-repeat:repeat-x}.he{background-image:linear-gradient(to right,rgba(0, 0, 0, 0.84) 100%,rgba(0, 0, 0, 0.84) 0);background-image:url('data:image/svg+xml;utf8,<svg preserveAspectRatio="none" viewBox="0 0 1 1" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="1" y2="1" stroke="rgba(0, 0, 0, 0.84)" /></svg>')}.hf{background-size:1px 1px}.hg{background-position:0 1.05em;background-position:0 calc(1em + 1px)}.hh{font-weight:700}.hi{font-style:italic}.hj{padding:2px 4px}.hk{font-size:75%}.hl> strong{font-family:inherit}.hm{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.hs{box-shadow:0 1px 4px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(0, 0, 0, 0.1)}.ht{max-height:40px}.hu{-webkit-line-clamp:2}.hv{padding:0px}.il{padding:16px 20px}.im{flex:1 1 auto}.io{font-weight:600}.ip{font-size:18px}.iq{margin-top:8px}.ir{margin-top:12px}.is{font-family:medium-content-slab-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.it{font-size:28px}.iu{border:none}.iv{margin-top:30px}.iw:before{content:"..."}.ix:before{letter-spacing:0.6em}.iy:before{text-indent:0.6em}.iz:before{font-style:italic}.ja:before{line-height:1.4}.jb{line-height:1.12}.jc{letter-spacing:-0.022em}.jl{margin-bottom:-0.28em}.jr{max-width:4476px}.jx{padding-bottom:132.37265415549598%}.jy{max-width:1242px}.jz{border-width:2px}.ka{border-color:rgba(255, 255, 255, 1)}.kb{float:left}.kc{margin-left:-150px}.kd{margin-right:30px}.ke{width:75%}.kf{padding-bottom:10px}.kk{margin-bottom:16px}.kl{padding-bottom:48.792270531400966%}.km{list-style-type:decimal}.kn{margin-left:30px}.ko{padding-left:0px}.ku{max-width:634px}.kv{padding-bottom:93.37539432176655%}.kw{max-width:3516px}.kx{padding-bottom:68.71444823663253%}.lg{max-width:1787px}.lh{padding-bottom:5px}.li{padding-top:5px}.lj{padding-bottom:60.82820369334079%}.lk{max-width:4848px}.ll{padding-bottom:71.43151815181518%}.lm{padding-bottom:60.093896713615024%}.ls{max-width:356px}.lt{padding-bottom:98.31460674157303%}.lu{max-width:467px}.lv{padding-bottom:76.23126338329764%}.lw{max-width:472px}.lx{padding-bottom:109.3220338983051%}.ly{max-width:384px}.lz{padding-bottom:113.02083333333333%}.ma{max-width:377px}.mb{padding-bottom:58.88594164456234%}.mc{padding-bottom:NaN%}.md{max-width:452px}.me{padding-bottom:94.69026548672566%}.mf{padding:20px}.mg{background:rgba(0, 0, 0, 0.05)}.mh{overflow-x:auto}.mi{line-height:1.18}.mj{margin-top:-0.09em}.mk{margin-bottom:-0.09em}.ml{white-space:pre-wrap}.mr{max-width:364px}.ms{padding-bottom:37.08791208791209%}.mt{max-width:773px}.mu{padding-bottom:78.26649417852522%}.mv{padding-bottom:81.85880250223414%}.mw{max-width:6000px}.mx{padding-bottom:66.66666666666667%}.my{width:160px}.mz{background-image:url(https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/320/0*wGJeSSpfrKosGhea)}.na{background-origin:border-box}.nb{background-size:cover}.nc{height:167px}.nd{background-position:50% 50%}.ne{max-width:100%}.nf{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1)}.ng{padding-bottom:137.76167471819645%}.nh{max-width:1800px}.ni{padding-bottom:2.7777777777777777%}.nj{padding-bottom:47.26247987117552%}.nk{padding-bottom:82.04508856682769%}.nl{padding-bottom:96.29629629629629%}.nm{padding-bottom:75%}.nn{max-width:3556px}.no{padding-bottom:99.80314960629921%}.np{background-image:url(https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/320/1*ceITcv2j-Rexz_1r6AHp1g.png)}.nq{background-image:url(https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/320/1*1oFvRxqOf1kUmCAxPaJXpw.jpeg)}.nr{background-image:url(https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/320/1*P9NuG-tqsK3YKVo97v7PRA.png)}.ns{max-width:4958px}.nt{padding-bottom:70.31060911657927%}.nu{max-width:714px}.nv{padding-bottom:57.00280112044818%}.nw{max-width:1010px}.nx{padding-bottom:131.08910891089107%}.ny{max-width:566px}.nz{padding-bottom:45.406360424028264%}.oa{max-width:588px}.ob{padding-bottom:52.38095238095238%}.oc{will-change:opacity}.od{top:calc(65px + 54px + 40px)}.og{width:131px}.oh{padding-top:28px}.oi{margin-bottom:19px}.oj{margin-left:-5px}.ok{margin-right:5px}.ol{outline:0}.om{border:0}.on{user-select:none}.oo{cursor:pointer}.op> svg{pointer-events:none}.oq:active{border-style:none}.or{-webkit-user-select:none}.os{fill:rgba(0, 0, 0, 0.76)}.ot:focus{fill:rgba(0, 0, 0, 0.54)}.ou:hover{fill:rgba(0, 0, 0, 0.54)}.ov{margin-top:5px}.ow button{text-align:left}.ox{width:188px}.oy{transform:translateX(406px)}.oz{top:calc(65px + 54px + 14px)}.pb{margin-top:40px}.pc{flex-wrap:wrap}.pd{margin-top:25px}.pe{list-style-type:none}.pf{margin-right:8px}.pg{margin-bottom:8px}.ph{border-radius:3px}.pi{padding:5px 10px}.pj{line-height:22px}.pk{margin-top:15px}.pl{margin-right:16px}.pm{border:1px solid rgba(0, 0, 0, 0.1)}.pn{height:60px}.po{width:60px}.qb:hover{border-color:rgba(0, 0, 0, 0.54)}.qc:active{border-style:solid}.qd{z-index:2}.qf{padding-top:32px}.qg{border-top:1px solid rgba(0, 0, 0, 0.1)}.qh{margin-bottom:25px}.qi{margin-bottom:32px}.qj{min-height:80px}.qo{width:80px}.qp{height:80px}.qq{padding-left:102px}.qs{text-transform:uppercase}.qt{letter-spacing:0.05em}.qu{margin-bottom:6px}.qv{line-height:36px}.qw{padding:4px 12px}.qx{max-width:555px}.qy{max-width:450px}.qz{line-height:24px}.rb{padding-top:25px}.rc{color:rgba(0, 0, 0, 0.76)}.rd{opacity:1}.re{border:1px solid rgba(3, 168, 124, 1)}.rf{margin-top:64px}.rg{background-color:rgba(0, 0, 0, 0.02)}.rh{padding:60px 0}.ri{background-color:rgba(0, 0, 0, 0.9)}.rk{padding-bottom:48px}.rl{border-bottom:1px solid rgba(255, 255, 255, 0.54)}.rm{margin:0 -12px}.rn{margin:0 12px}.ro{flex:1 1 0}.rp{padding-bottom:12px}.rq:hover{color:rgba(255, 255, 255, 0.99)}.rr:hover{fill:rgba(255, 255, 255, 0.99)}.rs:disabled{color:rgba(255, 255, 255, 0.7)}.rt:disabled{fill:rgba(255, 255, 255, 0.7)}.ru{color:rgba(255, 255, 255, 0.98)}.rv{fill:rgba(255, 255, 255, 0.98)}.rw{text-align:inherit}.rx{font-size:21.6px}.ry{letter-spacing:-0.32px}.rz{color:rgba(255, 255, 255, 0.7)}.sa{fill:rgba(255, 255, 255, 0.7)}.sb{text-decoration:underline}.sc{padding-bottom:8px}.sd{padding-top:8px}.se{width:200px}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.ah{margin:0 64px}.em{font-size:40px}.en{margin-top:0.78em}.et{line-height:48px}.gm{margin-left:30px}.ha{font-size:21px}.hb{margin-top:2em}.hr{margin-top:32px}.ii{padding-left:64px}.ij{padding-right:64px}.ik{max-width:1320px}.jj{font-size:34px}.jk{margin-top:1.25em}.jq{margin-top:0.86em}.jw{margin-top:56px}.kt{margin-top:1.05em}.lf{max-width:1192px}.lr{margin-top:1.95em}.mq{margin-top:1.91em}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.dw{margin-left:auto}.dx{text-align:center}.gl{margin-left:30px}.if{padding-left:64px}.ig{padding-right:64px}.ih{max-width:1080px}.kg{float:none}.kh{margin-left:0}.ki{margin-right:0}.kj{width:100%}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.gk{margin-left:30px}.ic{padding-left:48px}.id{padding-right:48px}.ie{max-width:904px}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.am{height:56px}.an{display:flex}.aq{display:block}.ci{margin-bottom:0px}.ex{margin-top:32px}.ey{flex-direction:column-reverse}.gi{margin-bottom:30px}.gj{margin-left:0px}.hz{padding-left:24px}.ia{padding-right:24px}.ib{max-width:728px}.in{padding:10px 12px 10px}.qk{margin-bottom:24px}.ql{align-items:center}.qm{width:102px}.qn{position:relative}.qr{padding-left:0}.ra{margin-top:24px}.rj{padding:32px 0}.sf{width:140px}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.ac{margin:0 24px}.ee{font-size:30px}.ef{margin-top:0.72em}.ep{line-height:40px}.ew{margin-top:32px}.fk{margin-bottom:0px}.gg{margin-bottom:30px}.gh{margin-left:0px}.gs{font-size:18px}.gt{margin-top:1.56em}.hn{margin-top:24px}.hw{padding-left:24px}.hx{padding-right:24px}.hy{max-width:552px}.jd{margin-top:0.93em}.jm{margin-top:0.67em}.js{margin-top:40px}.kp{margin-top:1.34em}.ky{margin:0}.kz{max-width:100%}.ln{margin-top:1.2em}.mm{margin-top:1.41em}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.ag{margin:0 64px}.ek{font-size:40px}.el{margin-top:0.78em}.es{line-height:48px}.gy{font-size:21px}.gz{margin-top:2em}.hq{margin-top:32px}.jh{font-size:34px}.ji{margin-top:1.25em}.jp{margin-top:0.86em}.jv{margin-top:56px}.ks{margin-top:1.05em}.le{max-width:1192px}.lq{margin-top:1.95em}.mp{margin-top:1.91em}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.af{margin:0 48px}.ei{font-size:40px}.ej{margin-top:0.78em}.er{line-height:48px}.gw{font-size:21px}.gx{margin-top:2em}.hp{margin-top:32px}.jf{font-size:34px}.jg{margin-top:1.25em}.jo{margin-top:0.86em}.ju{margin-top:56px}.kr{margin-top:1.05em}.lc{margin:0}.ld{max-width:100%}.lp{margin-top:1.95em}.mo{margin-top:1.91em}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.ae{margin:0 24px}.eg{font-size:30px}.eh{margin-top:0.72em}.eq{line-height:40px}.gu{font-size:18px}.gv{margin-top:1.56em}.ho{margin-top:24px}.je{margin-top:0.93em}.jn{margin-top:0.67em}.jt{margin-top:40px}.kq{margin-top:1.34em}.la{margin:0}.lb{max-width:100%}.lo{margin-top:1.2em}.mn{margin-top:1.41em}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE" media="print">.ab{display:none}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.y{transition:transform 300ms ease}.z{will-change:transform}.oe{transition:opacity 200ms}.pp{transition:border-color 150ms ease}.pq::before{background:
      radial-gradient(circle, rgba(0, 0, 0, 0.84) 60%, transparent 70%)
    }.pr::before{border-radius:50%}.ps::before{content:""}.pt::before{display:block}.pu::before{z-index:0}.pv::before{left:0}.pw::before{height:100%}.px::before{position:absolute}.py::before{top:0}.pz::before{width:100%}.qa:hover::before{animation:k1 2000ms infinite cubic-bezier(.1,.12,.25,1)}.qe{transition:fill 200ms ease}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE" media="all and (max-width: 1198px)">.of{display:none}</style><style type="text/css" data-fela-rehydration="499" data-fela-type="RULE" media="all and (max-width: 1230px)">.pa{display:none}</style></head><body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
</style>
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
<div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
<div id="wm-ipp-inside">
  <div style="position:relative;">
    <div id="wm-logo" style="float:left;width:110px;padding-top:12px;">
      <a href="/web/" title="Wayback Machine home page"><img src="/_static/images/toolbar/wayback-toolbar-logo-200.png" srcset="/_static/images/toolbar/wayback-toolbar-logo-100.png, /_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, /_static/images/toolbar/wayback-toolbar-logo-200.png 2x" alt="Wayback Machine" style="width:100px" border="0" /></a>
    </div>
    <div class="r" style="float:right;">
      <div id="wm-btns" style="text-align:right;height:25px;">
                  <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a id="wm-save-snapshot-open" href="#"
	     title="Share via My Web Archive" >
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php"
             title="Sign In"
             id="wm-sign-in"
          >
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
        	<a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	<a id="wm-tb-close" href="#close" onclick="__wm.h(event);return false;" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share">
          <a href="/web/20191217201803/http://web.archive.org/screenshot/https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004?source=friends_link&sk=bb4e2523b922d0870259ab3fa696c7da"
             id="wm-screenshot"
             title="screenshot">
            <span class="wm-icon-screen-shot"></span>
          </a>
	<a id="wm-share-facebook" href="#" data-url="https://web.archive.org/web/20191217201803/https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004?source=friends_link&amp;sk=bb4e2523b922d0870259ab3fa696c7da" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	<a id="wm-share-twitter" href="#" data-url="https://web.archive.org/web/20191217201803/https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004?source=friends_link&amp;sk=bb4e2523b922d0870259ab3fa696c7da" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
    </div>
    <table class="c" style="">
      <tbody>
	<tr>
	  <td class="u" colspan="2">
	    <form target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004?source=friends_link&sk=bb4e2523b922d0870259ab3fa696c7da" onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20191217201803" /><input type="submit" value="Go" /></form>
	  </td>
	  <td class="n" rowspan="2" style="width:110px;">
	    <table>
	      <tbody>
		<!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
		<tr class="m">
		  <td class="b" nowrap="nowrap">Nov</td>
		  <td class="c" id="displayMonthEl" title="You are here: 20:18:03 Dec 17, 2019">DEC</td>
		  <td class="f" nowrap="nowrap">Jan</td>
		</tr>
		<!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
		<tr class="d">
		  <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20191204234923/https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004?source=friends_link&amp;sk=bb4e2523b922d0870259ab3fa696c7da" title="23:49:23 Dec 04, 2019"><img src="/_static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a></td>
		  <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;" title="You are here: 20:18:03 Dec 17, 2019">17</td>
		  <td class="f" nowrap="nowrap"><img src="/_static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0" /></td>
		</tr>
		<!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
		<tr class="y">
		  <td class="b" nowrap="nowrap">2018</td>
		  <td class="c" id="displayYearEl" title="You are here: 20:18:03 Dec 17, 2019">2019</td>
		  <td class="f" nowrap="nowrap">2020</td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
	<tr>
	  <td class="s">
	    	    <div id="wm-nav-captures">
	      	      <a class="t" href="/web/20191217201803*/https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004?source=friends_link&sk=bb4e2523b922d0870259ab3fa696c7da" title="See a list of every capture for this URL">3 captures</a>
	      <div class="r" title="Timespan for captures of this URL">26 Nov 2019 - 17 Dec 2019</div>
	      </div>
	  </td>
	  <td class="k">
	    <a href="" id="wm-graph-anchor">
	      <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
		<canvas id="wm-sparkline-canvas" width="650" height="27" border="0"></canvas>
	      </div>
	    </a>
	  </td>
	</tr>
      </tbody>
    </table>
    <div style="position:absolute;bottom:0;right:2px;text-align:right;">
      <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this capture</span></a>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
                    <div id="wm-capinfo-collected-by">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
            <div style="display:inline-block;vertical-align:top;width:50%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/ArchiveIt-Partner-1028);"></span>
		Organization: <a style="color:#33f;" href="https://archive.org/details/ArchiveIt-Partner-1028" target="_new"><span class="wm-title">Mark Graham&#39;s Archive-IT Collections</span></a>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  This is a set of web collections curated by Mark Graham using the <a href="http://archive-it.org">Archive-IT</a> service of the <a href="http//archive.org">Internet Archive.</a>
<br>
<br>
They include web captures of the ISKME.org website as well as captures from sites hosted by IGC.org.
<br>
<br>
<br><br>
These web captures are available to the general public.
<br>
<br>
For more information about this collection please feel free to contact Mark via <a href="mailto:mark@archive.org?Subject=Question%20about%20you%20Archive-IT%20Collection" target="_top">Send Mail</a>
	</div>
	      </div>
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/ArchiveIt-Collection-8332)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/ArchiveIt-Collection-8332" target="_new"><span class="wm-title">General Crawls</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Archive-It Partner 1028: Mark Graham - Collection 8332: General Crawls
	</div>
	      </div>
    </div>
    </div>
    <div id="wm-capinfo-timestamps">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="/_static/images/loading.gif" alt="loading" /></div>
    </div>
    </div>
  </div></div></div></div><div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=https%3A//web.archive.org/web/20191217201803/https%3A//medium.com/%2540ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004%3Fsource%3Dfriends_link%26sk%3Dbb4e2523b922d0870259ab3fa696c7da"
	    scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><script type="text/javascript">
__wm.bt(650,27,25,2,"web","https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004?source=friends_link&sk=bb4e2523b922d0870259ab3fa696c7da","20191217201803",1996,"/_static/",["/_static/css/banner-styles.css?v=bsmaklHF","/_static/css/iconochive.css?v=qtvMKcIJ"]);
  __wm.rw(1);
</script>
<!-- END WAYBACK TOOLBAR INSERT --><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><script>window.PARSELY = window.PARSELY || {autotrack: false}</script><nav class="r s t u v c w x y z ab"><div class="branch-journeys-top"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="al n o am an"><div class="r ao w"><div class="n o"><a aria-label="Homepage" rel="noopener" href="/web/20191217201803/https://medium.com/?source=post_page-----9521bcba6004----------------------"><div class="ap g"><svg height="22" width="112" viewbox="0 0 111.5 22" class="q"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></div><div class="r aq"><svg width="35" height="35" viewbox="5 5 35 35" class="q"><path d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z"></path></svg></div></a></div></div><div class="r ar w"><div class="n o"><div class="n g"><div class="as" id="lo-post-page-navbar-upsell-button"><div><a href="https://web.archive.org/web/20191217201803/https://medium.com/membership?source=upgrade_membership---nav_full------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><span class="bj b bk bl bm bn r bo bp">Become a member</span></a></div></div><div class="as" id="lo-post-page-navbar-sign-in-link"><div class="bq r"><span class="bj b bk bl bm bn r bo bp"><a href="https://web.archive.org/web/20191217201803/https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004&amp;source=post_page-----9521bcba6004---------------------nav_reg-" class="br bs av aw ax ay az ba bb bc bt bu bf bg bv bw" rel="noopener">Sign in</a></span></div></div></div><div class="as" id="lo-post-page-navbar-get-started-button"><div class="bq r"><button class="bx by br bs bz bt bu ca bc cb bj b bk bl bm bn cc cd ce cf cg bf">Get started</button></div></div></div></div></div></div></div></div></nav><div class="ch al r ci am"></div><article><section class="cj ck cl cm ak cn ce n co"></section><span class="r"></span><div><div class="cp u cq cr cs ct"></div><section class="cu cv cw cx cy"><div class="cz ak"><figure class="da cz ak paragraph-image"><div class="db dc dd de ak"><div class="dl r dd dm"><div class="dn r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*AfTha5-zgaqPAilsamj-Mw.jpeg?q=20" width="3394" height="1775" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="3394" height="1775" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/6788/1*AfTha5-zgaqPAilsamj-Mw.jpeg" width="3394" height="1775" role="presentation"/></noscript></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">EBYTE E73-TBB Development Board with onboard Nordic nRF52832 Microcontroller, connected to ST-Link USB Programmer. Shot with Sony NEX-7.</figcaption></figure></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><div><div id="a6d1" class="ea eb ec bk ed b ee ef eg eh ei ej ek el em en eo"><h1 class="ed b ee ep eg eq ei er ek es em et ec">Coding nRF52 with Rust and Apache Mynewt on Visual Studio Code</h1></div><div class="eu"><div class="n ev ew ex ey"><div class="o n"><div><a rel="noopener" href="/web/20191217201803/https://medium.com/@ly.lee?source=post_page-----9521bcba6004----------------------"><div class="dd ez fa"><div class="bs n fb o p cp fc fd fe ff fg ct"><svg width="57" height="57" viewbox="0 0 57 57"><path fill-rule="evenodd" clip-rule="evenodd" d="M28.5 1.2A27.45 27.45 0 0 0 4.06 15.82L3 15.27A28.65 28.65 0 0 1 28.5 0C39.64 0 49.29 6.2 54 15.27l-1.06.55A27.45 27.45 0 0 0 28.5 1.2zM4.06 41.18A27.45 27.45 0 0 0 28.5 55.8a27.45 27.45 0 0 0 24.44-14.62l1.06.55A28.65 28.65 0 0 1 28.5 57 28.65 28.65 0 0 1 3 41.73l1.06-.55z"></path></svg></div><img alt="Lup Yuen Lee 李立源" class="r fh fa ez" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/fit/c/96/96/1*KGohS3sQaUnr58gc0BIfoQ.jpeg" width="48" height="48"/></div></a></div><div class="fi ak r"><div class="n"><div style="flex:1"><span class="bj b bk bl bm bn r ec q"><div class="fj n o fk"><span class="bj dy ds bl di fl fm fn fo fp ec"><a class="at au av aw ax ay az ba bb bc fq bf bg bh bi" rel="noopener" href="/web/20191217201803/https://medium.com/@ly.lee?source=post_page-----9521bcba6004----------------------">Lup Yuen Lee 李立源</a></span><div class="fr r ar h"><button class="fs ec q by ft fu fv fw bc bh fx fy fz ga gb gc cb bj b bk gd ge bn cc cd ce cf cg bf">Follow</button></div></div></span></div></div><span class="bj b bk bl bm bn r bo bp"><span class="bj dy ds bl di fl fm fn fo fp bo"><div><a class="at au av aw ax ay az ba bb bc fq bf bg bh bi" rel="noopener" href="/web/20191217201803/https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004?source=post_page-----9521bcba6004----------------------">Oct 3</a> <!-- -->·<!-- --> <!-- -->26<!-- --> min read</div></span></span></div></div><div class="n gf gg gh gi gj gk gl gm ab"><div class="n o"><div class="gn r ar"><a href="//web.archive.org/web/20191217201803/https://medium.com/p/9521bcba6004/share/twitter?source=post_actions_header---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="gn r ar"><a href="//web.archive.org/web/20191217201803/https://medium.com/p/9521bcba6004/share/facebook?source=post_actions_header---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="go r ao"><div><div class="cf" role="tooltip" aria-hidden="true"><a href="https://web.archive.org/web/20191217201803/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004&amp;source=post_actions_header--------------------------bookmark_sidebar-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25" height="25" viewbox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div></div></div></div><p id="f66d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The <a href="https://web.archive.org/web/20191217201803/https://infocenter.nordicsemi.com/pdf/nRF52832_PS_v1.0.pdf" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr hh">nRF52 Microcontroller</strong></a> by Nordic Semiconductor is an awesome gadget with powerful Bluetooth Low Energy networking capability. It’s affordable too… For under $8, I can buy an <a href="https://web.archive.org/web/20191217201803/http://www.ebyte.com/product-view-news.aspx?id=644" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">EBYTE E73-TBB Development Board</a> with onboard nRF52 (photo above). And it works like a supercharged <a href="https://web.archive.org/web/20191217201803/https://en.wikipedia.org/wiki/Micro_Bit" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">BBC micro:bit</a> (based on the older nRF51) in a smaller, cheaper form factor!</p><p id="ca61" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Powered by an <strong class="gr hh">Arm Cortex-M4 CPU </strong>(hardware floating-point) with <strong class="gr hh">64 KB of RAM</strong> and <strong class="gr hh">512 KB of Flash ROM</strong>, the nRF52 has plenty of capacity to run modern embedded platforms… Like <a href="https://web.archive.org/web/20191217201803/https://mynewt.apache.org/" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr hh">Apache Mynewt</strong></a> realtime OS and <strong class="gr hh">Embedded Rust</strong>!</p><p id="8503" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">But what tools would we use to code the nRF52? Will we get locked in with proprietary IDEs and programming dongles?</em></p><p id="de66" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Great News: The nRF52 works with popular open-source tools on Windows and macOS like <a href="https://web.archive.org/web/20191217201803/https://code.visualstudio.com/" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr hh">Visual Studio Code</strong></a><strong class="gr hh">, </strong><a href="https://web.archive.org/web/20191217201803/http://openocd.org/" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr hh">OpenOCD</strong></a><strong class="gr hh">, </strong><a href="https://web.archive.org/web/20191217201803/https://www.rust-lang.org/" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr hh">Rust</strong></a><strong class="gr hh"> and </strong><a href="https://web.archive.org/web/20191217201803/https://www.aliexpress.com/wholesale?catId=0&amp;initiative_id=SB_20180924134644&amp;SearchText=st-link+v2&amp;switch_new_app=y" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr hh">ST-Link</strong></a>… I’ll show you how, right now! (ST-Link is not really open-source but <a href="https://web.archive.org/web/20191217201803/https://www.aliexpress.com/wholesale?catId=0&amp;initiative_id=SB_20180924134644&amp;SearchText=st-link+v2&amp;switch_new_app=y" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">it’s only $2</a>!)</p><p id="d918" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Even if you’re new to nRF52, Bluetooth, Mynewt, Visual Studio Code, … You’re welcome to skim! We’ll cover a broad range of topics. including…</p><p id="edeb" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">1️⃣ <strong class="gr hh">Bluetooth Low Energy</strong> and the <strong class="gr hh">iBeacon</strong> protocol</p><p id="c689" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">2️⃣ Build your own iBeacon with nRF52 and <strong class="gr hh">Apache NimBLE</strong></p><p id="4b2b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">3️⃣ <strong class="gr hh">Embedded Rust</strong> programming on nRF52</p><p id="0096" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">4️⃣ Programming <strong class="gr hh">IoT Sensors</strong> with Mynewt and Rust</p><p id="79d7" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">5️⃣ Why Rust not C?</p><p id="7d68" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">6️⃣ Code, flash and debug the nRF52 with <strong class="gr hh">Visual Studio Code</strong> and <strong class="gr hh">OpenOCD</strong></p><p id="0080" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">7️⃣ <strong class="gr hh">Remove Flash Protection</strong> from your nRF52 with a <strong class="gr hh">Raspberry Pi</strong></p><p id="97cf" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">8️⃣ Plus upcoming topics: <strong class="gr hh">Bluetooth Mesh</strong> and <strong class="gr hh">PineTime Smart Watch</strong>!</p><p id="b990" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">There’s something for everyone in this article</em>! The source code for this article may be found in the <code class="dm hj hk hl hm b">nrf52</code> branch of this repository…</p><div class="hn ho hp hq hr hs"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52" rel="noopener nofollow"><section class="hv cl cm ak ce n ar hw hx hy hz ia ib ic id ie if ig ih ii ij ik"><div class="il n co p im in"><h2 class="bj io ip bl ec"><div class="di ht fm fn hu fp">lupyuen/stm32bluepill-mynewt-sensor</div></h2><div class="iq r"><h3 class="bj dy ds bl bo"><div class="di ht fm fn hu fp">This l476 branch contains the source code for an NB-IoT GPS Tracker that has been tested on the Ghostyu NB-EK-L476…</div></h3></div><div class="ir r"><h4 class="bj dy ge bl bo"><div class="di ht fm fn hu fp">github.com</div></h4></div></div></section></a></div></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="3325" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">What’s an iBeacon?</h1><p id="d546" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">There was a time… (When people still shopped at physical retail stores…) You could walk into your favourite store and your phone would <em class="hi">“Ding!”</em> with a notification specially customised for you… <em class="hi">“Save up to 40% on Baby and Kids Products!”</em></p><p id="f4b6" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">What is this magic that senses your mere presence… And summons a unique offer… Just for you?</em></p><p id="2866" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">That magic is called <a href="https://web.archive.org/web/20191217201803/https://en.wikipedia.org/wiki/IBeacon" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr hh">iBeacon</strong></a>. It’s a wireless protocol released by Apple in 2013 for detecting Bluetooth Low Energy devices nearby (within a few metres). iBeacon Transmitters are dumb devices planted in the store that broadcast an iBeacon ID that’s specific to the store.</p><p id="1e9d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Your phone needs to have an app installed that indicates which iBeacon ID it’s seeking. When your phone detects a nearby iBeacon Transmitter with a matching iBeacon ID, it wakes up the app so that the app can send you a custom notification.</p><figure class="js jt ju jv jw cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm jr"><div class="dl r dd dm"><div class="jx r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/46/1*mlaX9Gfo6Qj93clxMsiT1w.png?q=20" width="4476" height="5925" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="4476" height="5925" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/8952/1*mlaX9Gfo6Qj93clxMsiT1w.png" width="4476" height="5925" role="presentation"/></noscript></div></div></div></div></figure><p id="4d90" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">In reality it’s hard to detect Bluetooth 4 iBeacons reliably because of conflicts with WiFi, which also operates in the crowded 2.4 GHz airwaves (see <a href="https://web.archive.org/web/20191217201803/https://www.hindawi.com/journals/misy/2016/8367638/" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://www.hindawi.com/journals/misy/2016/8367638/</a>).</p><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="db dc dd de ak"><div class="cl cm jy"><div class="dl r dd dm"><div class="kl r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*UFx4IAUoj4Z5S58uTcehzg.png?q=20" width="1242" height="606" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1242" height="606" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/2484/1*UFx4IAUoj4Z5S58uTcehzg.png" width="1242" height="606" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Our nRF52 detected as an iBeacon (“My iBeacon”) in the “Locate Beacon” app: <a href="https://web.archive.org/web/20191217201803/https://apps.apple.com/us/app/locate-beacon/id738709014" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://apps.apple.com/us/app/locate-beacon/id738709014</a></figcaption></figure><p id="f401" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">In this tutorial we’ll program our nRF52 to be an iBeacon Transmitter, because…</p><ol class=""><li id="b4bc" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc km kn ko">iBeacon is the simplest Bluetooth LE protocol to implement (and troubleshoot)</li><li id="b6d5" class="gp gq ec bk gr b gs kp gu kq gw kr gy ks ha kt hc km kn ko">It’s easy to use our phones to verify that our nRF52 is indeed working correctly as a Bluetooth LE transmitter</li><li id="2833" class="gp gq ec bk gr b gs kp gu kq gw kr gy ks ha kt hc km kn ko">Nostalgia…<em class="hi"> iBeacon actually served a purpose in the real world!</em> (But if you decide to implement iBeacons today, beware of the iBeacon security implications, especially <a href="https://web.archive.org/web/20191217201803/https://en.wikipedia.org/wiki/IBeacon#Spoofing" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">iBeacon spoofing</a>)</li></ol></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="d379" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">nRF52 is Radio-Capable</h1><p id="11de" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">nRF52 is similar to other microcontrollers (like the STM32 F103 found in Blue Pill)… Except that the nRF52 has 2.4 GHz Radio capabilities not found in most other microcontrollers.</p><p id="2044" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">2.4 GHz is used for WiFi… Does this mean that the nRF52 can talk WiFi?</em></p><p id="e9be" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Not quite… WiFi protocols are highly complex, beyond what the nRF52 can handle. Specialised microcontrollers like ESP8266 are better at handling WiFi.</p><p id="4f46" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">But nRF52 is perfect for Bluetooth Low Energy (LE) protocols, including iBeacon. Note that Bluetooth LE is not compatible with the older standard Bluetooth. So we can’t operate our nRF52 like a classic Bluetooth tethered network device.</p><p id="b18d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">nRF52 doesn’t come with hardcoded firmware that enables the Bluetooth LE functions… We need to load our own Bluetooth LE firmware. Let’s discuss two options: Nordic SoftDevice and Apache NimBLE.</p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="dc0d" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">Nordic SoftDevice</h1><p id="77d7" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">Most nRF52 developers would probably use <a href="https://web.archive.org/web/20191217201803/https://infocenter.nordicsemi.com/pdf/S112_SDS_v3.1.pdf" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Nordic SoftDevice</a>. This is the standard firmware provided by Nordic Semiconductor that implements the Bluetooth LE functions.</p><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="db dc dd de ak"><div class="cl cm ku"><div class="dl r dd dm"><div class="kv r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/0*1D_zcjT8gSN7JdEe.png?q=20" width="634" height="592" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="634" height="592" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/1268/0*1D_zcjT8gSN7JdEe.png" width="634" height="592" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Nordic SoftDevice Architecture. From <a href="https://web.archive.org/web/20191217201803/https://infocenter.nordicsemi.com/topic/struct_nrf52/struct/nrf52_softdevices.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://infocenter.nordicsemi.com/topic/struct_nrf52/struct/nrf52_softdevices.html</a></figcaption></figure><p id="3ffc" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The firmware runs as a base system layer underneath our application code and RTOS.</p><p id="bd36" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">SoftDevice reserves some hardware resources for itself, like the radio transceiver, some timers and some ROM+RAM.</p><p id="9935" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The remaining resources would be available for our application, which would call the <a href="https://web.archive.org/web/20191217201803/https://infocenter.nordicsemi.com/pdf/S112_SDS_v3.1.pdf" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">SoftDevice API</a> to perform Bluetooth LE functions and receive notifications.</p><p id="b48a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">What if we wish to experiment with the Bluetooth LE implementation… Trace it to see how it works, tweak it to improve it, or even roll out a new Bluetooth LE protocol?</em></p><p id="a39d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">SoftDevice is clearly not meant for experimentation… Apache NimBLE is perfect for that!</p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="9ea4" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">Apache NimBLE</h1><p id="4c92" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc"><a href="https://web.archive.org/web/20191217201803/https://mynewt.apache.org/latest/network/docs/index.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Apache NimBLE</a> is an open-source Bluetooth LE stack that <strong class="gr hh">completely replaces SoftDevice</strong> on nRF51 and nRF52 chipsets. It’s designed to run with the Apache Mynewt embedded OS, so NimBLE feels like a typical Mynewt task.</p><p id="3ed9" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">Apache NimBLE is the Bluetooth LE implementation that we’re adopting for this tutorial.</em></p><p id="2f2f" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">In this tutorial we’ll often refer to NimBLE as Mynewt… Because NimBLE is so seamlessly integrated with Mynewt. Just note that Mynewt and NimBLE actually belong to two different code repositories…</p><p id="f73c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Mynewt: <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/apache/mynewt-core" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/apache/mynewt-core</a></code></p><p id="8322" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">NimBLE: <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/apache/mynewt-nimble" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/apache/mynewt-nimble</a></code></p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="ffd4" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">Why Visual Studio Code with ST-Link (instead of nRFgo Studio with J-LINK)</h1><figure class="js jt ju jv jw cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm kw"><div class="dl r dd dm"><div class="kx r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*PE26d-lvzxOrdYtrKLsWDA.jpeg?q=20" width="3516" height="2416" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="3516" height="2416" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/7032/1*PE26d-lvzxOrdYtrKLsWDA.jpeg" width="3516" height="2416" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">nRF52 Development Board connected to ST-Link USB Programmer</figcaption></figure><p id="d46f" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">If you’re already familiar with nRF52 development tools like <a href="https://web.archive.org/web/20191217201803/https://www.nordicsemi.com/Software-and-Tools/Development-Tools/nRFgo-Studio" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">nRFgo Studio</a> and <a href="https://web.archive.org/web/20191217201803/https://en.wikipedia.org/wiki/Segger_Microcontroller_Systems#J-Link" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">J-LINK</a>… This tutorial will open your eyes!</p><p id="75b2" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">My previous tutorials have been based on open-source tools and affordable, accessible hardware. For this tutorial we’ll be reusing <a href="https://web.archive.org/web/20191217201803/https://code.visualstudio.com/" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Visual Studio Code</a> and ST-Link (with <a href="https://web.archive.org/web/20191217201803/http://openocd.org/" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">OpenOCD</a>).</p><p id="1ad7" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">Yes, the open-source tools we use for coding STM32 may also be used for nRF52!</em></p></div></div><div class="cz"><div class="n p"><div class="ky kz la lb lc ld ag le ah lf aj ak"><figure class="js jt ju jv jw cz lh li paragraph-image"><div class="db dc dd de ak"><div class="cl cm lg"><div class="dl r dd dm"><div class="lj r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*g3NsF8Au4imhYycGYwxmpg.png?q=20" width="1787" height="1087" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1787" height="1087" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/3574/1*g3NsF8Au4imhYycGYwxmpg.png" width="1787" height="1087" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Debugging Embedded Rust on nRF52 with Visual Studio Code and ST-Link</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><p id="9090" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The generic <a href="https://web.archive.org/web/20191217201803/https://www.aliexpress.com/wholesale?catId=0&amp;initiative_id=SB_20180924134644&amp;SearchText=st-link+v2" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">ST-Link V2 USB Adapter</a><strong class="gr hh"> </strong>costs under $2 (search <a href="https://web.archive.org/web/20191217201803/https://www.aliexpress.com/wholesale?catId=0&amp;initiative_id=SB_20180924134644&amp;SearchText=st-link+v2&amp;switch_new_app=y" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">AliExpress</a> for <code class="dm hj hk hl hm b">st-link v2</code>) and works perfectly fine for flashing and debugging the nRF52… <strong class="gr hh">Except for removing nRF52 flash protection.</strong></p><p id="fb3e" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">How is ST-Link different from J-LINK, since both are used for flashing and debugging Arm microcontrollers?</em></p><p id="2442" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">ST-Link and J-LINK are both Arm SWD (Serial Wire Debug) Programmers. ST-Link is known as a High-Level Adapter… ST-Link doesn’t implement all SWD functions, just the <em class="hi">minimal set of high-level functions needed for flashing and debugging. </em>Thus ST-Link can’t be used for removing the nRF52 flash protection.</p><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="db dc dd de ak"><div class="cl cm lk"><div class="dl r dd dm"><div class="ll r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*V2rHXofpBvzwUSd4AK-OpQ.jpeg?q=20" width="4848" height="3463" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="4848" height="3463" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/9696/1*V2rHXofpBvzwUSd4AK-OpQ.jpeg" width="4848" height="3463" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Removing nRF52 flash ROM protection with Raspberry Pi</figcaption></figure><p id="0328" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">If your nRF52 flash ROM is protected (and ST-Link refuses to flash your device), you may use a Raspberry Pi to remove the protection.</p><p id="15e5" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This only needs to be done once (and ST-Link will work fine after that).</p><p id="dc60" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Check the instructions in the section <em class="hi">“Advanced Topic: Remove nRF52 Flash Protection” </em>at the end of this article.</p><p id="1129" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">Welcome nRF52 (and nRF51)! Come join STM32 in the Open Source Party… Rust included!</em></p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="cz ak"><figure class="js jt ju jv jw cz ak paragraph-image"><div class="dl r dd dm"><div class="lm r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*Wjd29N2CbQWw-_Jx2qNeTQ.png?q=20" width="1704" height="1024" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1704" height="1024" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/3408/1*Wjd29N2CbQWw-_Jx2qNeTQ.png" width="1704" height="1024" role="presentation"/></noscript></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Mynewt Project Structure based on <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52</a></figcaption></figure></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="a2c8" class="jb jc ec bk bj io ee ln eg lo jf lp jh lq jj lr jl">Mynewt Project Structure</h1><p id="e168" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">Mynewt is a lightweight embedded operating system that pulls in only the modules that it needs to create the firmware image. Here are the files in our Mynewt project… (<a class="at cg hd he hf hg" target="_blank" rel="noopener" href="/web/20191217201803/https://medium.com/@ly.lee/install-apache-mynewt-and-embedded-rust-for-nrf52-and-visual-studio-code-on-windows-and-macos-94741412b502?source=friends_link&amp;sk=3d368af3fe4c758b0ef725809d8504d2">Check this article</a> if you wish to download the source code and browse with Visual Studio Code)</p><p id="e060" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">1️⃣ <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/apps" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">apps</a></code>: <strong class="gr hh">C Source Code for Bootloader and Application</strong></p><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="cl cm ls"><div class="dl r dd dm"><div class="lt r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*MHhAIEfqGG0e2iHsE2mgMw.png?q=20" width="356" height="350" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="356" height="350" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/712/1*MHhAIEfqGG0e2iHsE2mgMw.png" width="356" height="350" role="presentation"/></noscript></div></div></div></figure><p id="9ed4" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This is where we put our Bootloader and Application source code in C. The Mynewt build script will compile the code here into the Bootloader and Application Firmware Images.</p><p id="6089" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/apps/boot_stub/src" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">apps/boot_stub/src</a></code>: C source code for our Bootloader. We’re using a simple Stub Bootloader: Upon startup it doesn’t do anything, it just jumps to the Application.</p><p id="e247" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/apps/my_sensor_app/src" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">apps/my_sensor_app/src</a></code>: C source code for our Application. The iBeacon code is located in <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/apps/my_sensor_app/src/ble.c" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">ble.c</a></code>. We’ll cover this in a while.</p><p id="1f86" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">2️⃣ <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/rust" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">rust</a></code>: <strong class="gr hh">Rust Source Code</strong></p><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="cl cm lu"><div class="dl r dd dm"><div class="lv r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*FU1jzWSqNhI2dIxUi6rvPw.png?q=20" width="467" height="356" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="467" height="356" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/934/1*FU1jzWSqNhI2dIxUi6rvPw.png" width="467" height="356" role="presentation"/></noscript></div></div></div></figure><p id="8303" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">All Rust code is placed in this folder. Mynewt doesn’t support Rust officially (yet), so I created a custom Application Build Script for Mynewt that injects Rust Application code into the Mynewt Application Build. (We’ll soon discover that the Rust code was injected in a sneaky way…)</p><p id="4a6a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This means that we can write our <code class="dm hj hk hl hm b">main()</code> function in Rust and call other Rust modules and crates. Since Rust supports the calling of C functions, we may call the Mynewt API from Rust as well. (Though calling the Mynewt API through a proper Rust Wrapper is preferred… More about this later)</p><p id="0f81" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here’s the Rust code in our Mynewt Project…</p><p id="bff9" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/rust/app/src" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">rust/app/src</a></code>: Rust source code for our Application. The <code class="dm hj hk hl hm b">main()</code> function is defined in <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/lib.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">lib.rs</a></code>, it’s called when our device starts up. We’ll cover this in a while.</p><p id="f52f" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/rust/mynewt/src" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">rust/mynewt/src</a></code>: Rust Wrappers for Mynewt API. It’s possible to call the Mynewt API via <code class="dm hj hk hl hm b">extern</code> declarations in Rust, but that wouldn’t be efficient. (Imagine converting Rust strings to null-terminated C strings for every <code class="dm hj hk hl hm b">extern</code> call.) Also we wouldn’t be able to exploit the power of Rust Macros, Iterators, Error Handling, …</p><p id="84b4" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Thus I have created Rust Wrappers that allow Rust applications to call the Mynewt API in a safe and simple way. We’ll see examples of this in a while.</p><p id="c632" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/rust/macros/src" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">rust/macros/src</a></code>: Rust Macros for generating Rust Wrappers. Most of the Rust Wrappers were automatically generated with the <code class="dm hj hk hl hm b">bindgen</code> tool and Rust Procedural Macros. These macros are invoked only during Rust compilation, not at runtime.</p><p id="5e56" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">3️⃣ <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/libs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">libs</a></code>: <strong class="gr hh">Custom Mynewt Libraries used by our Application</strong></p><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="cl cm lw"><div class="dl r dd dm"><div class="lx r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/54/1*MPzXlI0PKdypH2x6fazUQg.png?q=20" width="472" height="516" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="472" height="516" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/944/1*MPzXlI0PKdypH2x6fazUQg.png" width="472" height="516" role="presentation"/></noscript></div></div></div></figure><p id="80ff" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">These are C libraries that I have created to make Mynewt more friendly for embedded developers. <code class="dm hj hk hl hm b">semihosting_console</code> allows debugging messages to be displayed in the Visual Studio Code Debugger (without using a serial port). <code class="dm hj hk hl hm b">temp_stub</code> is a Mynewt Driver that simulates a Temperature Sensor, used in our Rust application.</p><p id="fdde" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b">rust_app</code> is a Stub Library for injecting the compiled Rust Application code. Our build script will bundle the compiled Rust Application code (including external crates) into <code class="dm hj hk hl hm b">rust_app</code>, which gets linked into the Application Firmware. (Remember our <code class="dm hj hk hl hm b">main()</code> function in Rust? It gets bundled into <code class="dm hj hk hl hm b">rust_app</code>)</p><p id="ce1b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Similarly, <code class="dm hj hk hl hm b">rust_libcore</code> is a Stub Library for injecting the Rust Core Library into the Application Firmware. The Rust Core Library is part of the Rust Compiler and it’s needed for core functions (like manipulating strings). Note that we’re not using the full Rust Standard Library, which contains lots of code that’s irrelevant for embedded platforms.</p><p id="aaf3" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">4️⃣ <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/hw/bsp" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">hw/bsp</a></code>: <strong class="gr hh">Board Support Packages for Mynewt</strong></p><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="cl cm ly"><div class="dl r dd dm"><div class="lz r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/54/1*MH9IEvsF3Qa2izWYZccAPQ.png?q=20" width="384" height="434" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="384" height="434" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/768/1*MH9IEvsF3Qa2izWYZccAPQ.png" width="384" height="434" role="presentation"/></noscript></div></div></div></figure><p id="04a8" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">A Board Support Package contains information, scripts and drivers necessary to build Mynewt for our microcontroller (nRF52832) and the associated peripherals on our microcontroller board: flash memory, LEDs, UART ports, …</p><p id="d76f" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/hw/bsp/nrf52" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">hw/bsp/nrf52</a></code>: Board Support Package for our nRF52 microcontroller board. This is a clone of the official <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/apache/mynewt-core/tree/master/hw/bsp/ada_feather_nrf52" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">ada_feather_nrf52</a></code> Board Support Package, with the <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/hw/bsp/nrf52/include/bsp/bsp.h#L42-L49" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">LED and Button settings</a> customised for the EBYTE E73-TBB Development Board. (You should update these settings to suit your nRF52 development board.)</p><p id="80d7" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">5️⃣ <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/targets" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">targets</a></code>: <strong class="gr hh">Bootloader and Application Targets for Mynewt</strong></p><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="cl cm ma"><div class="dl r dd dm"><div class="mb r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*JYSGl5c-JdCmZty4oeSaPw.png?q=20" width="377" height="222" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="377" height="222" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/754/1*JYSGl5c-JdCmZty4oeSaPw.png" width="377" height="222" role="presentation"/></noscript></div></div></div></figure><p id="dac8" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Mynewt Applications are designed to be portable across microcontrollers… An application like <code class="dm hj hk hl hm b">my_sensor_app</code> may be recompiled to run on STM32 Blue Pill F103, STM32 F476, or even BBC micro:bit (based on Nordic nRF51).</p><p id="8926" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">How do we compile an application like <code class="dm hj hk hl hm b">my_sensor_app</code> for our nRF52832 development board? We tell Mynewt to create a “Target” for the application, i.e. an instance of <code class="dm hj hk hl hm b">my_sensor_app</code> that’s targeted for our Board Support Package <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/hw/bsp/nrf52" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">hw/bsp/nrf52</a></code></p><p id="3f45" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/targets" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">targets</a></code> folder contains Bootloaders and Applications that have been targeted for specific Board Support Packages…</p><p id="cfb2" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/targets/nrf52_boot" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">targets/nrf52_boot</a></code>: This is the <code class="dm hj hk hl hm b">boot_stub</code> Bootloader targeted for nRF52</p><p id="53dd" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/targets/nrf52_my_sensor" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">targets/nrf52_my_sensor</a></code>: This is the <code class="dm hj hk hl hm b">my_sensor_app</code> Application targeted for nRF52. The Application Settings are configured at <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/targets/nrf52_my_sensor/syscfg.yml" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">targets/nrf52_my_sensor/syscfg.yml</a></code></p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/43607104cd463514b658262123f49e89" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Application Settings. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/targets/nrf52_my_sensor/syscfg.yml" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/targets/nrf52_my_sensor/syscfg.yml</a></figcaption></figure><p id="ab9a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">6️⃣ <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/scripts" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">scripts</a></code>: <strong class="gr hh">Build, Flash and Debug Scripts</strong></p><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="cl cm md"><div class="dl r dd dm"><div class="me r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*1SGgWn7lOrd4Jh-j8iTdYQ.png?q=20" width="452" height="428" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="452" height="428" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/904/1*1SGgWn7lOrd4Jh-j8iTdYQ.png" width="452" height="428" role="presentation"/></noscript></div></div></div></figure><p id="1a26" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/build-app.cmd" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">scripts/build-app.cmd</a>, <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/build-app.sh" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">.sh</a></code>: This shell script <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/build-app.sh#L80-L82" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">builds the Rust Application</a> by calling <code class="dm hj hk hl hm b">cargo build</code> and <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/build-app.sh#L87-L120" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">bundles the compiled Rust code</a> (with external crates) into the <code class="dm hj hk hl hm b">rust_app</code> library.</p><p id="fda9" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Then it <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/build-app.sh#L157-L160" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">builds the Application Firmware</a> by running <code class="dm hj hk hl hm b">newt build nrf52_my_sensor</code>, injecting <code class="dm hj hk hl hm b">rust_app</code> (Rust Application) and <code class="dm hj hk hl hm b">rust_libcore</code> (<a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/build-app.sh#L129-L148" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Rust Core Library</a>) into the Application Firmware.</p><p id="0f38" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The Rust build is targeted for <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/build-app.cmd#L3-L6" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">thumbv7em-none-eabihf</a></code> (Arm Cortex M4 with Hardware Floating-Point), which is the designation for the Arm processor in the nRF52832 microcontroller.</p><p id="9f6d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/scripts/nrf52" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">scripts/nrf52</a></code>: Contains the build, flash and debug scripts specific to nRF52. The <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/flash-boot.cmd" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Flash Bootloader</a>, <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/flash-app.cmd" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Flash Application</a> and <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/debug.ocd" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Debug Scripts</a> include OpenOCD scripts (<code class="dm hj hk hl hm b">*.ocd</code>) that connect to the nRF52 via ST-Link.</p><p id="830c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here’s the OpenOCD command used in the <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/flash-app.cmd" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Flash Application</a> Script that connects to nRF52 via ST-Link to flash the Application Firmware…</p><pre class="js jt ju jv jw mf mg mh"><span id="102b" class="mi jc ec bk hm b ds mj mk r ml">openocd/bin/openocd \<br/>    -f scripts/nrf52/flash-init.ocd \<br/>    -f interface/stlink.cfg \<br/>    -c &quot;transport select hla_swd&quot; \<br/>    -f target/nrf52.cfg \<br/>    -f scripts/nrf52/flash-app.ocd</span></pre><p id="3f56" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The OpenOCD script <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/flash-app.ocd" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">scripts/nrf52/flash-app.ocd</a></code> specifies the firmware image file to be flashed (<code class="dm hj hk hl hm b">my_sensor_app.img</code>) and the ROM address (<code class="dm hj hk hl hm b">0x0000 4000</code>)…</p><pre class="js jt ju jv jw mf mg mh"><span id="2673" class="mi jc ec bk hm b ds mj mk r ml"># From <a href="https://web.archive.org/web/20191217201803/https://devzone.nordicsemi.com/f/nordic-q-a/42824/flashing-nrf5832-using-only-st-link-v2-and-openocd" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://devzone.nordicsemi.com/f/nordic-q-a/42824/flashing-nrf5832-using-only-st-link-v2-and-openocd</a><br/>gdb_flash_program enable<br/>gdb_breakpoint_override hard</span><span id="6a4b" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml"># Connect to the device.<br/>init</span><span id="44a6" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml"># Enable ARM semihosting to show debug console output.<br/>arm semihosting enable</span><span id="c173" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml">echo &quot;Stopping...&quot;<br/>reset halt</span><span id="73c3" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml">echo &quot;Flashing Application...&quot;<br/>program bin/targets/nrf52_my_sensor/app/apps/my_sensor_app/my_sensor_app.img verify 0x00004000</span><span id="7139" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml"># Restart the device.<br/>reset halt<br/>exit</span></pre><p id="628a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Note that…<br/>Bootloader Code is located at ROM Address <code class="dm hj hk hl hm b">0x0000 0000</code> <br/>Application Code is located at ROM Address <code class="dm hj hk hl hm b">0x0000 4000</code></p><p id="e459" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">7️⃣ <code class="dm hj hk hl hm b">repos</code>: <strong class="gr hh">Apache Mynewt and NimBLE Source Code</strong></p><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="cl cm mr"><div class="dl r dd dm"><div class="ms r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*rJCEWdCo29qdPzwhYCBPTA.png?q=20" width="364" height="135" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="364" height="135" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/728/1*rJCEWdCo29qdPzwhYCBPTA.png" width="364" height="135" role="presentation"/></noscript></div></div></div></figure><p id="b0ac" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This folder contains the official Mynewt and NimBLE source code in C. We shouldn’t change anything here.</p><p id="f9b5" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">8️⃣ <code class="dm hj hk hl hm b">bin</code>: <strong class="gr hh">Compiled Bootloader and Application Code</strong></p><p id="fae7" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The build scripts produce Bootloader and Application Firmware Images in this folder. These firmware images are used by the <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/flash-boot.cmd" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Flash Bootloader</a> and <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/flash-app.cmd" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Flash Application</a> Scripts to flash the Bootloader and Application to the nRF52.</p><p id="fd03" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The Application Firmware is also flashed to the nRF52 when we click <code class="dm hj hk hl hm b">Start Debugging</code>.</p><p id="8bc8" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">9️⃣ <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/.vscode" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">.vscode</a></code>: <strong class="gr hh">Visual Studio Code Settings</strong></p><p id="3f39" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/.vscode/tasks.json" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">tasks.json</a></code> defines the Build and Flash Bootloader / Application Tasks in Visual Studio Code. These tasks invoke the scripts in the <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/tree/nrf52/scripts" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">scripts</a></code> folder</p><p id="c94d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/.vscode/launch-nrf52.json" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">launch-nrf52.json</a></code> contains the nRF52 debugger settings for the <a href="https://web.archive.org/web/20191217201803/https://marketplace.visualstudio.com/items?itemName=marus25.cortex-debug" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Cortex-Debug Extension</a> that we’re using to debug our application. When we run the <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/build-app.cmd#L4-L6" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Build Application</a> script, the script copies <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/.vscode/launch-nrf52.json" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">launch-nrf52.json</a></code> to <code class="dm hj hk hl hm b">launch.json</code>, which is loaded by the Cortex-Debug debugger.</p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="6166" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">Create an iBeacon with NimBLE</h1><p id="918b" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">Let’s look at the application code that calls the NimBLE API to create an iBeacon Transmitter: <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/apps/my_sensor_app/src/ble.c" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">apps/my_sensor_app/src/ble.c</a></code>. Why did we code this in C and not Rust? We’ll discuss this in a while.</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/40954407eddb8f070d9398bd178b65af" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div></figure><p id="be55" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b">start_ble()</code> is called by the Rust <code class="dm hj hk hl hm b">main()</code> function to start the iBeacon broadcasts in our application.</p><p id="8732" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">In Bluetooth LE applications, it’s mandatory to wait for the Host (i.e. Arm Processor) and Controller (i.e. Radio Transceiver) to sync up before performing any Bluetooth LE functions.</p><p id="fe53" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here we set up the <code class="dm hj hk hl hm b">ble_hs_cfg.sync_cb</code> callback defined in NimBLE, so that NimBLE will call our function <code class="dm hj hk hl hm b">ble_app_on_sync()</code> as soon as the Host and Controller are in sync. (Which happens very quickly upon startup… Just set a breakpoint in <code class="dm hj hk hl hm b">ble_app_on_sync()</code> and watch!)</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/d744bac8f2329936df0ec1db7d3b3b20" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div></figure><p id="acb7" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">When the Host and Controller are in sync, <code class="dm hj hk hl hm b">ble_app_on_sync()</code> calls two functions to set up the iBeacon Transmitter…</p><ol class=""><li id="9cb0" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc km kn ko"><code class="dm hj hk hl hm b">ble_app_set_addr()</code>: Generate a Non-Resolvable Private Address</li><li id="d9c3" class="gp gq ec bk gr b gs kp gu kq gw kr gy ks ha kt hc km kn ko"><code class="dm hj hk hl hm b">ble_app_advertise()</code>: Advertise indefinitely as an iBeacon</li></ol><p id="dc35" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">What’s a <strong class="gr hh">Non-Resolvable Private Address</strong>? Just like any networking protocol, in Bluetooth LE we need to identify ourselves with a network address. Since we’re creating an iBeacon Transmitter with no receive capability, it’s OK to use a temporary random address, i.e. Non-Resolvable Private Address.</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/eff555587fca2284e73276fde0f8025b" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div></figure><p id="e5dd" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here’s how we call the NimBLE API <code class="dm hj hk hl hm b">ble_hs_id_gen_rnd()</code> to generate that random 6-byte Non-Resolvable Private Address.</p><p id="f857" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Once we have obtained the random address, we tell NimBLE to use it by calling <code class="dm hj hk hl hm b">ble_hs_id_set_rnd()</code>. If you’re curious to see the random address, just set a Debugger Breakpoint by clicking the gutter to add a red dot like this…</p><figure class="js jt ju jv jw cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm mt"><div class="dl r dd dm"><div class="mu r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*Hzy581IOrY3VX-K-iJp4Gw.png?q=20" width="773" height="605" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="773" height="605" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/1546/1*Hzy581IOrY3VX-K-iJp4Gw.png" width="773" height="605" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Setting a breakpoint to observe the randomly-generated 6-byte Non-Resolvable Private Address</figcaption></figure><p id="5ec4" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Now let’s find out what our nRF52 shall be broadcasting…</p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="6779" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">Set iBeacon Parameters</h1><figure class="js jt ju jv jw cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm jr"><div class="dl r dd dm"><div class="mv r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*w-csDBzCdCkGRYBIvk-J0g.png?q=20" width="4476" height="3664" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="4476" height="3664" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/8952/1*w-csDBzCdCkGRYBIvk-J0g.png" width="4476" height="3664" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">iBeacon ID links the iBeacon Transmitter to the Mobile App</figcaption></figure><p id="e87a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Remember our iBeacon sketch? Every iBeacon Transmitter needs to broadcast the following…</p><ol class=""><li id="39d3" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc km kn ko"><strong class="gr hh">iBeacon ID</strong>: Our iBeacon Transmitter shall broadcast this 16-byte iBeacon ID, which looks like <code class="dm hj hk hl hm b">11111111–1111–1111–1111–111111111111</code> (in hexadecimal). Upon sensing the iBeacon ID in the airwaves, the phone OS (iOS or Android) will <a href="https://web.archive.org/web/20191217201803/https://www.raywenderlich.com/632-ibeacon-tutorial-with-ios-and-swift" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">wake up our Mobile App</a> that’s linked to this iBeacon ID.</li><li id="cc3d" class="gp gq ec bk gr b gs kp gu kq gw kr gy ks ha kt hc km kn ko"><strong class="gr hh">Major ID</strong>: A 16-bit number to differentiate iBeacon Transmitters</li><li id="523c" class="gp gq ec bk gr b gs kp gu kq gw kr gy ks ha kt hc km kn ko"><strong class="gr hh">Minor ID</strong>: Another 16-bit number to differentiate iBeacon Transmitters</li></ol><p id="618c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">How are Major and Minor IDs used?</em> Let’s say we operate a chain of stores. All stores in the chain would use the same Mobile App, so all iBeacon Transmitters in the stores should broadcast the same iBeacon ID.</p><p id="aa9d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">How would we identify which store the customer has stepped into?</em> Easy… Just assign a unique Major ID for each store! The app would be able to sense the Major ID from the iBeacon broadcasts and figure out which store you’re at.</p><p id="83d1" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">Could we identify which part of the store the customer is at?</em> Sure! Just assign a unique Minor ID for each iBeacon Transmitter in the store. Here’s how we broadcast the iBeacon ID, Major ID and Minor ID in NimBLE…</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/7c8a567d23d2dd7d04b0a9d728ff2234" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div></figure><p id="9a20" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">In our code we used an arbitrary iBeacon ID <code class="dm hj hk hl hm b">uuid128</code> that’s defined as <code class="dm hj hk hl hm b">11111111–1111–1111–1111–111111111111</code> (in hexadecimal). We pass the iBeacon ID to <code class="dm hj hk hl hm b">ble_ibeacon_set_adv_data()</code>, together with Major ID <code class="dm hj hk hl hm b">2</code> and Minor ID <code class="dm hj hk hl hm b">10</code>. When we call <code class="dm hj hk hl hm b">ble_gap_adv_start()</code>, our nRF52 starts advertising itself as an iBeacon.</p><p id="f1a1" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">There’s one more parameter that we passed to <code class="dm hj hk hl hm b">ble_ibeacon_set_adv_data()</code>… Measured Power, which is the RSSI value at 1 meter: <code class="dm hj hk hl hm b">-60</code>. This value is broadcast by the iBeacon, together with the other IDs.</p><p id="c2d0" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Since we are diving deep into wireless transmission, let’s study the meaning of RSSI, known to most of us as Signal Strength…</p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="f2d6" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">How Near Is Our iBeacon?</h1><p id="1524" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc"><a href="https://web.archive.org/web/20191217201803/https://www.bluetooth.com/blog/proximity-and-rssi/" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Received Signal Strength Indication</a> (RSSI) is a common metric for measuring the Signal Strength of wireless networks like WiFi, NB-IoT and Bluetooth LE. RSSI values are usually negative, and higher values denote stronger signals (RSSI <code class="dm hj hk hl hm b">-50</code> is stronger than RSSI <code class="dm hj hk hl hm b">-60</code>).</p><p id="14ec" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">Why do iBeacons broadcast their RSSI values?</em> So that we may estimate how near they are!</p><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="db dc dd de ak"><div class="cl cm jy"><div class="dl r dd dm"><div class="kl r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*UFx4IAUoj4Z5S58uTcehzg.png?q=20" width="1242" height="606" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1242" height="606" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/2484/1*UFx4IAUoj4Z5S58uTcehzg.png" width="1242" height="606" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Estimated Proximity for our nRF52 iBeacon in the Locate Beacon app: 0.7 metres</figcaption></figure><p id="4946" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Recall that we set our iBeacon Transmitter’s Measured Power as <code class="dm hj hk hl hm b">-60</code>. According to the definition of Measured Power, if we placed our mobile phone 1 metre away from our iBeacon Transmitter, the phone would record the RSSI as <code class="dm hj hk hl hm b">-60</code>.</p><p id="c39e" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Thus if the RSSI recorded by the phone was <code class="dm hj hk hl hm b">-50</code> or higher, the iBeacon Transmitter would probably be close to the phone (within 1 metre). This gives us a simple way to estimate the distance between the iBeacon Transmitter and our mobile phone.</p><p id="079c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">In the real world, the estimated proximity of iBeacons is not really accurate. Bluetooth LE signals often clash with WiFi in the crowded 2.4 GHz airwaves, so the RSSI values may fluctuate wildly. And when Bluetooth LE signals pass through objects (like human bodies) the RSSI values will drop.</p><p id="cac4" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">It’s hard to do accurate distance ranging for any kind of wireless signal (WiFi and NB-IoT included). But it’s good to understand what RSSI means, and how wireless signals degrade when transmitting over long distances, passing through obstacles.</p><p id="6bad" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">For more details on implementing iBeacon Transmitters with NimBLE, check out the complete tutorial at <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://mynewt.apache.org/latest/tutorials/ble/ibeacon.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://mynewt.apache.org/latest/tutorials/ble/ibeacon.html</a></code></p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="cz"><div class="n p"><div class="ky kz la lb lc ld ag le ah lf aj ak"><figure class="js jt ju jv jw cz lh li paragraph-image"><div class="db dc dd de ak"><div class="cl cm mw"><div class="dl r dd dm"><div class="mx r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*SlSw5NFxcGRFS91zHhBTTw.jpeg?q=20" width="6000" height="4000" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="6000" height="4000" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/12000/1*SlSw5NFxcGRFS91zHhBTTw.jpeg" width="6000" height="4000" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Testing our nRF52 iBeacon with the “Locate Beacon” mobile app</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="3a00" class="jb jc ec bk bj io ee ln eg lo jf lp jh lq jj lr jl">Test Our iBeacon</h1><p id="9ee9" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">Let’s use a real Mobile App to verify that our nRF52 is indeed broadcasting as an iBeacon.</p><p id="a308" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><a class="at cg hd he hf hg" target="_blank" rel="noopener" href="/web/20191217201803/https://medium.com/@ly.lee/install-apache-mynewt-and-embedded-rust-for-nrf52-and-visual-studio-code-on-windows-and-macos-94741412b502?source=friends_link&amp;sk=3d368af3fe4c758b0ef725809d8504d2">Follow the instructions in this article</a> to flash and debug your nRF52 with an <a href="https://web.archive.org/web/20191217201803/https://www.aliexpress.com/wholesale?catId=0&amp;initiative_id=SB_20180924134644&amp;SearchText=st-link+v2&amp;switch_new_app=y" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">ST-Link V2 adapter</a>.</p><p id="76dd" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Start a debug session for nRF52 in Visual Studio Code. Whenever the program pauses at a breakpoint (this will happen twice), click <code class="dm hj hk hl hm b">Continue</code> or press <code class="dm hj hk hl hm b">F5</code>. Keep the nRF52 powered on.</p><p id="178f" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Install the <strong class="gr hh">“</strong><a href="https://web.archive.org/web/20191217201803/https://apps.apple.com/us/app/locate-beacon/id738709014" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow"><strong class="gr hh">Locate Beacon</strong></a><strong class="gr hh">”</strong> app on your iPhone…</p><div class="hn ho hp hq hr hs"><a href="https://web.archive.org/web/20191217201803/https://apps.apple.com/us/app/locate-beacon/id738709014" rel="noopener nofollow"><section class="hv cl cm ak ce n ar hw hx hy hz ia ib ic id ie if ig ih ii ij ik"><div class="il n co p im in"><h2 class="bj io ip bl ec"><div class="di ht fm fn hu fp">‎Locate Beacon</div></h2><div class="iq r"><h3 class="bj dy ds bl bo"><div class="di ht fm fn hu fp">‎Makes your device transmit as a Proximity Beacon with iBeacon™ Technology and configurable identifiers. Finds nearby…</div></h3></div><div class="ir r"><h4 class="bj dy ge bl bo"><div class="di ht fm fn hu fp">apps.apple.com</div></h4></div></div><div class="my r"><div class="mz r na nb nc my nd ne nf"></div></div></section></a></div><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="db dc dd de ak"><div class="cl cm jy"><div class="dl r dd dm"><div class="ng r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/44/1*eQ9b9lxzuHu6Ed77WstXuQ.png?q=20" width="1242" height="1711" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1242" height="1711" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/2484/1*eQ9b9lxzuHu6Ed77WstXuQ.png" width="1242" height="1711" role="presentation"/></noscript></div></div></div></div></figure><p id="6840" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">1️⃣ Launch the “Locate Beacon” app on your iPhone.</p><p id="1df7" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Tap the Gear icon at top right</p><p id="0d42" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Tap <code class="dm hj hk hl hm b">Add New UUID</code></p><figure class="js jt ju jv jw cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm nh"><div class="dl r dd dm"><div class="ni r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*pmGFQ2cRpqypaNDM1UYwEw.png?q=20" width="1800" height="50" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1800" height="50" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/3600/1*pmGFQ2cRpqypaNDM1UYwEw.png" width="1800" height="50" role="presentation"/></noscript></div></div></div></div></figure><figure class="du cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="db dc dd de ak"><div class="cl cm jy"><div class="dl r dd dm"><div class="nj r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*wJQzCXaw7PUrYlIrCSgFCg.png?q=20" width="1242" height="587" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1242" height="587" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/2484/1*wJQzCXaw7PUrYlIrCSgFCg.png" width="1242" height="587" role="presentation"/></noscript></div></div></div></div></figure><p id="da8b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">2️⃣ Tap the <code class="dm hj hk hl hm b">+</code> button at top right</p><figure class="js jt ju jv jw cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm nh"><div class="dl r dd dm"><div class="ni r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*pmGFQ2cRpqypaNDM1UYwEw.png?q=20" width="1800" height="50" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1800" height="50" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/3600/1*pmGFQ2cRpqypaNDM1UYwEw.png" width="1800" height="50" role="presentation"/></noscript></div></div></div></div></figure><figure class="js jt ju jv jw cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm nh"><div class="dl r dd dm"><div class="ni r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*pmGFQ2cRpqypaNDM1UYwEw.png?q=20" width="1800" height="50" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1800" height="50" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/3600/1*pmGFQ2cRpqypaNDM1UYwEw.png" width="1800" height="50" role="presentation"/></noscript></div></div></div></div></figure><figure class="du cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="db dc dd de ak"><div class="cl cm jy"><div class="dl r dd dm"><div class="nk r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*20NGrir0mgR-RTL_N1rvCg.png?q=20" width="1242" height="1019" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1242" height="1019" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/2484/1*20NGrir0mgR-RTL_N1rvCg.png" width="1242" height="1019" role="presentation"/></noscript></div></div></div></div></figure><p id="c6cf" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">3️⃣ Enter <code class="dm hj hk hl hm b">My iBeacon</code> as the name</p><p id="e19a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">For the UUID, enter<br/><code class="dm hj hk hl hm b">11111111–1111–1111–1111–111111111111</code></p><p id="e9df" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Leave the Major, Minor and Power fields empty</p><p id="3d7f" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Tap <code class="dm hj hk hl hm b">Save</code></p><figure class="js jt ju jv jw cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm nh"><div class="dl r dd dm"><div class="ni r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*pmGFQ2cRpqypaNDM1UYwEw.png?q=20" width="1800" height="50" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1800" height="50" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/3600/1*pmGFQ2cRpqypaNDM1UYwEw.png" width="1800" height="50" role="presentation"/></noscript></div></div></div></div></figure><figure class="du cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="db dc dd de ak"><div class="cl cm jy"><div class="dl r dd dm"><div class="kl r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*UFx4IAUoj4Z5S58uTcehzg.png?q=20" width="1242" height="606" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1242" height="606" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/2484/1*UFx4IAUoj4Z5S58uTcehzg.png" width="1242" height="606" role="presentation"/></noscript></div></div></div></div></figure><p id="b2d7" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">4️⃣ Our nRF52 should appear in the list of detected iBeacons as <code class="dm hj hk hl hm b">My iBeacon</code></p><p id="386d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Tap <code class="dm hj hk hl hm b">My iBeacon</code></p><figure class="js jt ju jv jw cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm nh"><div class="dl r dd dm"><div class="ni r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*pmGFQ2cRpqypaNDM1UYwEw.png?q=20" width="1800" height="50" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1800" height="50" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/3600/1*pmGFQ2cRpqypaNDM1UYwEw.png" width="1800" height="50" role="presentation"/></noscript></div></div></div></div></figure><figure class="du cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="db dc dd de ak"><div class="cl cm jy"><div class="dl r dd dm"><div class="nl r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*uqfIn72RPcy4o9mTa3zQig.png?q=20" width="1242" height="1196" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1242" height="1196" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/2484/1*uqfIn72RPcy4o9mTa3zQig.png" width="1242" height="1196" role="presentation"/></noscript></div></div></div></div></figure><p id="928d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">5️⃣ Details of our iBeacon appear, including the RSSI and estimated proximity.</p><p id="dfe2" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">How did I figure out that my nRF52’s Measured Power was </em><code class="dm hj hk hl hm b">-60</code>? By trial and error!</p><p id="2ff6" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">I placed my phone 1 metre away from the nRF52, then adjusted the Measured Power value until the estimated distance in the Locate Beacon app showed 1 metre.</p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="e10d" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">Poll A Sensor With Rust</h1><p id="b82e" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">Now let’s talk about Embedded Rust! As we have discovered, our Mynewt Project allows us to embed Rust modules and crates into our Application Firmware (via sneaky substitution of the <code class="dm hj hk hl hm b">rust_app</code> and <code class="dm hj hk hl hm b">rust_libcore</code> libraries). The <code class="dm hj hk hl hm b">main()</code> function is defined in Rust, in fact.</p><p id="7318" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">But we haven’t seen Rust in action while creating our iBeacon. <em class="hi">How can we be sure that Rust is indeed running properly on our nRF52?</em></p><p id="ecb3" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">We’ll prove that by <strong class="gr hh">polling a Simulated Mynewt Sensor with Rust</strong>! Here how we do that…</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/e30990e06ea216f3d0b0b83f55638273" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Very first thing in any Mynewt Application: Call sysinit(). From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/lib.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/lib.rs</a></figcaption></figure><p id="8e2f" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Our <code class="dm hj hk hl hm b">main()</code> function is defined in the Rust module <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/lib.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">rust/app/src/lib.rs</a></code>. The first thing that happens in <code class="dm hj hk hl hm b">main()</code>: Call <code class="dm hj hk hl hm b">sysinit()</code> to initialise the Mynewt libraries and drivers. (Mynewt programs in C also call <code class="dm hj hk hl hm b">sysinit()</code> at startup)</p><p id="fd37" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">On the nRF52, <code class="dm hj hk hl hm b">sysinit()</code> initialises the 2.4 GHz Radio Transceiver and the Stub Temperature Sensor. We’ll talk about this simulated temperature sensor in a while.</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/89ef6837333a26121e8c78ada8adc3e5" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Start polling the simulated temperature sensor. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/lib.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/lib.rs</a></figcaption></figure><p id="b467" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Remember we said that Mynewt programs are designed to be portable across microcontrollers? The Rust-Mynewt application we’re studying now actually runs fine on STM32 F103 (Blue Pill) and L476 microcontrollers… But they run a little differently.</p><p id="c094" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">On STM32 microcontrollers, our Rust application polls the onboard temperature sensor every 10 seconds and transmits the temperature data to a server (via an NB-IoT module connected to the microcontroller).</p><p id="7c9a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">On the nRF52 we won’t be transmitting the sensor data to a server, so the code to start the Server Transport has been commented out (for now).</p><p id="a445" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Next, we call <code class="dm hj hk hl hm b">start_sensor_listener()</code> (defined in our application module <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">app_sensor.rs</a></code>) to begin polling the simulated temperature sensor every 10 seconds.</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/ab1194e77b12b3bb96a2b54b62d03809" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Start broadcasting as iBeacon. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/lib.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/lib.rs</a></figcaption></figure><p id="7105" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Remember our C function <code class="dm hj hk hl hm b">start_ble()</code> that initiates the iBeacon broadcasting? This is how we call <code class="dm hj hk hl hm b">start_ble()</code> from <code class="dm hj hk hl hm b">main()</code>. It needs to be tagged as <code class="dm hj hk hl hm b">unsafe</code> because to the Rust Compiler, all C functions are risky and could potentially cause problems (memory corruption, crashing, …) The <code class="dm hj hk hl hm b">unsafe</code> tag will be removed once we create a safe and proper Rust Wrapper for NimBLE.</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/b1940ac115a7c9c6a0fb38cd16c05be6" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Mynewt Event Loop. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/lib.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/lib.rs</a></figcaption></figure><p id="69f0" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">At the end of the <code class="dm hj hk hl hm b">main()</code> function we have a standard Mynewt Event Loop to handle Mynewt system events. (Mynewt programs in C also have this Mynewt Event Loop). Without this Event Loop, the NimBLE functions will never get any processing done.</p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="4258" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">Mynewt Sensor Framework, Enhanced With Rust</h1><p id="e0b1" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">Let’s look at <code class="dm hj hk hl hm b">start_sensor_listener()</code>, defined in our application module <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">app_sensor.rs</a></code>...</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/18d940d3e87c16d2e6eeec1b6be88db0" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Define the name of the Stub Temperature Sensor and the polling interval. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs</a></figcaption></figure><p id="275e" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">At the top of <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">app_sensor.rs</a></code> we define some constants for polling the sensor.</p><p id="ef6d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b">SENSOR_DEVICE</code> is defined as <code class="dm hj hk hl hm b">temp_stub_0</code>, which refers to the <strong class="gr hh">Stub Temperature Sensor</strong>. The Stub Temperature Sensor works like a regular Mynewt Temperature Sensor… Except that it always returns a hardcoded raw temperature value <code class="dm hj hk hl hm b">1757</code>. Useful for testing sensor applications without connecting a real temperature sensor. (On STM32 this program polls the actual onboard temperature sensor)</p><p id="7d2c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b">SENSOR_POLL_TIME</code> is set to 10,000 milliseconds, or 10 seconds. We’ll be asking Mynewt to poll our simulated temperature sensor every 10 seconds.</p><p id="5e64" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">What’s <code class="dm hj hk hl hm b">Strn</code>? This is a custom string type that I have defined to make passing of strings safer and more efficient. Mynewt APIs require all strings to be null-terminated; Rust strings don’t need the terminating null.</p><p id="36ba" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">If we pass strings back and forth between Rust and the Mynewt APIs, we could end up creating many clones of the same string, with and without terminating nulls. Or worse… Mynewt could crash because some Rust code has incorrectly passed in a string that’s not null-terminated. So I have wrapped the Mynewt APIs to accept the safer, efficient <code class="dm hj hk hl hm b">Strn</code> type that’s always null-terminated.</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/5d0cef4095c605de963acd97f3aec1f2" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Fetch the Stub Temperature Sensor by name. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs</a></figcaption></figure><p id="4a3a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here’s the first clue that Mynewt has an awesome <strong class="gr hh">Sensor Framework</strong>… Mynewt keeps track of all installed sensors by name. <code class="dm hj hk hl hm b">sensor_mgr::find_bydevname()</code> is the Mynewt API that returns a list of sensors (i.e. a Sensor Iterator) that match a name (<code class="dm hj hk hl hm b">temp_stub_0</code>).</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/9757d1001683107fad61f81ff6410a1d" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Set the polling interval for the Stub Temperature Sensor. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs</a></figcaption></figure><p id="3168" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Mynewt recognises every sensor and the type of data that the sensor produces. So let’s ask Mynewt to poll the sensor on our behalf!</p><p id="d548" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">By calling <code class="dm hj hk hl hm b">sensor::set_poll_rate_ms()</code> we’re kindly asking Mynewt to poll our simulated temperature sensor every 10 seconds. <em class="hi">Truly awesome!</em></p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/2bd85654c5e1dce3fe3d5ee5eb05a777" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Create a Sensor Listener. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs</a></figcaption></figure><p id="1fbd" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Now we fill in the nitty-gritty polling details…<em class="hi"> What shall we do with the temperature sensor data after Mynewt has obtained it?</em> Here we ask Mynewt to call our Rust function <code class="dm hj hk hl hm b">aggregate_sensor_data()</code> with the sensor data.</p><p id="2fb5" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><code class="dm hj hk hl hm b">aggregate_sensor_data()</code> is known as a Sensor Listener Function… It’s a function that listens for updated sensor data and acts on the data.</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/5344a66f61be127d2ade70106f93b77b" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Register the Sensor Listener with Mynewt Sensor Framework. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_sensor.rs</a></figcaption></figure><p id="f399" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">To activate the Sensor Listener Function, we call the Mynewt API <code class="dm hj hk hl hm b">sensor::register_listener()</code>. Mynewt will begin polling the simulated temperature sensor every 10 seconds and call <code class="dm hj hk hl hm b">aggregate_sensor_data()</code> with the polled temperature data.</p><p id="4178" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">Polling a sensor in Mynewt is really so easy… in C and in Rust</em>! That’s possible only because Mynewt has a well-designed Sensor Framework.</p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="c3e6" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">Handle Sensor Data With Rust</h1><p id="fc7b" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">Remember that we don’t transmit sensor data to a server in the nRF52 version of the Rust application (unlike the STM32 version). But we’ll take a peek to understand how our sensor data could have been easily packaged and delivered to an IoT server.</p><p id="b07f" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Earlier we asked Mynewt to call <code class="dm hj hk hl hm b">aggregate_sensor_data()</code> whenever it has polled our simulated temperature sensor. Let’s see what happens inside <code class="dm hj hk hl hm b">aggregate_sensor_data()</code>…</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/b09a40b73005b8024f05b796c12c91c8" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Aggregate temperature data with GPS data. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_network.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_network.rs</a></figcaption></figure><p id="ae4a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">On the STM32 L476 microcontroller our Rust application not only handles temperature sensor data… It handles <em class="hi">GPS latitude / longitude coordinates as well!</em> The application polls the GPS module for the current geolocation (just like any Mynewt sensor) and attaches the geolocation to the temperature data before transmitting to the server.</p><p id="4da2" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">On nRF52 we’ll settle for less… <code class="dm hj hk hl hm b">aggregate_sensor_data()</code> will simply transmit the temperature data without attaching any GPS coordinates. It calls <code class="dm hj hk hl hm b">send_sensor_data()</code> to transmit the temperature data…</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/d2b9ea91ea9ca07a08b0f7a54d5f3d77" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Send sensor data to CoAP server. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_network.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_network.rs</a></figcaption></figure><p id="790b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This sounds incredulous… But <code class="dm hj hk hl hm b">send_sensor_data()</code> was designed to transmit <em class="hi">any sensor data</em> in <em class="hi">any format</em> that will be understood by our server!</p><p id="26ab" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">For example, the code here works perfectly for transmitting temperature data to the server at thethings.io. This server accepts CoAP Messages with a JSON Payload that contains the geolocated sensor data.</p><p id="5ce1" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Yet strangely, <code class="dm hj hk hl hm b">send_sensor_data()</code> doesn’t contain any code that’s specific to thethings.io…<em class="hi"> The sensor data appears to transform itself magically for thethings.io</em>. How is this possible? We’ll learn in a while…</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/85b161856f2c5c3829fa0ff6d8d57b67" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Compose an outgoing CoAP message. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_network.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_network.rs</a></figcaption></figure><p id="e72b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This is the end of the road for nRF52… We haven’t started a Network Transport (like NB-IoT) that will deliver the sensor data to a server, so nRF52 silently drops the sensor data here.</p><p id="ece0" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">For STM32, the Rusty trail continues…</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/04b3b308f277584787df14f205c1d5c7" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Compose and transmit the JSON Payload containing the temperature and GPS data. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_network.rs" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/rust/app/src/app_network.rs</a></figcaption></figure><p id="973e" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Believe it (or not)… <em class="hi">That’s all the code we need</em> to transform our geolocated sensor data into this complicated nested CoAP + JSON format mandated by thethings.io…</p><pre class="js jt ju jv jw mf mg mh"><span id="7f4a" class="mi jc ec bk hm b ds mj mk r ml">{ &quot;values&quot;: [<br/>   { &quot;key&quot;  : &quot;t&quot;,      <br/>     &quot;value&quot;: 1757, <br/>     &quot;geo&quot;  : { &quot;lat&quot;: 1.2701, &quot;long&quot;: 103.8078 }},</span><span id="295c" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml">   { &quot;key&quot;  : &quot;device&quot;,<br/>     &quot;value&quot;: &quot;l476,bf39a9607e1187f6f3d80d6dd43&quot; }<br/>]}</span></pre><p id="eae0" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">The secret of the sensor data transformation?</em> It’s in the <code class="dm hj hk hl hm b">coap!()</code> macro!</p><p id="8866" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><strong class="gr hh">Rust Declarative Macros</strong> are incredibly powerful… A Rust macro can transform a simple JSON object into a complicated nested CoAP + JSON monster. The <code class="dm hj hk hl hm b">coap!()</code> macro hides the details of the data transformation. That’s why we can transmit <em class="hi">any sensor data</em> in <em class="hi">any format</em> that will be understood by the server… Just let the <code class="dm hj hk hl hm b">coap!()</code> macro handle it!</p><p id="b4b7" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Thanks to Mynewt, the transmission of sensor data is highly efficient. The CoAP Message is transmitted (over NB-IoT) by a background task in Mynewt. So our application may continue processing sensor data without waiting for the transmission to complete.</p><p id="9dc3" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">Mynewt and Rust are perfectly paired for building safe and efficient embedded systems!</em></p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="1b07" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">Watch Rust Run On nRF52</h1><p id="ff21" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">Ready to watch Rust run on nRF52? All you need is an nRF52 development board and an <a href="https://web.archive.org/web/20191217201803/https://www.aliexpress.com/wholesale?catId=0&amp;initiative_id=SB_20180924134644&amp;SearchText=st-link+v2&amp;switch_new_app=y" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">ST-Link V2 adapter</a>.</p><p id="72aa" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><a class="at cg hd he hf hg" target="_blank" rel="noopener" href="/web/20191217201803/https://medium.com/@ly.lee/install-apache-mynewt-and-embedded-rust-for-nrf52-and-visual-studio-code-on-windows-and-macos-94741412b502?source=friends_link&amp;sk=3d368af3fe4c758b0ef725809d8504d2">Follow the instructions in this article</a> to flash and debug your nRF52.</p><p id="9c62" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The Output Log in Visual Studio Code should look like this…</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/341e3e9f9d5843307118d42c572c1267" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Output Log from <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/logs/standalone-node.log" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/logs/standalone-node.log</a></figcaption></figure><p id="a646" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Here’s a video demo of the Application Build and Debug on nRF52…</p></div></div><div class="cz"><div class="n p"><div class="ky kz la lb lc ld ag le ah lf aj ak"><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="nm r"><iframe src="https://web.archive.org/web/20191217201803if_/https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FwqimbvJeGMo%3Ffeature%3Doembed&amp;url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DwqimbvJeGMo&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FwqimbvJeGMo%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube" allowfullscreen="" frameborder="0" height="480" width="640" title="nRF52 with Embedded Rust and Apache Mynewt" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Video demo of the Application Build and Debug on nRF52</figcaption></figure></div></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="cz"><div class="n p"><div class="ky kz la lb lc ld ag le ah lf aj ak"><figure class="js jt ju jv jw cz lh li paragraph-image"><div class="db dc dd de ak"><div class="cl cm nn"><div class="dl r dd dm"><div class="no r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*13IqxESfNtG70jLNfSqpdQ.png?q=20" width="3556" height="3549" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="3556" height="3549" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/7112/1*13IqxESfNtG70jLNfSqpdQ.png" width="3556" height="3549" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Polling sensors in Mynewt: Rust vs C</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="4799" class="jb jc ec bk bj io ee ln eg lo jf lp jh lq jj lr jl">Why Embedded Rust Instead of Embedded C?</h1><p id="60a5" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">Take a look at the above Rust code that’s running on our nRF52 for polling the simulated temperature sensor. Compare that with the equivalent C code.</p><p id="a51e" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">Why is Rust better than C?</em></p><p id="7df7" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Yes the Rust code looks more verbose than C… But that’s a good thing! C programming is so terse that it makes C difficult to learn. Experienced C programmers (like me) are indeed a dying breed.</p><p id="545f" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Rust uses sensible keywords (like <code class="dm hj hk hl hm b">fn</code> to denote functions, <code class="dm hj hk hl hm b">let</code> for declaring variables), making it easier to learn. Note also that the Rust code doesn’t use any pointers. If you look at the C code, it’s really easy to misuse pointers like <code class="dm hj hk hl hm b">listen_sensor</code> and <code class="dm hj hk hl hm b">listener</code>… causing more problems and frustration to learners.</p><p id="dd13" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Error handling in Rust is done elegantly… We use the <code class="dm hj hk hl hm b">?</code> operator to catch errors and exit early. Compare that with the unsightly <code class="dm hj hk hl hm b">assert()</code> in C. What if we forget to check the return code in C? Strange bugs ensue.</p><p id="9e4c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">Why not code EVERYTHING in Rust… Including Mynewt OS and NimBLE?</em></p><p id="0db9" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">There’s an amazing community hard at work creating <a href="https://web.archive.org/web/20191217201803/https://github.com/nrf-rs/nrf52-hal" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Rust on Bare Metal</a>. But it will take a while to get it running and tested with real-world applications on nRF52, nRF51, STM32 F103, STM32 F476, RISC-V, …</p><p id="ca8d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">I’m solving this problem with a different approach by applying <strong class="gr hh">Lean Principles</strong>…</p><p id="5a8a" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">You, the reader, the learner, are my Customer</em>. You wish to build a safe and efficient Embedded Application (hopefully in Rust). <em class="hi">What Rust APIs shall I provide you?</em></p><p id="a5be" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">I could build a Rust OS from scratch based on Bare Metal Rust, and offer you a Native Rust API. But that’s not very Lean.</p><p id="28d1" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Or I could take an embedded OS that’s already available, say Mynewt or Zephyr or FreeRTOS. Wrap it up with a clean Rust API, and give that Wrapped Rust API to you instead.<em class="hi"> You wouldn’t know the difference between the Native and Wrapped Rust APIs!</em> (Unless I told you)</p><p id="c5b0" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">The Wrapped Rust API won’t be perfect, because as you create new gadgets with the API, you may find the API cumbersome or hard to use. So I’ll take this opportunity to evolve the API iteratively, till we get the Perfect Embedded Rust API. (That’s how I evolved the Mynewt Sensor Framework with Rust Iterators)</p><p id="af04" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Now we’re ready to revamp the OS with Rust and restructure it to implement the Perfect Embedded Rust API in the safest and most efficient way possible.</p><p id="79a4" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This, I think, is the right approach for solving the Embedded Rust problem. And it needs to happen soon (based on Mynewt or Zephyr or FreeRTOS or …) so that we may quickly move embedded coders away from unsafe C and onto Rust.</p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="c9e5" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">Rust Wrappers for NimBLE</h1><p id="2bd3" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc"><em class="hi">Where are the Rust Wrappers for the NimBLE API?</em> Since the Mynewt Sensor Framework already has Rust Wrappers, it shouldn’t be too difficult to create Rust Wrappers for NimBLE right?</p><p id="1b2e" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">That’s work in progress</em>. With the Mynewt Sensor Framework I understand clearly how the API is used to read and poll sensors under various situations. The Rust Wrappers for the Mynewt Sensor Framework were designed for these use cases. With the NimBLE API… The use cases are still fuzzy to me.</p><p id="2fb8" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Some NimBLE applications appear to have lots of repetitive code, <a href="https://web.archive.org/web/20191217201803/https://github.com/apache/mynewt-nimble/blob/master/apps/blemesh_models_example_2/src/device_composition.c" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">like this Bluetooth Mesh application</a>. They could be greatly simplified with Rust Macros. Just like the <code class="dm hj hk hl hm b">coap!()</code> Rust Macro we used for composing CoAP messages.</p><p id="d127" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><em class="hi">If you would like to help out with the design of the Rust Wrappers for NimBLE, drop me a note!</em></p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="26e5" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">What’s Next?</h1><p id="2b30" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">Coding the nRF52 was an incredible experience… I’m finishing this tutorial only two weeks after touching nRF52 for the very first time!</p><p id="afb8" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">I got big plans for nRF52 in upcoming tutorials…</p><p id="92db" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">1️⃣ <strong class="gr hh">Bluetooth Mesh</strong>: What if we had a mesh network of nRF52 nodes that can relay IoT sensor data to nearby nodes? One of these nodes could be a WiFi gateway (based on ESP8266) that forwards the sensor data to an IoT server like thethings.io.</p><p id="8a54" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This will be an interesting application of Bluetooth Mesh, which is <a href="https://web.archive.org/web/20191217201803/https://mynewt.apache.org/latest/network/docs/mesh/index.html" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">already supported in NimBLE</a>. Here is the article…</p><div class="hn ho hp hq hr hs"><a rel="noopener" href="/web/20191217201803/https://medium.com/@ly.lee/bluetooth-mesh-with-nrf52-and-apache-mynewt-44823407c471"><section class="hv cl cm ak ce n ar hw hx hy hz ia ib ic id ie if ig ih ii ij ik"><div class="il n co p im in"><h2 class="bj io ip bl ec"><div class="di ht fm fn hu fp">Bluetooth Mesh with nRF52 and Apache Mynewt</div></h2><div class="iq r"><h3 class="bj dy ds bl bo"><div class="di ht fm fn hu fp">Suppose we have four light bulbs in our home, each with its own on/off switch…</div></h3></div><div class="ir r"><h4 class="bj dy ge bl bo"><div class="di ht fm fn hu fp">medium.com</div></h4></div></div><div class="my r"><div class="np r na nb nc my nd ne nf"></div></div></section></a></div><p id="1a9d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">2️⃣ <strong class="gr hh">PineTime Smart Watch</strong>: <a href="https://web.archive.org/web/20191217201803/https://www.cnx-software.com/2019/09/25/pinetime-smartwatch-specifications-released-availability-scheduled-for-h1-2020/" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">PineTime</a> is an upcoming smart watch that’s powered by nRF52. What if we could run Rust and Mynewt OS on this watch… And allow watch apps to be built easily with <a href="https://web.archive.org/web/20191217201803/https://blog.usejournal.com/visual-embedded-rust-programming-with-visual-studio-code-1bc1262e398c?source=friends_link&amp;sk=222de63e45993aacd0db5a2e4b1f33c7" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Visual Rust</a>?</p><p id="c32b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">What if the watches could form a mesh and relay each wearer’s vital signs (from the heart rate sensor)? And alert you if any of your loved ones are uncontactable through the mesh network? No more missing kids / grandparents / friends / hikers / swimmers / pets / …</p><p id="4df5" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">“Herding” sounds like a good name for such Wearable Mesh apps. I have received the PineTime developer kit… Here’s my review!</p><div class="hn ho hp hq hr hs"><a rel="noopener" href="/web/20191217201803/https://medium.com/swlh/sneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159"><section class="hv cl cm ak ce n ar hw hx hy hz ia ib ic id ie if ig ih ii ij ik"><div class="il n co p im in"><h2 class="bj io ip bl ec"><div class="di ht fm fn hu fp">Sneak Peek of PineTime Smart Watch… And why it’s perfect for teaching IoT</div></h2><div class="iq r"><h3 class="bj dy ds bl bo"><div class="di ht fm fn hu fp">I’m one of the lucky few who received the developer preview version of the PineTime Smart Watch by Pine64. (My official…</div></h3></div><div class="ir r"><h4 class="bj dy ge bl bo"><div class="di ht fm fn hu fp">medium.com</div></h4></div></div><div class="my r"><div class="nq r na nb nc my nd ne nf"></div></div></section></a></div><div class="hn ho hp hq hr hs"><a rel="noopener" href="/web/20191217201803/https://medium.com/@ly.lee/building-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9"><section class="hv cl cm ak ce n ar hw hx hy hz ia ib ic id ie if ig ih ii ij ik"><div class="il n co p im in"><h2 class="bj io ip bl ec"><div class="di ht fm fn hu fp">Building a Rust Driver for PineTime’s Touch Controller</div></h2><div class="iq r"><h3 class="bj dy ds bl bo"><div class="di ht fm fn hu fp">Pretend you’re my IoT student. I give you a PineTime Smart Watch and challenge you to “Make it work… Especially the…</div></h3></div><div class="ir r"><h4 class="bj dy ge bl bo"><div class="di ht fm fn hu fp">medium.com</div></h4></div></div><div class="my r"><div class="nr r na nb nc my nd ne nf"></div></div></section></a></div></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="cz"><div class="n p"><div class="ky kz la lb lc ld ag le ah lf aj ak"><figure class="js jt ju jv jw cz lh li paragraph-image"><div class="db dc dd de ak"><div class="cl cm ns"><div class="dl r dd dm"><div class="nt r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*9aGZS4gm7eMI75UkBp3qTQ.jpeg?q=20" width="4958" height="3486" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="4958" height="3486" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/9916/1*9aGZS4gm7eMI75UkBp3qTQ.jpeg" width="4958" height="3486" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">nRF52 connected to Raspberry Pi 4</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="1285" class="jb jc ec bk bj io ee ln eg lo jf lp jh lq jj lr jl">Advanced Topic: Remove nRF52 Flash Protection With Raspberry Pi</h1><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="db dc dd de ak"><div class="cl cm nu"><div class="dl r dd dm"><div class="nv r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*8boOZaAaprSGlp__jSyrhA.png?q=20" width="714" height="407" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="714" height="407" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/1428/1*8boOZaAaprSGlp__jSyrhA.png" width="714" height="407" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">From “nRF52832 — Product Specification” <a href="https://web.archive.org/web/20191217201803/https://infocenter.nordicsemi.com/pdf/nRF52832_PS_v1.0.pdf" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://infocenter.nordicsemi.com/pdf/nRF52832_PS_v1.0.pdf</a></figcaption></figure><p id="5fdf" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Do you have problems flashing or debugging your nRF52? Here’s how you can fix it…</p><p id="9861" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">nRF52 has an <strong class="gr hh">Access Port Protection</strong> feature that locks the nRF52 flash ROM from any modification and prevents debugging. Access Port Protection is enabled in production devices, so that people can’t snoop into an nRF52 gadget and tamper with the ROM.</p><p id="871b" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Some nRF52 development boards (including my EBYTE E73-TBB) are shipped with Access Port Protection enabled. Most developers use a <a href="https://web.archive.org/web/20191217201803/https://en.wikipedia.org/wiki/Segger_Microcontroller_Systems#J-Link" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">J-LINK</a> USB Programmer to remove the Access Port Protection, but I’ll show you how to use a Raspberry Pi (1, 2, 3 or 4) instead…</p><p id="2744" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Connect your nRF52 board to a Raspberry Pi 1 / 2 / 3 / 4 (powered off) as follows (refer to the photo above)…</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/c85099c19b1b928341cc95daca594d59" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Connecting nRF52 to Raspberry Pi. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/swd-pi.ocd" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/swd-pi.ocd</a></figcaption></figure><figure class="js jt ju jv jw cz cl cm paragraph-image"><div class="db dc dd de ak"><div class="cl cm nw"><div class="dl r dd dm"><div class="nx r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/46/1*F_VACb4U3aSs3W-kDvqI6A.png?q=20" width="1010" height="1324" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="1010" height="1324" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/2020/1*F_VACb4U3aSs3W-kDvqI6A.png" width="1010" height="1324" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Connecting nRF52 to Raspberry Pi. Based on <a href="https://web.archive.org/web/20191217201803/https://pinout.xyz/" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://pinout.xyz/</a></figcaption></figure><p id="e388" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Power on the Raspberry Pi. Open a common prompt on the Raspberry Pi. Enter into the command prompt…</p><pre class="js jt ju jv jw mf mg mh"><span id="1577" class="mi jc ec bk hm b ds mj mk r ml"># Build OpenOCD with CMSIS-DAP and GPIO support</span><span id="3992" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml">sudo apt install wget git autoconf libtool make pkg-config libusb-1.0-0 libusb-1.0-0-dev libhidapi-dev libftdi-dev telnet</span><span id="9070" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml">git clone https://github.com/ntfreak/openocd</span><span id="854c" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml">cd openocd</span><span id="a69c" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml">./bootstrap</span><span id="8174" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml">./configure --enable-sysfsgpio --enable-bcm2835gpio --enable-cmsis-dap</span><span id="1f2e" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml">make</span><span id="3aa7" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml">cd ..</span><span id="8b97" class="mi jc ec bk hm b ds mm mn mo mp mq mk r ml"># Download the OpenOCD script<br/>wget https://raw.githubusercontent.com/lupyuen/stm32bluepill-mynewt-sensor/nrf52/scripts/nrf52/swd-pi.ocd</span></pre><p id="d5aa" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Edit the downloaded <code class="dm hj hk hl hm b"><a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/swd-pi.ocd" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">swd-pi.ocd</a></code></p><p id="93e9" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Comment out the lines (insert <code class="dm hj hk hl hm b">#</code> prefix) for <code class="dm hj hk hl hm b">bcm2835gpio_peripheral_base</code> and <code class="dm hj hk hl hm b">bcm2835gpio_speed_coeffs</code> under <code class="dm hj hk hl hm b">Pi 4</code></p><p id="8c35" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Uncomment the lines (remove <code class="dm hj hk hl hm b">#</code> prefix) for <code class="dm hj hk hl hm b">bcm2835gpio_peripheral_base</code> and <code class="dm hj hk hl hm b">bcm2835gpio_speed_coeffs</code> for your model of Raspberry Pi: <code class="dm hj hk hl hm b">Pi 1 / 2 / 3 / 4</code></p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/44eeeb63a84220283a2227783cf796cd" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">OpenOCD script. From <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/swd-pi.ocd" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/swd-pi.ocd</a></figcaption></figure><p id="d9eb" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Enter into the command prompt…</p><pre class="js jt ju jv jw mf mg mh"><span id="8ddb" class="mi jc ec bk hm b ds mj mk r ml"># Start OpenOCD<br/>sudo /home/pi/openocd/src/openocd \<br/>   -s /home/pi/openocd/tcl \<br/>   -d4 \<br/>   -f swd-pi.ocd</span></pre><p id="3b5d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">We should see the following log…</p><figure class="js jt ju jv jw cz"><div class="dl r dd"><div class="mc r"><iframe src="https://web.archive.org/web/20191217201803if_/https://medium.com/media/0bc5dfa93e6a6b76d3d6b59ec4cd9579" allowfullscreen="" frameborder="0" height="0" width="0" title="See https://medium.com/@ly.lee/coding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004" class="cp t u dh ak" scrolling="auto"></iframe></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">OpenOCD Log from <a href="https://web.archive.org/web/20191217201803/https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/swd-pi.log" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-mynewt-sensor/blob/nrf52/scripts/nrf52/swd-pi.log</a></figcaption></figure><p id="66e2" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">While OpenOCD is running, open a second command prompt and enter…</p><pre class="js jt ju jv jw mf mg mh"><span id="2b37" class="mi jc ec bk hm b ds mj mk r ml">telnet localhost 4444<br/>nrf52.dap apreg 1 0x0c</span></pre><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="db dc dd de ak"><div class="cl cm ny"><div class="dl r dd dm"><div class="nz r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*quuHgikbgX2AuLBYwk8rzA.png?q=20" width="566" height="257" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="566" height="257" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/1132/1*quuHgikbgX2AuLBYwk8rzA.png" width="566" height="257" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Checking the <code class="dm hj hk hl hm b">APPROTECTSTATUS</code> status register for Access Port Protection</figcaption></figure><p id="9d74" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This queries the <code class="dm hj hk hl hm b">APPROTECTSTATUS</code> status register for Access Port Protection.</p><p id="b852" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">It should show <code class="dm hj hk hl hm b">0</code>, which means protection is enabled.</p><p id="4922" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">We’ll now set the <code class="dm hj hk hl hm b">ERASEALL</code> register to <code class="dm hj hk hl hm b">1</code> to erase the flash ROM and remove Access Port Protection.</p><p id="beb6" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Enter the following commands into the <code class="dm hj hk hl hm b">telnet</code> prompt.</p><pre class="js jt ju jv jw mf mg mh"><span id="eae9" class="mi jc ec bk hm b ds mj mk r ml">nrf52.dap apreg 1 0x04 0x01<br/>nrf52.dap apreg 1 0x04</span></pre><p id="8714" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This should show <code class="dm hj hk hl hm b">1</code>, which means that the nRF52 is ready to be erased.</p><p id="9e4d" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Shut down and power off the Raspberry Pi and nRF52 board.</p><p id="ce87" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Power on the Raspberry Pi and nRF52 board. This performs the flash ROM erase.</p><p id="8f01" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">Start OpenOCD by entering into a command prompt…</p><pre class="js jt ju jv jw mf mg mh"><span id="f4c9" class="mi jc ec bk hm b ds mj mk r ml">sudo /home/pi/openocd/src/openocd \<br/>   -s /home/pi/openocd/tcl \<br/>   -d4 \<br/>   -f swd-pi.ocd</span></pre><p id="5027" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">While OpenOCD is running, open another command prompt and enter…</p><pre class="js jt ju jv jw mf mg mh"><span id="e4cc" class="mi jc ec bk hm b ds mj mk r ml">telnet localhost 4444<br/>targets<br/>halt<br/>nrf52.dap apreg 1 0x0c</span></pre><figure class="js jt ju jv jw cz dr jz cd ka kb kc kd ke ba kf kg kh ki kj kk paragraph-image"><div class="db dc dd de ak"><div class="cl cm oa"><div class="dl r dd dm"><div class="ob r"><div class="df dg cp t u dh ak di dj dk"><img class="cp t u dh ak do dp dq" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/60/1*NXUnrya4W5XRELcoFe6RQw.png?q=20" width="588" height="308" role="presentation"/></div><img class="df dg cp t u dh ak dr" width="588" height="308" role="presentation"/><noscript><img class="cp t u dh ak" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/max/1176/1*NXUnrya4W5XRELcoFe6RQw.png" width="588" height="308" role="presentation"/></noscript></div></div></div></div><figcaption class="bo ds dt du dv cn cl cm dw dx bj dy">Checking APPROTECTSTATUS status register for Access Port Protection.</figcaption></figure><p id="ffae" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">This queries the <code class="dm hj hk hl hm b">APPROTECTSTATUS</code> status register for access port protection.</p><p id="eb8c" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">It should now show <code class="dm hj hk hl hm b">1</code>, which means protection has been disabled.</p><p id="f8e5" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc">We may now disconnect the nRF52 from the Raspberry Pi and use ST-Link to flash and debug our nRF52!</p></div></div></section><hr class="is dy it iu iv dv iw ix iy iz ja"/><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah dz aj ak"><h1 id="19be" class="jb jc ec bk bj io ee jd eg je jf jg jh ji jj jk jl">References</h1><p id="5215" class="gp gq ec bk gr b gs jm gu jn gw jo gy jp ha jq hc">My code was tested on the <a href="https://web.archive.org/web/20191217201803/http://www.ebyte.com/product-view-news.aspx?id=644" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">EBYTE E73-TBB Development Board</a>. The board is based on the <a href="https://web.archive.org/web/20191217201803/http://www.ebyte.com/en/product-view-news.aspx?id=243" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">EBYTE E73–2G4M04S1B</a> module, which embeds the nRF52832 microcontroller.</p><p id="68fa" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><a href="https://web.archive.org/web/20191217201803/https://drive.google.com/file/d/1PiHg8TyQQ73C9MlE0wuMjKbdqV7xFpAb/view?usp=sharing" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Manual for EBYTE E73–2G4M04S1B Module</a></p><p id="11ba" class="gp gq ec bk gr b gs gt gu gv gw gx gy gz ha hb hc"><a href="https://web.archive.org/web/20191217201803/https://drive.google.com/file/d/12z7ArTpealX9TsCqjVzrHC8ETt40Koib/view?usp=sharing" class="at cg hd he hf hg" target="_blank" rel="noopener nofollow">Manual for EBYTE E73-TBB Development Board</a> (Chinese)</p></div></div></section></div></article><div class="df ct oc s ak od oe of" data-test-id="post-sidebar"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="og n co"><div class="ct"><div class="oh oi oj n"><div class="n o"><div class="ok r dd"><a href="https://web.archive.org/web/20191217201803/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004&amp;source=post_sidebar-----9521bcba6004---------------------clap_sidebar-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><div class="ba ol om on oo op oq or os ot ou"><svg width="29" height="29"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="ov r"><div class="ow"><h4 class="bj dy ds bl bo"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi">25 </button></h4></div></div></div></div><div><div class="cf" role="tooltip" aria-hidden="true"><a href="https://web.archive.org/web/20191217201803/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004&amp;source=post_sidebar--------------------------bookmark_sidebar-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25" height="25" viewbox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div></div></div><div class="df ct oc s ox ff oy oz oe pa"></div><div><div class="pb cz n co p"><div class="n p"><div class="ac ae af ag ah dz aj ak"><div class="n pc"></div><div class="n o pc"></div><div class="pd r"><ul class="ba bb"><li class="cf pe pf pg"><a href="/web/20191217201803/https://medium.com/tag/programming" class="ph pi cg bo r mg pj a b ge">Programming</a></li><li class="cf pe pf pg"><a href="/web/20191217201803/https://medium.com/tag/gadgets" class="ph pi cg bo r mg pj a b ge">Gadgets</a></li><li class="cf pe pf pg"><a href="/web/20191217201803/https://medium.com/tag/nrf52" class="ph pi cg bo r mg pj a b ge">Nrf52</a></li><li class="cf pe pf pg"><a href="/web/20191217201803/https://medium.com/tag/rust" class="ph pi cg bo r mg pj a b ge">Rust</a></li><li class="cf pe pf pg"><a href="/web/20191217201803/https://medium.com/tag/mynewt" class="ph pi cg bo r mg pj a b ge">Mynewt</a></li></ul></div><div class="pk n ev ab"><div class="n o"><div class="pl r dd"><a href="https://web.archive.org/web/20191217201803/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004&amp;source=post_actions_footer-----9521bcba6004---------------------clap_footer-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><div class="c pm fh n o pn dd po pp pq pr ps pt pu pv pw px py pz qa qb"><div class="ba ol om on oo op qc or o dr fh n p qd u dh cp t ak os ot ou qe"><svg width="33" height="33" viewbox="0 0 33 33"><path d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z" fill-rule="evenodd"></path></svg></div></div></a></div><div class="ov r"><div class="ow"><h4 class="bj dy ds bl ec"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi">25 claps</button></h4></div></div></div><div class="n o"><div class="gn r ar"><a href="//web.archive.org/web/20191217201803/https://medium.com/p/9521bcba6004/share/twitter?source=post_actions_footer---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="gn r ar"><a href="//web.archive.org/web/20191217201803/https://medium.com/p/9521bcba6004/share/facebook?source=post_actions_footer---------------------------" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="gn r ar"><div><div class="cf" role="tooltip" aria-hidden="true"><a href="https://web.archive.org/web/20191217201803/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004&amp;source=post_actions_footer--------------------------bookmark_sidebar-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25" height="25" viewbox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div><div class="cf" aria-hidden="true"><div class="r ar"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi"><svg width="25" height="25" viewbox="-480.5 272.5 21 21" class="q"><path d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"></path></svg></button></div></div></div></div><div class="qf qg qh pd r ab"><div class="qi qj r dd"><span class="r qk an ql"><div class="r cp qm qn"><a rel="noopener" href="/web/20191217201803/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-"><div class="dd qo qp"><div class="bs n fb o p cp fc fd fe ff fg ct"><svg width="91" height="91" viewbox="0 0 91 91"><path fill-rule="evenodd" clip-rule="evenodd" d="M45.5 1.4c-17.14 0-32 9.95-39.25 24.5L5 25.28C12.47 10.28 27.8 0 45.5 0S78.53 10.29 86 25.28l-1.25.62C77.5 11.35 62.65 1.4 45.5 1.4zM6.25 65.1c7.25 14.55 22.1 24.5 39.25 24.5 17.14 0 32-9.95 39.25-24.5l1.25.62C78.53 80.72 63.2 91 45.5 91S12.47 80.71 5 65.72l1.25-.62z"></path></svg></div><img alt="Lup Yuen Lee 李立源" class="r fh qp qo" src="https://web.archive.org/web/20191217201803im_/https://miro.medium.com/fit/c/160/160/1*KGohS3sQaUnr58gc0BIfoQ.jpeg" width="80" height="80"/></div></a></div><span class="r"><div class="qq r qr"><p class="bj dy ge bl bo qs qt">Written by</p></div><div class="qq qu n qr"><div class="ak n o ev"><h2 class="bj io it qv ec"><a class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener" href="/web/20191217201803/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-">Lup Yuen Lee 李立源</a></h2><div class="r g"><button class="qw ec q by ft fu fv fw bc bh fx fy fz ga gb gc cb bj b bk bl bm bn cc cd ce cf cg bf">Follow</button></div></div></div></span></span><div class="qq qx r qr aq"><div class="qy r"><h4 class="bj dy ip qz bo">Techie and Educator in IoT 物聯網教師</h4></div><div class="ap ra aq"><button class="qw ec q by ft fu fv fw bc bh fx fy fz ga gb gc cb bj b bk bl bm bn cc cd ce cf cg bf">Follow</button></div></div></div></div><div class="rb qg r ab"><a href="https://web.archive.org/web/20191217201803/https://medium.com/p/9521bcba6004/responses/show?source=follow_footer--------------------------follow_footer-" class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><span class="rc rd oo"><div class="mf re cb r dv g"><span class="br">Write the first response</span></div></span></a></div></div></div><div class="rf r rg ab"><div class="n p"><div class="ac ae af ag ah ai aj ak"></div></div></div></div></div><div class="rh r ri rj"><section class="cl cm ak ce r hw hx hy hz ia ib ic id ie if ig ih ii ij ik"><div class="rk rl qi n ev g"><div class="rm n ev"><div class="rn r ro"><div class="rp r"><a href="https://web.archive.org/web/20191217201803/https://medium.com/about?autoplay=1&amp;source=post_page-----9521bcba6004----------------------" class="at au av aw ax ay az ba bb bc rq rr bf bg rs rt" rel="noopener"><h4 class="ru rv rw bj io bk qz rx ry r">Discover <!-- -->Medium</h4></a></div><span class="bj b bk bl bm bn r rz sa">Welcome to a place where words matter. On <!-- -->Medium<!-- -->, smart voices and original ideas take center stage - with no ads in sight.<!-- --> <a href="https://web.archive.org/web/20191217201803/https://medium.com/about?autoplay=1&amp;source=post_page-----9521bcba6004----------------------" class="at au av aw ax ay az ba bb bc bf bg rs rt sb" rel="noopener">Watch</a></span></div><div class="rn r ro"><div class="sc r"><a href="https://web.archive.org/web/20191217201803/https://medium.com/topics?source=post_page-----9521bcba6004----------------------" class="at au av aw ax ay az ba bb bc rq rr bf bg rs rt" rel="noopener"><h4 class="ru rv rw bj io bk qz rx ry r">Make <!-- -->Medium<!-- --> yours</h4></a></div><span class="bj b bk bl bm bn r rz sa">Follow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox.<!-- --> <a href="https://web.archive.org/web/20191217201803/https://medium.com/topics?source=post_page-----9521bcba6004----------------------" class="at au av aw ax ay az ba bb bc bf bg rs rt sb" rel="noopener">Explore</a></span></div><div class="rn r ro"><div class="rp r"><a href="https://web.archive.org/web/20191217201803/https://medium.com/membership?source=post_page-----9521bcba6004----------------------" class="at au av aw ax ay az ba bb bc rq rr bf bg rs rt" rel="noopener"><h4 class="ru rv rw bj io bk qz rx ry r">Become a member</h4></a></div><span class="bj b bk bl bm bn r rz sa">Get unlimited access to the best stories on <!-- -->Medium<!-- --> — and support writers while you’re at it. Just $5/month.<!-- --> <a href="https://web.archive.org/web/20191217201803/https://medium.com/membership?source=post_page-----9521bcba6004----------------------" class="at au av aw ax ay az ba bb bc bf bg rs rt sb" rel="noopener">Upgrade</a></span></div></div></div><div class="n o ev"><a class="at au av aw ax ay az ba bb bc rq rr bf bg rs rt" rel="noopener" href="/web/20191217201803/https://medium.com/?source=post_page-----9521bcba6004----------------------"><svg height="22" width="112" viewbox="0 0 111.5 22" class="rv"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></a><span class="bj b bk bl bm bn r rz sa"><div class="sd se n ev sf an"><a href="https://web.archive.org/web/20191217201803/https://medium.com/about?autoplay=1&amp;source=post_page-----9521bcba6004----------------------" class="at au av aw ax ay az ba bb bc fq bf bg rs rt" rel="noopener">About</a><a href="https://web.archive.org/web/20191217201803/https://help.medium.com/?source=post_page-----9521bcba6004----------------------" class="at au av aw ax ay az ba bb bc fq bf bg rs rt" rel="noopener">Help</a><a class="at au av aw ax ay az ba bb bc fq bf bg rs rt" rel="noopener" href="/web/20191217201803/https://medium.com/policy/9db0094a1e0f?source=post_page-----9521bcba6004----------------------">Legal</a></div></span></div></section></div></div></div><script src="https://web.archive.org/web/20191217201803js_/https://cdn.optimizely.com/js/16180790160.js"></script><script>window.__BUILD_ID__ = "development"</script><script>window.__GRAPHQL_URI__ = "https://web.archive.org/web/20191217201803/https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"config":{"nodeEnv":"production","version":"master-20191217-190137-0fceb5a8c0","productName":"Medium","publicUrl":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"collector-medium.lightstep.com","token":"ce5be895bef60919541332990ac9fef2","appVersion":"master-20191217-190137-0fceb5a8c0"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","sentry":{"dsn":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002F589e367c28ca47b195ce200d1507d18b@sentry.io\u002F1423575","environment":"production"},"isAmp":false,"googleAnalyticsCode":"UA-24232453-2","signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["544c7006046e","bcc38c8f6edf","444d13b52878","8d6b8a439e32","92d2092dc598","1285ba81cada","cb8577c9149e","8ccfed20cbb2","ae2a65f35510","3f6ecf56618","7b6769f2748b","fc8964313712","ef8e90590e66","191186aaafa0","d944778ce714","bdc4052bbdba","88d9857e584e"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*3sela1OADrJr7dJk_CXaEQ.png","height":810,"width":1440}}},"debug":{"requestId":"cae77946-884a-4970-80a5-1ec3755ac7ce","originalSpanCarrier":{"ot-tracer-spanid":"63b823320e982300","ot-tracer-traceid":"1844bc3b5a375caa","ot-tracer-sampled":"true"}},"session":{"user":{"id":"lo_JVfi1S1uYddv"},"xsrf":""},"stats":{"itemCount":0,"sending":false,"timeout":null,"backup":{}},"navigation":{"showBranchBanner":null,"hasRenderedBranchBanner":null,"hideGoogleOneTap":false,"hideAlternateUser":false,"branchData":{"loaded":false},"shareKey":"bb4e2523b922d0870259ab3fa696c7da","referrerSource":"friends_link","currentLocation":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","host":"medium.com","hostname":"medium.com","referrer":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159","susiModal":{"step":null,"operation":"register","reportEventInfo":{"eventName":"","data":{}}}},"client":{"isBot":false,"isEu":false,"isNativeMedium":false,"isCustomDomain":false},"multiVote":{"clapsPerPost":{}},"metadata":{"faviconImageId":null}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"viewer":null,"variantFlags":[{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.0","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.1","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.2","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.3","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.4","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.5","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.6","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.7","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.8","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.9","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.10","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.11","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.12","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.13","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.14","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.15","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.16","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.17","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.18","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.19","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.20","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.21","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.22","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.23","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.24","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.25","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.26","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.27","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.28","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.29","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.30","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.31","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.32","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.33","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.34","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.35","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.36","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.37","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.38","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.39","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.40","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.41","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.42","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.43","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.44","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.45","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.46","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.47","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.48","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.49","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.50","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.51","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.52","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.53","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.54","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.55","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.56","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.57","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.58","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.59","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.60","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.61","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.62","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.63","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.64","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.65","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.66","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.67","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.68","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.69","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.70","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.71","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.72","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.73","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.74","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.75","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.76","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.77","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.78","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.79","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.80","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.81","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.82","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.83","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.84","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.85","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.86","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.87","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.88","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.89","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.90","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.91","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.92","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.93","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.94","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.95","typename":"VariantFlag"}],"meterPost({\"postId\":\"9521bcba6004\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}})":{"type":"id","generated":false,"id":"MeteringInfo:singleton","typename":"MeteringInfo"},"postResult({\"id\":\"9521bcba6004\"})":{"type":"id","generated":false,"id":"Post:9521bcba6004","typename":"Post"}},"ROOT_QUERY.variantFlags.0":{"name":"add_friction_to_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.0.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.0.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.1":{"name":"allow_access","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.1.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.1.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.2":{"name":"allow_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.2.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.2.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.3":{"name":"allow_test_auth","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.3.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.3.valueType":{"__typename":"VariantFlagString","value":"disallow"},"ROOT_QUERY.variantFlags.4":{"name":"assign_default_topic_to_posts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.4.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.4.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.5":{"name":"available_annual_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.5.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.5.valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"},"ROOT_QUERY.variantFlags.6":{"name":"available_monthly_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.6.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.6.valueType":{"__typename":"VariantFlagString","value":"60e220181034"},"ROOT_QUERY.variantFlags.7":{"name":"browsable_stream_config_bucket","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.7.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.7.valueType":{"__typename":"VariantFlagString","value":"curated-topics"},"ROOT_QUERY.variantFlags.8":{"name":"disable_gosocial_followers_that_you_follow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.8.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.8.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.9":{"name":"disable_ios_resume_reading_toast","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.9.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.9.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.10":{"name":"disable_mobile_featured_chunk","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.10.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.10.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.11":{"name":"disable_post_recommended_from_friends_provider","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.11.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.11.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.12":{"name":"enable_android_local_currency","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.12.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.12.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.13":{"name":"enable_annual_renewal_reminder_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.13.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.13.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.14":{"name":"enable_app_flirty_thirty","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.14.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.14.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.15":{"name":"enable_auto_tier","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.15.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.15.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.16":{"name":"enable_automated_mission_control_triggers","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.16.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.16.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.17":{"name":"enable_branch_io","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.17.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.17.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.18":{"name":"enable_branding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.18.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.18.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.19":{"name":"enable_branding_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.19.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.19.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.20":{"name":"enable_dedicated_series_tab_api_ios","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.20.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.20.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.21":{"name":"enable_different_grid","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.21.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.21.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.22":{"name":"enable_disregard_trunc_state_for_footer","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.22.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.22.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.23":{"name":"enable_edit_alt_text","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.23.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.23.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.24":{"name":"enable_email_sign_in_captcha","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.24.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.24.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.25":{"name":"enable_embedding_based_diversification","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.25.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.25.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.26":{"name":"enable_expanded_feature_chunk_pool","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.26.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.26.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.27":{"name":"enable_filter_by_resend_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.27.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.27.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.28":{"name":"enable_first_name_on_blocker_banner","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.28.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.28.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.29":{"name":"enable_first_name_on_paywall","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.29.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.29.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.30":{"name":"enable_geolocation_stripe_standard","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.30.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.30.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.31":{"name":"enable_google_one_tap","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.31.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.31.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.32":{"name":"enable_graphql_lo_cache","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.32.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.32.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.33":{"name":"enable_ios_post_stats","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.33.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.33.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.34":{"name":"enable_janky_spam_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.34.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.34.valueType":{"__typename":"VariantFlagString","value":"users,posts"},"ROOT_QUERY.variantFlags.35":{"name":"enable_kafka_events","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.35.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.35.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.36":{"name":"enable_kbfd_rex","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.36.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.36.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.37":{"name":"enable_kbfd_rex_app_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.37.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.37.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.38":{"name":"enable_kbfd_rex_daily_digest","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.38.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.38.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.39":{"name":"enable_lite_notifications","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.39.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.39.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.40":{"name":"enable_lite_post","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.40.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.40.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.41":{"name":"enable_lite_post_cd","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.41.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.41.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.42":{"name":"enable_lite_post_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.42.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.42.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.43":{"name":"enable_lite_post_highlights_view_only","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.43.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.43.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.44":{"name":"enable_lite_profile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.44.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.44.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.45":{"name":"enable_lite_pub_header_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.45.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.45.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.46":{"name":"enable_lite_read_next","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.46.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.46.valueType":{"__typename":"VariantFlagString","value":"sidebar"},"ROOT_QUERY.variantFlags.47":{"name":"enable_lite_reading_list","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.47.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.47.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.48":{"name":"enable_lite_server_upstream_deadlines","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.48.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.48.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.49":{"name":"enable_lite_stories","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.49.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.49.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.50":{"name":"enable_lite_topics","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.50.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.50.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.51":{"name":"enable_lite_unread_notification_count_mutation","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.51.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.51.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.52":{"name":"enable_lo_homepage","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.52.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.52.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.53":{"name":"enable_lo_scroll_away_metabar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.53.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.53.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.54":{"name":"enable_logged_out_homepage_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.54.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.54.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.55":{"name":"enable_marketing_emails","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.55.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.55.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.56":{"name":"enable_media_resource_try_catch","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.56.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.56.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.57":{"name":"enable_membership_remove_section_a","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.57.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.57.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.58":{"name":"enable_membership_thank_you_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.58.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.58.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.59":{"name":"enable_more_branch_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.59.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.59.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.60":{"name":"enable_new_collaborative_filtering_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.60.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.60.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.61":{"name":"enable_new_partner_dashboard","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.61.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.61.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.62":{"name":"enable_new_pub_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.62.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.62.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.63":{"name":"enable_new_pub_modules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.63.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.63.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.64":{"name":"enable_new_suspended_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.64.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.64.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.65":{"name":"enable_new_three_dot_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.65.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.65.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.66":{"name":"enable_optimizely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.66.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.66.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.67":{"name":"enable_parsely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.67.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.67.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.68":{"name":"enable_patronus_on_kubernetes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.68.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.68.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.69":{"name":"enable_popularity_feature_exp_retrain","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.69.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.69.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.70":{"name":"enable_post_import","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.70.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.70.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.71":{"name":"enable_post_settings_screen","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.71.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.71.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.72":{"name":"enable_primary_topic_for_mobile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.72.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.72.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.73":{"name":"enable_rito_caching","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.73.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.73.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.74":{"name":"enable_rito_upstream_deadlines","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.74.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.74.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.75":{"name":"enable_rtr_channel","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.75.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.75.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.76":{"name":"enable_save_to_medium","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.76.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.76.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.77":{"name":"enable_sign_up_with_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.77.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.77.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.78":{"name":"enable_suggest_account","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.78.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.78.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.79":{"name":"enable_susi_font_changes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.79.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.79.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.80":{"name":"enable_tick_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.80.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.80.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.81":{"name":"enable_tipalti_onboarding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.81.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.81.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.82":{"name":"enable_topic_lifecycle_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.82.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.82.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.83":{"name":"enable_tribute_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.83.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.83.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.84":{"name":"enable_trumpland_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.84.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.84.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.85":{"name":"glyph_font_set","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.85.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.85.valueType":{"__typename":"VariantFlagString","value":"m2"},"ROOT_QUERY.variantFlags.86":{"name":"google_sign_in_android","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.86.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.86.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.87":{"name":"is_not_medium_subscriber","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.87.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.87.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.88":{"name":"new_transition_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.88.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.88.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.89":{"name":"pub_sidebar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.89.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.89.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.90":{"name":"rank_model","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.90.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.90.valueType":{"__typename":"VariantFlagString","value":"default"},"ROOT_QUERY.variantFlags.91":{"name":"redis_read_write_splitting","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.91.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.91.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.92":{"name":"signin_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.92.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.92.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap"},"ROOT_QUERY.variantFlags.93":{"name":"signup_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.93.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.93.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap"},"ROOT_QUERY.variantFlags.94":{"name":"use_new_admin_topic_backend","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.94.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.94.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.95":{"name":"use_sendgrid_queue_for_digest_sends","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.95.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.95.valueType":{"__typename":"VariantFlagBoolean","value":true},"MeteringInfo:singleton":{"__typename":"MeteringInfo","postIds":{"type":"json","json":[]},"maxUnlockCount":3,"unlocksRemaining":3},"Post:9521bcba6004":{"__typename":"Post","visibility":"PUBLIC","latestPublishedVersion":"e6988001357","collection":null,"id":"9521bcba6004","creator":{"type":"id","generated":false,"id":"User:1da08193a324","typename":"User"},"isLocked":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","sequence":null,"mediumUrl":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","canonicalUrl":"","content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}})":{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}})","typename":"PostContent"},"firstPublishedAt":1570108870852,"isPublished":true,"layerCake":0,"primaryTopic":null,"title":"Coding nRF52 with Rust and Apache Mynewt on Visual Studio Code","isLimitedState":false,"pendingCollection":null,"shareKey":null,"statusForCollection":null,"readingTime":25.18679245283019,"readingList":"READING_LIST_NONE","license":"ALL_RIGHTS_RESERVED","allowResponses":true,"tags":[{"type":"id","generated":false,"id":"Tag:programming","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:gadgets","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:nrf52","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:rust","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:mynewt","typename":"Tag"}],"viewerClapCount":0,"clapCount":25,"voterCount":13,"recommenders":[],"responsesCount":0,"collaborators":[],"translationSourcePost":null,"newsletterId":"","inResponseToPostResult":null,"inResponseToMediaResource":null,"curationEligibleAt":1570108867398,"audioVersionUrl":"","seoTitle":"","socialTitle":"","socialDek":"","metaDescription":"Build an iBeacon with Apache NimBLE… Connect nRF52 to ST-Link \u002F Raspberry Pi… And more!","latestPublishedAt":1574743401543,"wordCount":6012,"previewContent":{"type":"id","generated":true,"id":"$Post:9521bcba6004.previewContent","typename":"PreviewContent"},"previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*AfTha5-zgaqPAilsamj-Mw.jpeg","typename":"ImageMetadata"},"updatedAt":1574743401956,"topics":[],"seoDescription":"","isSuspended":false},"User:1da08193a324":{"id":"1da08193a324","__typename":"User","isSuspended":false,"allowNotes":true,"name":"Lup Yuen Lee 李立源","isFollowing":false,"username":"ly.lee","bio":"Techie and Educator in IoT 物聯網教師","imageId":"1*KGohS3sQaUnr58gc0BIfoQ.jpeg","mediumMemberAt":1571194811000,"isBlocking":false,"isPartnerProgramEnrolled":false,"twitterScreenName":"MisterTechBlog"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}})":{"isLockedPreviewOnly":false,"validatedShareKey":"bb4e2523b922d0870259ab3fa696c7da","__typename":"PostContent","bodyModel":{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel","typename":"RichText"}},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.0":{"name":"f3c8","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.1":{"name":"c318","startIndex":17,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.2":{"name":"0285","startIndex":29,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.3":{"name":"ee66","startIndex":35,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.4":{"name":"a3bc","startIndex":43,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.5":{"name":"d973","startIndex":49,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.6":{"name":"03fc","startIndex":63,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.7":{"name":"b302","startIndex":122,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.8":{"name":"0736","startIndex":138,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.9":{"name":"b74f","startIndex":151,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.10":{"name":"e6fc","startIndex":160,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.11":{"name":"a51f","startIndex":190,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.12":{"name":"0505","startIndex":206,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.13":{"name":"5e0d","startIndex":225,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.14":{"name":"0d73","startIndex":246,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.15":{"name":"dc01","startIndex":253,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.16":{"name":"5c24","startIndex":269,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.17":{"name":"5d8f","startIndex":274,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.18":{"name":"0bc0","startIndex":285,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.19":{"name":"d87a","startIndex":331,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel":{"sections":[{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.0","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.1","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.2","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.3","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.4","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.5","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.6","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.7","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.8","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.9","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.10","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.11","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.12","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.13","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.14","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.15","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.16","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.17","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.18","typename":"Section"},{"type":"id","generated":true,"id":"$Post:9521bcba6004.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159\",\"sk\":\"bb4e2523b922d0870259ab3fa696c7da\",\"source\":\"friends_link\"}}).bodyModel.sections.19","typename":"Section"}],"paragraphs":[{"type":"id","generated":false,"id":"Paragraph:e6988001357_0","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_1","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_2","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_3","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_4","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_5","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_6","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_7","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_8","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_9","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_10","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_11","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_12","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_13","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_14","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_15","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_16","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_17","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_18","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_19","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_20","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_21","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_22","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_23","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_24","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_25","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_26","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_27","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_28","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_29","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_30","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_31","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_32","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_33","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_34","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_35","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_36","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_37","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_38","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_39","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_40","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_41","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_42","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_43","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_44","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_45","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_46","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_47","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_48","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_49","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_50","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_51","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_52","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_53","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_54","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_55","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_56","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_57","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_58","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_59","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_60","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_61","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_62","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_63","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_64","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_65","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_66","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_67","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_68","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_69","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_70","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_71","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_72","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_73","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_74","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_75","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_76","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_77","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_78","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_79","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_80","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_81","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_82","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_83","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_84","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_85","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_86","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_87","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_88","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_89","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_90","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_91","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_92","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_93","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_94","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_95","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_96","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_97","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_98","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_99","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_100","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_101","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_102","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_103","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_104","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_105","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_106","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_107","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_108","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_109","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_110","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_111","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_112","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_113","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_114","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_115","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_116","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_117","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_118","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_119","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_120","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_121","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_122","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_123","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_124","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_125","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_126","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_127","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_128","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_129","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_130","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_131","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_132","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_133","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_134","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_135","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_136","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_137","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_138","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_139","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_140","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_141","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_142","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_143","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_144","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_145","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_146","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_147","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_148","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_149","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_150","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_151","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_152","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_153","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_154","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_155","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_156","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_157","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_158","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_159","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_160","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_161","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_162","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_163","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_164","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_165","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_166","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_167","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_168","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_169","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_170","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_171","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_172","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_173","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_174","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_175","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_176","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_177","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_178","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_179","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_180","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_181","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_182","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_183","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_184","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_185","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_186","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_187","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_188","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_189","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_190","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_191","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_192","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_193","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_194","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_195","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_196","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_197","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_198","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_199","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_200","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_201","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_202","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_203","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_204","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_205","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_206","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_207","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_208","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_209","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_210","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_211","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_212","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_213","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_214","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_215","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_216","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_217","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_218","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_219","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_220","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_221","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_222","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_223","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_224","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_225","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_226","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_227","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_228","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_229","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_230","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_231","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_232","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_233","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_234","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_235","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_236","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_237","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_238","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_239","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_240","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_241","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_242","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_243","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_244","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_245","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_246","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_247","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_248","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_249","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_250","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_251","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_252","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_253","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_254","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_255","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_256","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_257","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_258","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_259","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_260","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_261","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_262","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_263","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_264","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_265","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_266","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_267","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_268","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_269","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_270","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_271","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_272","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_273","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_274","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_275","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_276","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_277","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_278","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_279","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_280","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_281","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_282","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_283","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_284","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_285","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_286","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_287","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_288","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_289","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_290","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_291","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_292","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_293","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_294","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_295","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_296","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_297","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_298","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_299","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_300","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_301","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_302","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_303","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_304","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_305","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_306","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_307","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_308","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_309","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_310","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_311","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_312","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_313","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_314","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_315","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_316","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_317","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_318","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_319","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_320","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_321","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_322","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_323","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_324","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_325","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_326","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_327","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_328","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_329","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_330","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_331","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_332","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_333","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:e6988001357_334","typename":"Paragraph"}],"__typename":"RichText"},"Paragraph:e6988001357_0":{"id":"e6988001357_0","name":"9f9f","type":"IMG","href":null,"layout":"FULL_WIDTH","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*AfTha5-zgaqPAilsamj-Mw.jpeg","typename":"ImageMetadata"},"text":"EBYTE E73-TBB Development Board with onboard Nordic nRF52832 Microcontroller, connected to ST-Link USB Programmer. Shot with Sony NEX-7.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*AfTha5-zgaqPAilsamj-Mw.jpeg":{"id":"1*AfTha5-zgaqPAilsamj-Mw.jpeg","originalHeight":1775,"originalWidth":3394,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_1":{"id":"e6988001357_1","name":"a6d1","type":"H3","href":null,"layout":null,"metadata":null,"text":"Coding nRF52 with Rust and Apache Mynewt on Visual Studio Code","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_2":{"id":"e6988001357_2","name":"f66d","type":"P","href":null,"layout":null,"metadata":null,"text":"The nRF52 Microcontroller by Nordic Semiconductor is an awesome gadget with powerful Bluetooth Low Energy networking capability. It’s affordable too… For under $8, I can buy an EBYTE E73-TBB Development Board with onboard nRF52 (photo above). And it works like a supercharged BBC micro:bit (based on the older nRF51) in a smaller, cheaper form factor!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_2.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_2.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_2.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_2.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_2.markups.0":{"type":"A","start":4,"end":25,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Finfocenter.nordicsemi.com\u002Fpdf\u002FnRF52832_PS_v1.0.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_2.markups.1":{"type":"A","start":177,"end":208,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttp:\u002F\u002Fwww.ebyte.com\u002Fproduct-view-news.aspx?id=644","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_2.markups.2":{"type":"A","start":276,"end":289,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMicro_Bit","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_2.markups.3":{"type":"STRONG","start":4,"end":25,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_3":{"id":"e6988001357_3","name":"ca61","type":"P","href":null,"layout":null,"metadata":null,"text":"Powered by an Arm Cortex-M4 CPU (hardware floating-point) with 64 KB of RAM and 512 KB of Flash ROM, the nRF52 has plenty of capacity to run modern embedded platforms… Like Apache Mynewt realtime OS and Embedded Rust!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_3.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_3.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_3.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_3.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_3.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_3.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_3.markups.0":{"type":"A","start":173,"end":186,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_3.markups.1":{"type":"STRONG","start":14,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_3.markups.2":{"type":"STRONG","start":63,"end":75,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_3.markups.3":{"type":"STRONG","start":80,"end":99,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_3.markups.4":{"type":"STRONG","start":173,"end":186,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_3.markups.5":{"type":"STRONG","start":203,"end":216,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_4":{"id":"e6988001357_4","name":"8503","type":"P","href":null,"layout":null,"metadata":null,"text":"But what tools would we use to code the nRF52? Will we get locked in with proprietary IDEs and programming dongles?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_4.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_4.markups.0":{"type":"EM","start":0,"end":115,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_5":{"id":"e6988001357_5","name":"de66","type":"P","href":null,"layout":null,"metadata":null,"text":"Great News: The nRF52 works with popular open-source tools on Windows and macOS like Visual Studio Code, OpenOCD, Rust and ST-Link… I’ll show you how, right now! (ST-Link is not really open-source but it’s only $2!)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_5.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_5.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_5.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_5.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_5.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_5.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_5.markups.0":{"type":"A","start":85,"end":103,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fcode.visualstudio.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_5.markups.1":{"type":"A","start":105,"end":112,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttp:\u002F\u002Fopenocd.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_5.markups.2":{"type":"A","start":114,"end":118,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fwww.rust-lang.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_5.markups.3":{"type":"A","start":123,"end":130,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fwww.aliexpress.com\u002Fwholesale?catId=0&initiative_id=SB_20180924134644&SearchText=st-link+v2&switch_new_app=y","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_5.markups.4":{"type":"A","start":201,"end":213,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fwww.aliexpress.com\u002Fwholesale?catId=0&initiative_id=SB_20180924134644&SearchText=st-link+v2&switch_new_app=y","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_5.markups.5":{"type":"STRONG","start":85,"end":130,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_6":{"id":"e6988001357_6","name":"d918","type":"P","href":null,"layout":null,"metadata":null,"text":"Even if you’re new to nRF52, Bluetooth, Mynewt, Visual Studio Code, … You’re welcome to skim! We’ll cover a broad range of topics. including…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_7":{"id":"e6988001357_7","name":"edeb","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Bluetooth Low Energy and the iBeacon protocol","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_7.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_7.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_7.markups.0":{"type":"STRONG","start":4,"end":24,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_7.markups.1":{"type":"STRONG","start":33,"end":40,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_8":{"id":"e6988001357_8","name":"c689","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ Build your own iBeacon with nRF52 and Apache NimBLE","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_8.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_8.markups.0":{"type":"STRONG","start":42,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_9":{"id":"e6988001357_9","name":"4b2b","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ Embedded Rust programming on nRF52","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_9.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_9.markups.0":{"type":"STRONG","start":4,"end":17,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_10":{"id":"e6988001357_10","name":"0096","type":"P","href":null,"layout":null,"metadata":null,"text":"4️⃣ Programming IoT Sensors with Mynewt and Rust","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_10.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_10.markups.0":{"type":"STRONG","start":16,"end":27,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_11":{"id":"e6988001357_11","name":"79d7","type":"P","href":null,"layout":null,"metadata":null,"text":"5️⃣ Why Rust not C?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_12":{"id":"e6988001357_12","name":"7d68","type":"P","href":null,"layout":null,"metadata":null,"text":"6️⃣ Code, flash and debug the nRF52 with Visual Studio Code and OpenOCD","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_12.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_12.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_12.markups.0":{"type":"STRONG","start":41,"end":59,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_12.markups.1":{"type":"STRONG","start":64,"end":71,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_13":{"id":"e6988001357_13","name":"0080","type":"P","href":null,"layout":null,"metadata":null,"text":"7️⃣ Remove Flash Protection from your nRF52 with a Raspberry Pi","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_13.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_13.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_13.markups.0":{"type":"STRONG","start":4,"end":27,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_13.markups.1":{"type":"STRONG","start":51,"end":63,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_14":{"id":"e6988001357_14","name":"97cf","type":"P","href":null,"layout":null,"metadata":null,"text":"8️⃣ Plus upcoming topics: Bluetooth Mesh and PineTime Smart Watch!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_14.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_14.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_14.markups.0":{"type":"STRONG","start":26,"end":40,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_14.markups.1":{"type":"STRONG","start":45,"end":65,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_15":{"id":"e6988001357_15","name":"b990","type":"P","href":null,"layout":null,"metadata":null,"text":"There’s something for everyone in this article! The source code for this article may be found in the nrf52 branch of this repository…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_15.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_15.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_15.markups.0":{"type":"CODE","start":101,"end":106,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_15.markups.1":{"type":"EM","start":0,"end":46,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_16":{"id":"e6988001357_16","name":"ef4c","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"lupyuen\u002Fstm32bluepill-mynewt-sensor\nThis l476 branch contains the source code for an NB-IoT GPS Tracker that has been tested on the Ghostyu NB-EK-L476…github.com","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_16.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_16.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_16.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_16.mixtapeMetadata","typename":"MixtapeMetadata"}},"Paragraph:e6988001357_16.markups.0":{"type":"A","start":0,"end":161,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_16.markups.1":{"type":"STRONG","start":0,"end":35,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_16.markups.2":{"type":"EM","start":36,"end":151,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Paragraph:e6988001357_16.mixtapeMetadata":{"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52","thumbnailImageId":"","mediaResourceId":"","__typename":"MixtapeMetadata"},"Paragraph:e6988001357_17":{"id":"e6988001357_17","name":"3325","type":"H3","href":null,"layout":null,"metadata":null,"text":"What’s an iBeacon?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_18":{"id":"e6988001357_18","name":"d546","type":"P","href":null,"layout":null,"metadata":null,"text":"There was a time… (When people still shopped at physical retail stores…) You could walk into your favourite store and your phone would “Ding!” with a notification specially customised for you… “Save up to 40% on Baby and Kids Products!”","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_18.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_18.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_18.markups.0":{"type":"EM","start":135,"end":142,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_18.markups.1":{"type":"EM","start":193,"end":236,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_19":{"id":"e6988001357_19","name":"f4b6","type":"P","href":null,"layout":null,"metadata":null,"text":"What is this magic that senses your mere presence… And summons a unique offer… Just for you?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_19.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_19.markups.0":{"type":"EM","start":0,"end":92,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_20":{"id":"e6988001357_20","name":"2866","type":"P","href":null,"layout":null,"metadata":null,"text":"That magic is called iBeacon. It’s a wireless protocol released by Apple in 2013 for detecting Bluetooth Low Energy devices nearby (within a few metres). iBeacon Transmitters are dumb devices planted in the store that broadcast an iBeacon ID that’s specific to the store.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_20.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_20.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_20.markups.0":{"type":"A","start":21,"end":28,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FIBeacon","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_20.markups.1":{"type":"STRONG","start":21,"end":28,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_21":{"id":"e6988001357_21","name":"1e9d","type":"P","href":null,"layout":null,"metadata":null,"text":"Your phone needs to have an app installed that indicates which iBeacon ID it’s seeking. When your phone detects a nearby iBeacon Transmitter with a matching iBeacon ID, it wakes up the app so that the app can send you a custom notification.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_22":{"id":"e6988001357_22","name":"d8be","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*mlaX9Gfo6Qj93clxMsiT1w.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*mlaX9Gfo6Qj93clxMsiT1w.png":{"id":"1*mlaX9Gfo6Qj93clxMsiT1w.png","originalHeight":5925,"originalWidth":4476,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_23":{"id":"e6988001357_23","name":"4d90","type":"P","href":null,"layout":null,"metadata":null,"text":"In reality it’s hard to detect Bluetooth 4 iBeacons reliably because of conflicts with WiFi, which also operates in the crowded 2.4 GHz airwaves (see https:\u002F\u002Fwww.hindawi.com\u002Fjournals\u002Fmisy\u002F2016\u002F8367638\u002F).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_23.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_23.markups.0":{"type":"A","start":150,"end":201,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fwww.hindawi.com\u002Fjournals\u002Fmisy\u002F2016\u002F8367638\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_24":{"id":"e6988001357_24","name":"0380","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*UFx4IAUoj4Z5S58uTcehzg.png","typename":"ImageMetadata"},"text":"Our nRF52 detected as an iBeacon (“My iBeacon”) in the “Locate Beacon” app: https:\u002F\u002Fapps.apple.com\u002Fus\u002Fapp\u002Flocate-beacon\u002Fid738709014","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_24.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*UFx4IAUoj4Z5S58uTcehzg.png":{"id":"1*UFx4IAUoj4Z5S58uTcehzg.png","originalHeight":606,"originalWidth":1242,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_24.markups.0":{"type":"A","start":76,"end":131,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fapps.apple.com\u002Fus\u002Fapp\u002Flocate-beacon\u002Fid738709014","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_25":{"id":"e6988001357_25","name":"f401","type":"P","href":null,"layout":null,"metadata":null,"text":"In this tutorial we’ll program our nRF52 to be an iBeacon Transmitter, because…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_26":{"id":"e6988001357_26","name":"b4bc","type":"OLI","href":null,"layout":null,"metadata":null,"text":"iBeacon is the simplest Bluetooth LE protocol to implement (and troubleshoot)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_27":{"id":"e6988001357_27","name":"b6d5","type":"OLI","href":null,"layout":null,"metadata":null,"text":"It’s easy to use our phones to verify that our nRF52 is indeed working correctly as a Bluetooth LE transmitter","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_28":{"id":"e6988001357_28","name":"2833","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Nostalgia… iBeacon actually served a purpose in the real world! (But if you decide to implement iBeacons today, beware of the iBeacon security implications, especially iBeacon spoofing)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_28.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_28.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_28.markups.0":{"type":"A","start":168,"end":184,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FIBeacon#Spoofing","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_28.markups.1":{"type":"EM","start":10,"end":63,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_29":{"id":"e6988001357_29","name":"d379","type":"H3","href":null,"layout":null,"metadata":null,"text":"nRF52 is Radio-Capable","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_30":{"id":"e6988001357_30","name":"11de","type":"P","href":null,"layout":null,"metadata":null,"text":"nRF52 is similar to other microcontrollers (like the STM32 F103 found in Blue Pill)… Except that the nRF52 has 2.4 GHz Radio capabilities not found in most other microcontrollers.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_31":{"id":"e6988001357_31","name":"2044","type":"P","href":null,"layout":null,"metadata":null,"text":"2.4 GHz is used for WiFi… Does this mean that the nRF52 can talk WiFi?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_31.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_31.markups.0":{"type":"EM","start":0,"end":70,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_32":{"id":"e6988001357_32","name":"e9be","type":"P","href":null,"layout":null,"metadata":null,"text":"Not quite… WiFi protocols are highly complex, beyond what the nRF52 can handle. Specialised microcontrollers like ESP8266 are better at handling WiFi.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_33":{"id":"e6988001357_33","name":"4f46","type":"P","href":null,"layout":null,"metadata":null,"text":"But nRF52 is perfect for Bluetooth Low Energy (LE) protocols, including iBeacon. Note that Bluetooth LE is not compatible with the older standard Bluetooth. So we can’t operate our nRF52 like a classic Bluetooth tethered network device.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_34":{"id":"e6988001357_34","name":"b18d","type":"P","href":null,"layout":null,"metadata":null,"text":"nRF52 doesn’t come with hardcoded firmware that enables the Bluetooth LE functions… We need to load our own Bluetooth LE firmware. Let’s discuss two options: Nordic SoftDevice and Apache NimBLE.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_35":{"id":"e6988001357_35","name":"dc0d","type":"H3","href":null,"layout":null,"metadata":null,"text":"Nordic SoftDevice","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_36":{"id":"e6988001357_36","name":"77d7","type":"P","href":null,"layout":null,"metadata":null,"text":"Most nRF52 developers would probably use Nordic SoftDevice. This is the standard firmware provided by Nordic Semiconductor that implements the Bluetooth LE functions.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_36.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_36.markups.0":{"type":"A","start":41,"end":58,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Finfocenter.nordicsemi.com\u002Fpdf\u002FS112_SDS_v3.1.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_37":{"id":"e6988001357_37","name":"55c7","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:0*1D_zcjT8gSN7JdEe.png","typename":"ImageMetadata"},"text":"Nordic SoftDevice Architecture. From https:\u002F\u002Finfocenter.nordicsemi.com\u002Ftopic\u002Fstruct_nrf52\u002Fstruct\u002Fnrf52_softdevices.html","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_37.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*1D_zcjT8gSN7JdEe.png":{"id":"0*1D_zcjT8gSN7JdEe.png","originalHeight":592,"originalWidth":634,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_37.markups.0":{"type":"A","start":37,"end":119,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Finfocenter.nordicsemi.com\u002Ftopic\u002Fstruct_nrf52\u002Fstruct\u002Fnrf52_softdevices.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_38":{"id":"e6988001357_38","name":"3ffc","type":"P","href":null,"layout":null,"metadata":null,"text":"The firmware runs as a base system layer underneath our application code and RTOS.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_39":{"id":"e6988001357_39","name":"bd36","type":"P","href":null,"layout":null,"metadata":null,"text":"SoftDevice reserves some hardware resources for itself, like the radio transceiver, some timers and some ROM+RAM.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_40":{"id":"e6988001357_40","name":"9935","type":"P","href":null,"layout":null,"metadata":null,"text":"The remaining resources would be available for our application, which would call the SoftDevice API to perform Bluetooth LE functions and receive notifications.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_40.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_40.markups.0":{"type":"A","start":85,"end":99,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Finfocenter.nordicsemi.com\u002Fpdf\u002FS112_SDS_v3.1.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_41":{"id":"e6988001357_41","name":"b48a","type":"P","href":null,"layout":null,"metadata":null,"text":"What if we wish to experiment with the Bluetooth LE implementation… Trace it to see how it works, tweak it to improve it, or even roll out a new Bluetooth LE protocol?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_41.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_41.markups.0":{"type":"EM","start":0,"end":167,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_42":{"id":"e6988001357_42","name":"a39d","type":"P","href":null,"layout":null,"metadata":null,"text":"SoftDevice is clearly not meant for experimentation… Apache NimBLE is perfect for that!","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_43":{"id":"e6988001357_43","name":"9ea4","type":"H3","href":null,"layout":null,"metadata":null,"text":"Apache NimBLE","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_44":{"id":"e6988001357_44","name":"4c92","type":"P","href":null,"layout":null,"metadata":null,"text":"Apache NimBLE is an open-source Bluetooth LE stack that completely replaces SoftDevice on nRF51 and nRF52 chipsets. It’s designed to run with the Apache Mynewt embedded OS, so NimBLE feels like a typical Mynewt task.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_44.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_44.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_44.markups.0":{"type":"A","start":0,"end":13,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fnetwork\u002Fdocs\u002Findex.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_44.markups.1":{"type":"STRONG","start":56,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_45":{"id":"e6988001357_45","name":"3ed9","type":"P","href":null,"layout":null,"metadata":null,"text":"Apache NimBLE is the Bluetooth LE implementation that we’re adopting for this tutorial.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_45.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_45.markups.0":{"type":"EM","start":0,"end":87,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_46":{"id":"e6988001357_46","name":"2f2f","type":"P","href":null,"layout":null,"metadata":null,"text":"In this tutorial we’ll often refer to NimBLE as Mynewt… Because NimBLE is so seamlessly integrated with Mynewt. Just note that Mynewt and NimBLE actually belong to two different code repositories…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_47":{"id":"e6988001357_47","name":"f73c","type":"P","href":null,"layout":null,"metadata":null,"text":"Mynewt: https:\u002F\u002Fgithub.com\u002Fapache\u002Fmynewt-core","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_47.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_47.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_47.markups.0":{"type":"CODE","start":8,"end":45,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_47.markups.1":{"type":"A","start":8,"end":45,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Fapache\u002Fmynewt-core","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_48":{"id":"e6988001357_48","name":"8322","type":"P","href":null,"layout":null,"metadata":null,"text":"NimBLE: https:\u002F\u002Fgithub.com\u002Fapache\u002Fmynewt-nimble","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_48.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_48.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_48.markups.0":{"type":"CODE","start":8,"end":47,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_48.markups.1":{"type":"A","start":8,"end":47,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Fapache\u002Fmynewt-nimble","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_49":{"id":"e6988001357_49","name":"ffd4","type":"H3","href":null,"layout":null,"metadata":null,"text":"Why Visual Studio Code with ST-Link (instead of nRFgo Studio with J-LINK)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_50":{"id":"e6988001357_50","name":"879b","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*PE26d-lvzxOrdYtrKLsWDA.jpeg","typename":"ImageMetadata"},"text":"nRF52 Development Board connected to ST-Link USB Programmer","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*PE26d-lvzxOrdYtrKLsWDA.jpeg":{"id":"1*PE26d-lvzxOrdYtrKLsWDA.jpeg","originalHeight":2416,"originalWidth":3516,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_51":{"id":"e6988001357_51","name":"d46f","type":"P","href":null,"layout":null,"metadata":null,"text":"If you’re already familiar with nRF52 development tools like nRFgo Studio and J-LINK… This tutorial will open your eyes!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_51.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_51.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_51.markups.0":{"type":"A","start":61,"end":73,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fwww.nordicsemi.com\u002FSoftware-and-Tools\u002FDevelopment-Tools\u002FnRFgo-Studio","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_51.markups.1":{"type":"A","start":78,"end":84,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FSegger_Microcontroller_Systems#J-Link","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_52":{"id":"e6988001357_52","name":"75b2","type":"P","href":null,"layout":null,"metadata":null,"text":"My previous tutorials have been based on open-source tools and affordable, accessible hardware. For this tutorial we’ll be reusing Visual Studio Code and ST-Link (with OpenOCD).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_52.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_52.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_52.markups.0":{"type":"A","start":131,"end":149,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fcode.visualstudio.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_52.markups.1":{"type":"A","start":168,"end":175,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttp:\u002F\u002Fopenocd.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_53":{"id":"e6988001357_53","name":"1ad7","type":"P","href":null,"layout":null,"metadata":null,"text":"Yes, the open-source tools we use for coding STM32 may also be used for nRF52!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_53.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_53.markups.0":{"type":"EM","start":0,"end":78,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_54":{"id":"e6988001357_54","name":"be2e","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*g3NsF8Au4imhYycGYwxmpg.png","typename":"ImageMetadata"},"text":"Debugging Embedded Rust on nRF52 with Visual Studio Code and ST-Link","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*g3NsF8Au4imhYycGYwxmpg.png":{"id":"1*g3NsF8Au4imhYycGYwxmpg.png","originalHeight":1087,"originalWidth":1787,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_55":{"id":"e6988001357_55","name":"9090","type":"P","href":null,"layout":null,"metadata":null,"text":"The generic ST-Link V2 USB Adapter costs under $2 (search AliExpress for st-link v2) and works perfectly fine for flashing and debugging the nRF52… Except for removing nRF52 flash protection.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_55.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_55.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_55.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_55.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_55.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_55.markups.0":{"type":"CODE","start":73,"end":83,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_55.markups.1":{"type":"A","start":12,"end":34,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fwww.aliexpress.com\u002Fwholesale?catId=0&initiative_id=SB_20180924134644&SearchText=st-link+v2","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_55.markups.2":{"type":"A","start":58,"end":68,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fwww.aliexpress.com\u002Fwholesale?catId=0&initiative_id=SB_20180924134644&SearchText=st-link+v2&switch_new_app=y","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_55.markups.3":{"type":"STRONG","start":34,"end":35,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_55.markups.4":{"type":"STRONG","start":148,"end":191,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_56":{"id":"e6988001357_56","name":"fb3e","type":"P","href":null,"layout":null,"metadata":null,"text":"How is ST-Link different from J-LINK, since both are used for flashing and debugging Arm microcontrollers?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_56.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_56.markups.0":{"type":"EM","start":0,"end":106,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_57":{"id":"e6988001357_57","name":"2442","type":"P","href":null,"layout":null,"metadata":null,"text":"ST-Link and J-LINK are both Arm SWD (Serial Wire Debug) Programmers. ST-Link is known as a High-Level Adapter… ST-Link doesn’t implement all SWD functions, just the minimal set of high-level functions needed for flashing and debugging. Thus ST-Link can’t be used for removing the nRF52 flash protection.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_57.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_57.markups.0":{"type":"EM","start":165,"end":236,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_58":{"id":"e6988001357_58","name":"8084","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*V2rHXofpBvzwUSd4AK-OpQ.jpeg","typename":"ImageMetadata"},"text":"Removing nRF52 flash ROM protection with Raspberry Pi","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*V2rHXofpBvzwUSd4AK-OpQ.jpeg":{"id":"1*V2rHXofpBvzwUSd4AK-OpQ.jpeg","originalHeight":3463,"originalWidth":4848,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_59":{"id":"e6988001357_59","name":"0328","type":"P","href":null,"layout":null,"metadata":null,"text":"If your nRF52 flash ROM is protected (and ST-Link refuses to flash your device), you may use a Raspberry Pi to remove the protection.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_60":{"id":"e6988001357_60","name":"15e5","type":"P","href":null,"layout":null,"metadata":null,"text":"This only needs to be done once (and ST-Link will work fine after that).","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_61":{"id":"e6988001357_61","name":"dc60","type":"P","href":null,"layout":null,"metadata":null,"text":"Check the instructions in the section “Advanced Topic: Remove nRF52 Flash Protection” at the end of this article.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_61.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_61.markups.0":{"type":"EM","start":38,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_62":{"id":"e6988001357_62","name":"1129","type":"P","href":null,"layout":null,"metadata":null,"text":"Welcome nRF52 (and nRF51)! Come join STM32 in the Open Source Party… Rust included!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_62.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_62.markups.0":{"type":"EM","start":0,"end":83,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_63":{"id":"e6988001357_63","name":"29cf","type":"IMG","href":null,"layout":"FULL_WIDTH","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*Wjd29N2CbQWw-_Jx2qNeTQ.png","typename":"ImageMetadata"},"text":"Mynewt Project Structure based on https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_63.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*Wjd29N2CbQWw-_Jx2qNeTQ.png":{"id":"1*Wjd29N2CbQWw-_Jx2qNeTQ.png","originalHeight":1024,"originalWidth":1704,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_63.markups.0":{"type":"A","start":34,"end":99,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_64":{"id":"e6988001357_64","name":"a2c8","type":"H3","href":null,"layout":null,"metadata":null,"text":"Mynewt Project Structure","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_65":{"id":"e6988001357_65","name":"e168","type":"P","href":null,"layout":null,"metadata":null,"text":"Mynewt is a lightweight embedded operating system that pulls in only the modules that it needs to create the firmware image. Here are the files in our Mynewt project… (Check this article if you wish to download the source code and browse with Visual Studio Code)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_65.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_65.markups.0":{"type":"A","start":168,"end":186,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Finstall-apache-mynewt-and-embedded-rust-for-nrf52-and-visual-studio-code-on-windows-and-macos-94741412b502?source=friends_link&sk=3d368af3fe4c758b0ef725809d8504d2","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_66":{"id":"e6988001357_66","name":"e060","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ apps: C Source Code for Bootloader and Application","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_66.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_66.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_66.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_66.markups.0":{"type":"CODE","start":4,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_66.markups.1":{"type":"A","start":4,"end":8,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Fapps","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_66.markups.2":{"type":"STRONG","start":10,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_67":{"id":"e6988001357_67","name":"ec04","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*MHhAIEfqGG0e2iHsE2mgMw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*MHhAIEfqGG0e2iHsE2mgMw.png":{"id":"1*MHhAIEfqGG0e2iHsE2mgMw.png","originalHeight":350,"originalWidth":356,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_68":{"id":"e6988001357_68","name":"9ed4","type":"P","href":null,"layout":null,"metadata":null,"text":"This is where we put our Bootloader and Application source code in C. The Mynewt build script will compile the code here into the Bootloader and Application Firmware Images.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_69":{"id":"e6988001357_69","name":"6089","type":"P","href":null,"layout":null,"metadata":null,"text":"apps\u002Fboot_stub\u002Fsrc: C source code for our Bootloader. We’re using a simple Stub Bootloader: Upon startup it doesn’t do anything, it just jumps to the Application.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_69.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_69.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_69.markups.0":{"type":"CODE","start":0,"end":18,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_69.markups.1":{"type":"A","start":0,"end":18,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Fapps\u002Fboot_stub\u002Fsrc","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_70":{"id":"e6988001357_70","name":"e247","type":"P","href":null,"layout":null,"metadata":null,"text":"apps\u002Fmy_sensor_app\u002Fsrc: C source code for our Application. The iBeacon code is located in ble.c. We’ll cover this in a while.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_70.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_70.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_70.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_70.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_70.markups.0":{"type":"CODE","start":0,"end":22,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_70.markups.1":{"type":"CODE","start":90,"end":95,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_70.markups.2":{"type":"A","start":0,"end":22,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Fapps\u002Fmy_sensor_app\u002Fsrc","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_70.markups.3":{"type":"A","start":90,"end":95,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Fble.c","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_71":{"id":"e6988001357_71","name":"1f86","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ rust: Rust Source Code","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_71.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_71.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_71.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_71.markups.0":{"type":"CODE","start":4,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_71.markups.1":{"type":"A","start":4,"end":8,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Frust","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_71.markups.2":{"type":"STRONG","start":10,"end":26,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_72":{"id":"e6988001357_72","name":"11b1","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*FU1jzWSqNhI2dIxUi6rvPw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*FU1jzWSqNhI2dIxUi6rvPw.png":{"id":"1*FU1jzWSqNhI2dIxUi6rvPw.png","originalHeight":356,"originalWidth":467,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_73":{"id":"e6988001357_73","name":"8303","type":"P","href":null,"layout":null,"metadata":null,"text":"All Rust code is placed in this folder. Mynewt doesn’t support Rust officially (yet), so I created a custom Application Build Script for Mynewt that injects Rust Application code into the Mynewt Application Build. (We’ll soon discover that the Rust code was injected in a sneaky way…)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_74":{"id":"e6988001357_74","name":"4a6a","type":"P","href":null,"layout":null,"metadata":null,"text":"This means that we can write our main() function in Rust and call other Rust modules and crates. Since Rust supports the calling of C functions, we may call the Mynewt API from Rust as well. (Though calling the Mynewt API through a proper Rust Wrapper is preferred… More about this later)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_74.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_74.markups.0":{"type":"CODE","start":33,"end":39,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_75":{"id":"e6988001357_75","name":"0f81","type":"P","href":null,"layout":null,"metadata":null,"text":"Here’s the Rust code in our Mynewt Project…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_76":{"id":"e6988001357_76","name":"bff9","type":"P","href":null,"layout":null,"metadata":null,"text":"rust\u002Fapp\u002Fsrc: Rust source code for our Application. The main() function is defined in lib.rs, it’s called when our device starts up. We’ll cover this in a while.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_76.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_76.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_76.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_76.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_76.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_76.markups.0":{"type":"CODE","start":0,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_76.markups.1":{"type":"CODE","start":56,"end":62,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_76.markups.2":{"type":"CODE","start":86,"end":92,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_76.markups.3":{"type":"A","start":0,"end":12,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_76.markups.4":{"type":"A","start":86,"end":92,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Flib.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_77":{"id":"e6988001357_77","name":"f52f","type":"P","href":null,"layout":null,"metadata":null,"text":"rust\u002Fmynewt\u002Fsrc: Rust Wrappers for Mynewt API. It’s possible to call the Mynewt API via extern declarations in Rust, but that wouldn’t be efficient. (Imagine converting Rust strings to null-terminated C strings for every extern call.) Also we wouldn’t be able to exploit the power of Rust Macros, Iterators, Error Handling, …","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_77.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_77.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_77.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_77.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_77.markups.0":{"type":"CODE","start":0,"end":15,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_77.markups.1":{"type":"CODE","start":88,"end":94,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_77.markups.2":{"type":"CODE","start":221,"end":227,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_77.markups.3":{"type":"A","start":0,"end":15,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Frust\u002Fmynewt\u002Fsrc","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_78":{"id":"e6988001357_78","name":"84b4","type":"P","href":null,"layout":null,"metadata":null,"text":"Thus I have created Rust Wrappers that allow Rust applications to call the Mynewt API in a safe and simple way. We’ll see examples of this in a while.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_79":{"id":"e6988001357_79","name":"c632","type":"P","href":null,"layout":null,"metadata":null,"text":"rust\u002Fmacros\u002Fsrc: Rust Macros for generating Rust Wrappers. Most of the Rust Wrappers were automatically generated with the bindgen tool and Rust Procedural Macros. These macros are invoked only during Rust compilation, not at runtime.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_79.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_79.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_79.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_79.markups.0":{"type":"CODE","start":0,"end":15,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_79.markups.1":{"type":"CODE","start":123,"end":130,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_79.markups.2":{"type":"A","start":0,"end":15,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Frust\u002Fmacros\u002Fsrc","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_80":{"id":"e6988001357_80","name":"5e56","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ libs: Custom Mynewt Libraries used by our Application","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_80.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_80.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_80.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_80.markups.0":{"type":"CODE","start":4,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_80.markups.1":{"type":"A","start":4,"end":8,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Flibs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_80.markups.2":{"type":"STRONG","start":10,"end":57,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_81":{"id":"e6988001357_81","name":"b3be","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*MPzXlI0PKdypH2x6fazUQg.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*MPzXlI0PKdypH2x6fazUQg.png":{"id":"1*MPzXlI0PKdypH2x6fazUQg.png","originalHeight":516,"originalWidth":472,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_82":{"id":"e6988001357_82","name":"80ff","type":"P","href":null,"layout":null,"metadata":null,"text":"These are C libraries that I have created to make Mynewt more friendly for embedded developers. semihosting_console allows debugging messages to be displayed in the Visual Studio Code Debugger (without using a serial port). temp_stub is a Mynewt Driver that simulates a Temperature Sensor, used in our Rust application.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_82.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_82.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_82.markups.0":{"type":"CODE","start":96,"end":115,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_82.markups.1":{"type":"CODE","start":224,"end":233,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_83":{"id":"e6988001357_83","name":"fdde","type":"P","href":null,"layout":null,"metadata":null,"text":"rust_app is a Stub Library for injecting the compiled Rust Application code. Our build script will bundle the compiled Rust Application code (including external crates) into rust_app, which gets linked into the Application Firmware. (Remember our main() function in Rust? It gets bundled into rust_app)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_83.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_83.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_83.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_83.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_83.markups.0":{"type":"CODE","start":0,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_83.markups.1":{"type":"CODE","start":174,"end":182,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_83.markups.2":{"type":"CODE","start":247,"end":253,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_83.markups.3":{"type":"CODE","start":293,"end":301,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_84":{"id":"e6988001357_84","name":"ce1b","type":"P","href":null,"layout":null,"metadata":null,"text":"Similarly, rust_libcore is a Stub Library for injecting the Rust Core Library into the Application Firmware. The Rust Core Library is part of the Rust Compiler and it’s needed for core functions (like manipulating strings). Note that we’re not using the full Rust Standard Library, which contains lots of code that’s irrelevant for embedded platforms.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_84.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_84.markups.0":{"type":"CODE","start":11,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_85":{"id":"e6988001357_85","name":"aaf3","type":"P","href":null,"layout":null,"metadata":null,"text":"4️⃣ hw\u002Fbsp: Board Support Packages for Mynewt","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_85.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_85.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_85.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_85.markups.0":{"type":"CODE","start":4,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_85.markups.1":{"type":"A","start":4,"end":10,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Fhw\u002Fbsp","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_85.markups.2":{"type":"STRONG","start":12,"end":45,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_86":{"id":"e6988001357_86","name":"1d48","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*MH9IEvsF3Qa2izWYZccAPQ.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*MH9IEvsF3Qa2izWYZccAPQ.png":{"id":"1*MH9IEvsF3Qa2izWYZccAPQ.png","originalHeight":434,"originalWidth":384,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_87":{"id":"e6988001357_87","name":"04a8","type":"P","href":null,"layout":null,"metadata":null,"text":"A Board Support Package contains information, scripts and drivers necessary to build Mynewt for our microcontroller (nRF52832) and the associated peripherals on our microcontroller board: flash memory, LEDs, UART ports, …","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_88":{"id":"e6988001357_88","name":"d76f","type":"P","href":null,"layout":null,"metadata":null,"text":"hw\u002Fbsp\u002Fnrf52: Board Support Package for our nRF52 microcontroller board. This is a clone of the official ada_feather_nrf52 Board Support Package, with the LED and Button settings customised for the EBYTE E73-TBB Development Board. (You should update these settings to suit your nRF52 development board.)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_88.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_88.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_88.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_88.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_88.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_88.markups.0":{"type":"CODE","start":0,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_88.markups.1":{"type":"CODE","start":105,"end":122,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_88.markups.2":{"type":"A","start":0,"end":12,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Fhw\u002Fbsp\u002Fnrf52","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_88.markups.3":{"type":"A","start":105,"end":122,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Fapache\u002Fmynewt-core\u002Ftree\u002Fmaster\u002Fhw\u002Fbsp\u002Fada_feather_nrf52","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_88.markups.4":{"type":"A","start":155,"end":178,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fhw\u002Fbsp\u002Fnrf52\u002Finclude\u002Fbsp\u002Fbsp.h#L42-L49","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_89":{"id":"e6988001357_89","name":"80d7","type":"P","href":null,"layout":null,"metadata":null,"text":"5️⃣ targets: Bootloader and Application Targets for Mynewt","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_89.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_89.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_89.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_89.markups.0":{"type":"CODE","start":4,"end":11,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_89.markups.1":{"type":"A","start":4,"end":11,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Ftargets","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_89.markups.2":{"type":"STRONG","start":13,"end":58,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_90":{"id":"e6988001357_90","name":"fd02","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*JYSGl5c-JdCmZty4oeSaPw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*JYSGl5c-JdCmZty4oeSaPw.png":{"id":"1*JYSGl5c-JdCmZty4oeSaPw.png","originalHeight":222,"originalWidth":377,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_91":{"id":"e6988001357_91","name":"dac8","type":"P","href":null,"layout":null,"metadata":null,"text":"Mynewt Applications are designed to be portable across microcontrollers… An application like my_sensor_app may be recompiled to run on STM32 Blue Pill F103, STM32 F476, or even BBC micro:bit (based on Nordic nRF51).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_91.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_91.markups.0":{"type":"CODE","start":93,"end":106,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_92":{"id":"e6988001357_92","name":"8926","type":"P","href":null,"layout":null,"metadata":null,"text":"How do we compile an application like my_sensor_app for our nRF52832 development board? We tell Mynewt to create a “Target” for the application, i.e. an instance of my_sensor_app that’s targeted for our Board Support Package hw\u002Fbsp\u002Fnrf52","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_92.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_92.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_92.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_92.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_92.markups.0":{"type":"CODE","start":38,"end":51,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_92.markups.1":{"type":"CODE","start":165,"end":178,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_92.markups.2":{"type":"CODE","start":225,"end":237,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_92.markups.3":{"type":"A","start":225,"end":237,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Fhw\u002Fbsp\u002Fnrf52","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_93":{"id":"e6988001357_93","name":"3f45","type":"P","href":null,"layout":null,"metadata":null,"text":"The targets folder contains Bootloaders and Applications that have been targeted for specific Board Support Packages…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_93.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_93.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_93.markups.0":{"type":"CODE","start":4,"end":11,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_93.markups.1":{"type":"A","start":4,"end":11,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Ftargets","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_94":{"id":"e6988001357_94","name":"cfb2","type":"P","href":null,"layout":null,"metadata":null,"text":"targets\u002Fnrf52_boot: This is the boot_stub Bootloader targeted for nRF52","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_94.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_94.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_94.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_94.markups.0":{"type":"CODE","start":0,"end":18,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_94.markups.1":{"type":"CODE","start":32,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_94.markups.2":{"type":"A","start":0,"end":18,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Ftargets\u002Fnrf52_boot","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_95":{"id":"e6988001357_95","name":"53dd","type":"P","href":null,"layout":null,"metadata":null,"text":"targets\u002Fnrf52_my_sensor: This is the my_sensor_app Application targeted for nRF52. The Application Settings are configured at targets\u002Fnrf52_my_sensor\u002Fsyscfg.yml","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_95.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_95.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_95.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_95.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_95.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_95.markups.0":{"type":"CODE","start":0,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_95.markups.1":{"type":"CODE","start":37,"end":50,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_95.markups.2":{"type":"CODE","start":126,"end":160,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_95.markups.3":{"type":"A","start":0,"end":23,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Ftargets\u002Fnrf52_my_sensor","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_95.markups.4":{"type":"A","start":126,"end":160,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Ftargets\u002Fnrf52_my_sensor\u002Fsyscfg.yml","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_96":{"id":"e6988001357_96","name":"44eb","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Application Settings. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Ftargets\u002Fnrf52_my_sensor\u002Fsyscfg.yml","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_96.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_96.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_96.markups.0":{"type":"A","start":27,"end":127,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Ftargets\u002Fnrf52_my_sensor\u002Fsyscfg.yml","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:43607104cd463514b658262123f49e89":{"id":"43607104cd463514b658262123f49e89","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_96.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:43607104cd463514b658262123f49e89","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_97":{"id":"e6988001357_97","name":"ab9a","type":"P","href":null,"layout":null,"metadata":null,"text":"6️⃣ scripts: Build, Flash and Debug Scripts","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_97.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_97.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_97.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_97.markups.0":{"type":"CODE","start":4,"end":11,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_97.markups.1":{"type":"A","start":4,"end":11,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Fscripts","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_97.markups.2":{"type":"STRONG","start":13,"end":43,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_98":{"id":"e6988001357_98","name":"edcc","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*1SGgWn7lOrd4Jh-j8iTdYQ.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*1SGgWn7lOrd4Jh-j8iTdYQ.png":{"id":"1*1SGgWn7lOrd4Jh-j8iTdYQ.png","originalHeight":428,"originalWidth":452,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_99":{"id":"e6988001357_99","name":"1a26","type":"P","href":null,"layout":null,"metadata":null,"text":"scripts\u002Fbuild-app.cmd, .sh: This shell script builds the Rust Application by calling cargo build and bundles the compiled Rust code (with external crates) into the rust_app library.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_99.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_99.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_99.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_99.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_99.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_99.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_99.markups.6","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_99.markups.0":{"type":"CODE","start":0,"end":26,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_99.markups.1":{"type":"CODE","start":85,"end":96,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_99.markups.2":{"type":"CODE","start":164,"end":172,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_99.markups.3":{"type":"A","start":0,"end":21,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fbuild-app.cmd","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_99.markups.4":{"type":"A","start":23,"end":26,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fbuild-app.sh","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_99.markups.5":{"type":"A","start":46,"end":73,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fbuild-app.sh#L80-L82","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_99.markups.6":{"type":"A","start":101,"end":131,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fbuild-app.sh#L87-L120","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_100":{"id":"e6988001357_100","name":"fda9","type":"P","href":null,"layout":null,"metadata":null,"text":"Then it builds the Application Firmware by running newt build nrf52_my_sensor, injecting rust_app (Rust Application) and rust_libcore (Rust Core Library) into the Application Firmware.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_100.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_100.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_100.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_100.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_100.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_100.markups.0":{"type":"CODE","start":51,"end":77,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_100.markups.1":{"type":"CODE","start":89,"end":97,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_100.markups.2":{"type":"CODE","start":121,"end":133,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_100.markups.3":{"type":"A","start":8,"end":39,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fbuild-app.sh#L157-L160","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_100.markups.4":{"type":"A","start":135,"end":152,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fbuild-app.sh#L129-L148","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_101":{"id":"e6988001357_101","name":"0f38","type":"P","href":null,"layout":null,"metadata":null,"text":"The Rust build is targeted for thumbv7em-none-eabihf (Arm Cortex M4 with Hardware Floating-Point), which is the designation for the Arm processor in the nRF52832 microcontroller.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_101.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_101.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_101.markups.0":{"type":"CODE","start":31,"end":52,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_101.markups.1":{"type":"A","start":31,"end":52,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fbuild-app.cmd#L3-L6","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_102":{"id":"e6988001357_102","name":"9f6d","type":"P","href":null,"layout":null,"metadata":null,"text":"scripts\u002Fnrf52: Contains the build, flash and debug scripts specific to nRF52. The Flash Bootloader, Flash Application and Debug Scripts include OpenOCD scripts (*.ocd) that connect to the nRF52 via ST-Link.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_102.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_102.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_102.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_102.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_102.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_102.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_102.markups.0":{"type":"CODE","start":0,"end":13,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_102.markups.1":{"type":"CODE","start":161,"end":166,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_102.markups.2":{"type":"A","start":0,"end":13,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Fscripts\u002Fnrf52","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_102.markups.3":{"type":"A","start":82,"end":98,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fflash-boot.cmd","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_102.markups.4":{"type":"A","start":100,"end":117,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fflash-app.cmd","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_102.markups.5":{"type":"A","start":122,"end":135,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fdebug.ocd","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_103":{"id":"e6988001357_103","name":"830c","type":"P","href":null,"layout":null,"metadata":null,"text":"Here’s the OpenOCD command used in the Flash Application Script that connects to nRF52 via ST-Link to flash the Application Firmware…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_103.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_103.markups.0":{"type":"A","start":39,"end":56,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fflash-app.cmd","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_104":{"id":"e6988001357_104","name":"102b","type":"PRE","href":null,"layout":null,"metadata":null,"text":"openocd\u002Fbin\u002Fopenocd \\\n    -f scripts\u002Fnrf52\u002Fflash-init.ocd \\\n    -f interface\u002Fstlink.cfg \\\n    -c \"transport select hla_swd\" \\\n    -f target\u002Fnrf52.cfg \\\n    -f scripts\u002Fnrf52\u002Fflash-app.ocd","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_105":{"id":"e6988001357_105","name":"3f56","type":"P","href":null,"layout":null,"metadata":null,"text":"The OpenOCD script scripts\u002Fnrf52\u002Fflash-app.ocd specifies the firmware image file to be flashed (my_sensor_app.img) and the ROM address (0x0000 4000)…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_105.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_105.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_105.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_105.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_105.markups.0":{"type":"CODE","start":19,"end":46,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_105.markups.1":{"type":"CODE","start":96,"end":113,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_105.markups.2":{"type":"CODE","start":136,"end":147,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_105.markups.3":{"type":"A","start":19,"end":46,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fflash-app.ocd","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_106":{"id":"e6988001357_106","name":"2673","type":"PRE","href":null,"layout":null,"metadata":null,"text":"# From https:\u002F\u002Fdevzone.nordicsemi.com\u002Ff\u002Fnordic-q-a\u002F42824\u002Fflashing-nrf5832-using-only-st-link-v2-and-openocd\ngdb_flash_program enable\ngdb_breakpoint_override hard","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_106.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_106.markups.0":{"type":"A","start":7,"end":107,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fdevzone.nordicsemi.com\u002Ff\u002Fnordic-q-a\u002F42824\u002Fflashing-nrf5832-using-only-st-link-v2-and-openocd","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_107":{"id":"e6988001357_107","name":"6a4b","type":"PRE","href":null,"layout":null,"metadata":null,"text":"# Connect to the device.\ninit","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_108":{"id":"e6988001357_108","name":"44a6","type":"PRE","href":null,"layout":null,"metadata":null,"text":"# Enable ARM semihosting to show debug console output.\narm semihosting enable","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_109":{"id":"e6988001357_109","name":"c173","type":"PRE","href":null,"layout":null,"metadata":null,"text":"echo \"Stopping...\"\nreset halt","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_110":{"id":"e6988001357_110","name":"73c3","type":"PRE","href":null,"layout":null,"metadata":null,"text":"echo \"Flashing Application...\"\nprogram bin\u002Ftargets\u002Fnrf52_my_sensor\u002Fapp\u002Fapps\u002Fmy_sensor_app\u002Fmy_sensor_app.img verify 0x00004000","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_111":{"id":"e6988001357_111","name":"7139","type":"PRE","href":null,"layout":null,"metadata":null,"text":"# Restart the device.\nreset halt\nexit","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_112":{"id":"e6988001357_112","name":"628a","type":"P","href":null,"layout":null,"metadata":null,"text":"Note that…\nBootloader Code is located at ROM Address 0x0000 0000 \nApplication Code is located at ROM Address 0x0000 4000","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_112.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_112.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_112.markups.0":{"type":"CODE","start":53,"end":64,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_112.markups.1":{"type":"CODE","start":109,"end":120,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_113":{"id":"e6988001357_113","name":"e459","type":"P","href":null,"layout":null,"metadata":null,"text":"7️⃣ repos: Apache Mynewt and NimBLE Source Code","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_113.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_113.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_113.markups.0":{"type":"CODE","start":4,"end":9,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_113.markups.1":{"type":"STRONG","start":11,"end":47,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_114":{"id":"e6988001357_114","name":"ebcf","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*rJCEWdCo29qdPzwhYCBPTA.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*rJCEWdCo29qdPzwhYCBPTA.png":{"id":"1*rJCEWdCo29qdPzwhYCBPTA.png","originalHeight":135,"originalWidth":364,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_115":{"id":"e6988001357_115","name":"b0ac","type":"P","href":null,"layout":null,"metadata":null,"text":"This folder contains the official Mynewt and NimBLE source code in C. We shouldn’t change anything here.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_116":{"id":"e6988001357_116","name":"f9b5","type":"P","href":null,"layout":null,"metadata":null,"text":"8️⃣ bin: Compiled Bootloader and Application Code","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_116.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_116.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_116.markups.0":{"type":"CODE","start":4,"end":7,"href":"","anchorType":"LINK","userId":"","linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_116.markups.1":{"type":"STRONG","start":9,"end":49,"href":"","anchorType":"LINK","userId":"","linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_117":{"id":"e6988001357_117","name":"fae7","type":"P","href":null,"layout":null,"metadata":null,"text":"The build scripts produce Bootloader and Application Firmware Images in this folder. These firmware images are used by the Flash Bootloader and Flash Application Scripts to flash the Bootloader and Application to the nRF52.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_117.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_117.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_117.markups.0":{"type":"A","start":123,"end":139,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fflash-boot.cmd","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_117.markups.1":{"type":"A","start":144,"end":161,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fflash-app.cmd","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_118":{"id":"e6988001357_118","name":"fd03","type":"P","href":null,"layout":null,"metadata":null,"text":"The Application Firmware is also flashed to the nRF52 when we click Start Debugging.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_118.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_118.markups.0":{"type":"CODE","start":68,"end":83,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_119":{"id":"e6988001357_119","name":"8bc8","type":"P","href":null,"layout":null,"metadata":null,"text":"9️⃣ .vscode: Visual Studio Code Settings","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_119.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_119.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_119.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_119.markups.0":{"type":"CODE","start":4,"end":11,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_119.markups.1":{"type":"A","start":4,"end":11,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002F.vscode","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_119.markups.2":{"type":"STRONG","start":13,"end":40,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_120":{"id":"e6988001357_120","name":"3f39","type":"P","href":null,"layout":null,"metadata":null,"text":"tasks.json defines the Build and Flash Bootloader \u002F Application Tasks in Visual Studio Code. These tasks invoke the scripts in the scripts folder","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_120.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_120.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_120.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_120.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_120.markups.0":{"type":"CODE","start":0,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_120.markups.1":{"type":"CODE","start":131,"end":138,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_120.markups.2":{"type":"A","start":0,"end":10,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002F.vscode\u002Ftasks.json","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_120.markups.3":{"type":"A","start":131,"end":138,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Ftree\u002Fnrf52\u002Fscripts","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_121":{"id":"e6988001357_121","name":"c94d","type":"P","href":null,"layout":null,"metadata":null,"text":"launch-nrf52.json contains the nRF52 debugger settings for the Cortex-Debug Extension that we’re using to debug our application. When we run the Build Application script, the script copies launch-nrf52.json to launch.json, which is loaded by the Cortex-Debug debugger.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_121.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_121.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_121.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_121.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_121.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_121.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_121.markups.6","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_121.markups.0":{"type":"CODE","start":0,"end":17,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_121.markups.1":{"type":"CODE","start":189,"end":206,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_121.markups.2":{"type":"CODE","start":210,"end":221,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_121.markups.3":{"type":"A","start":0,"end":17,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002F.vscode\u002Flaunch-nrf52.json","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_121.markups.4":{"type":"A","start":63,"end":85,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmarketplace.visualstudio.com\u002Fitems?itemName=marus25.cortex-debug","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_121.markups.5":{"type":"A","start":145,"end":162,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fbuild-app.cmd#L4-L6","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_121.markups.6":{"type":"A","start":189,"end":206,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002F.vscode\u002Flaunch-nrf52.json","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_122":{"id":"e6988001357_122","name":"6166","type":"H3","href":null,"layout":null,"metadata":null,"text":"Create an iBeacon with NimBLE","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_123":{"id":"e6988001357_123","name":"918b","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s look at the application code that calls the NimBLE API to create an iBeacon Transmitter: apps\u002Fmy_sensor_app\u002Fsrc\u002Fble.c. Why did we code this in C and not Rust? We’ll discuss this in a while.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_123.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_123.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_123.markups.0":{"type":"CODE","start":95,"end":123,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_123.markups.1":{"type":"A","start":95,"end":123,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fapps\u002Fmy_sensor_app\u002Fsrc\u002Fble.c","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_124":{"id":"e6988001357_124","name":"59d6","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_124.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:40954407eddb8f070d9398bd178b65af":{"id":"40954407eddb8f070d9398bd178b65af","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_124.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:40954407eddb8f070d9398bd178b65af","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_125":{"id":"e6988001357_125","name":"be55","type":"P","href":null,"layout":null,"metadata":null,"text":"start_ble() is called by the Rust main() function to start the iBeacon broadcasts in our application.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_125.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_125.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_125.markups.0":{"type":"CODE","start":0,"end":11,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_125.markups.1":{"type":"CODE","start":34,"end":40,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_126":{"id":"e6988001357_126","name":"8732","type":"P","href":null,"layout":null,"metadata":null,"text":"In Bluetooth LE applications, it’s mandatory to wait for the Host (i.e. Arm Processor) and Controller (i.e. Radio Transceiver) to sync up before performing any Bluetooth LE functions.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_127":{"id":"e6988001357_127","name":"fe53","type":"P","href":null,"layout":null,"metadata":null,"text":"Here we set up the ble_hs_cfg.sync_cb callback defined in NimBLE, so that NimBLE will call our function ble_app_on_sync() as soon as the Host and Controller are in sync. (Which happens very quickly upon startup… Just set a breakpoint in ble_app_on_sync() and watch!)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_127.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_127.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_127.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_127.markups.0":{"type":"CODE","start":19,"end":37,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_127.markups.1":{"type":"CODE","start":104,"end":121,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_127.markups.2":{"type":"CODE","start":237,"end":254,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_128":{"id":"e6988001357_128","name":"8b83","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_128.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:d744bac8f2329936df0ec1db7d3b3b20":{"id":"d744bac8f2329936df0ec1db7d3b3b20","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_128.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:d744bac8f2329936df0ec1db7d3b3b20","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_129":{"id":"e6988001357_129","name":"acb7","type":"P","href":null,"layout":null,"metadata":null,"text":"When the Host and Controller are in sync, ble_app_on_sync() calls two functions to set up the iBeacon Transmitter…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_129.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_129.markups.0":{"type":"CODE","start":42,"end":59,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_130":{"id":"e6988001357_130","name":"9cb0","type":"OLI","href":null,"layout":null,"metadata":null,"text":"ble_app_set_addr(): Generate a Non-Resolvable Private Address","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_130.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_130.markups.0":{"type":"CODE","start":0,"end":18,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_131":{"id":"e6988001357_131","name":"d9c3","type":"OLI","href":null,"layout":null,"metadata":null,"text":"ble_app_advertise(): Advertise indefinitely as an iBeacon","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_131.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_131.markups.0":{"type":"CODE","start":0,"end":19,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_132":{"id":"e6988001357_132","name":"dc35","type":"P","href":null,"layout":null,"metadata":null,"text":"What’s a Non-Resolvable Private Address? Just like any networking protocol, in Bluetooth LE we need to identify ourselves with a network address. Since we’re creating an iBeacon Transmitter with no receive capability, it’s OK to use a temporary random address, i.e. Non-Resolvable Private Address.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_132.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_132.markups.0":{"type":"STRONG","start":9,"end":39,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_133":{"id":"e6988001357_133","name":"5578","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_133.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:eff555587fca2284e73276fde0f8025b":{"id":"eff555587fca2284e73276fde0f8025b","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_133.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:eff555587fca2284e73276fde0f8025b","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_134":{"id":"e6988001357_134","name":"e5dd","type":"P","href":null,"layout":null,"metadata":null,"text":"Here’s how we call the NimBLE API ble_hs_id_gen_rnd() to generate that random 6-byte Non-Resolvable Private Address.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_134.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_134.markups.0":{"type":"CODE","start":34,"end":53,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_135":{"id":"e6988001357_135","name":"f857","type":"P","href":null,"layout":null,"metadata":null,"text":"Once we have obtained the random address, we tell NimBLE to use it by calling ble_hs_id_set_rnd(). If you’re curious to see the random address, just set a Debugger Breakpoint by clicking the gutter to add a red dot like this…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_135.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_135.markups.0":{"type":"CODE","start":78,"end":97,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_136":{"id":"e6988001357_136","name":"0fad","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*Hzy581IOrY3VX-K-iJp4Gw.png","typename":"ImageMetadata"},"text":"Setting a breakpoint to observe the randomly-generated 6-byte Non-Resolvable Private Address","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*Hzy581IOrY3VX-K-iJp4Gw.png":{"id":"1*Hzy581IOrY3VX-K-iJp4Gw.png","originalHeight":605,"originalWidth":773,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_137":{"id":"e6988001357_137","name":"5ec4","type":"P","href":null,"layout":null,"metadata":null,"text":"Now let’s find out what our nRF52 shall be broadcasting…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_138":{"id":"e6988001357_138","name":"6779","type":"H3","href":null,"layout":null,"metadata":null,"text":"Set iBeacon Parameters","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_139":{"id":"e6988001357_139","name":"4dd4","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*w-csDBzCdCkGRYBIvk-J0g.png","typename":"ImageMetadata"},"text":"iBeacon ID links the iBeacon Transmitter to the Mobile App","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*w-csDBzCdCkGRYBIvk-J0g.png":{"id":"1*w-csDBzCdCkGRYBIvk-J0g.png","originalHeight":3664,"originalWidth":4476,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_140":{"id":"e6988001357_140","name":"e87a","type":"P","href":null,"layout":null,"metadata":null,"text":"Remember our iBeacon sketch? Every iBeacon Transmitter needs to broadcast the following…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_141":{"id":"e6988001357_141","name":"39d3","type":"OLI","href":null,"layout":null,"metadata":null,"text":"iBeacon ID: Our iBeacon Transmitter shall broadcast this 16-byte iBeacon ID, which looks like 11111111–1111–1111–1111–111111111111 (in hexadecimal). Upon sensing the iBeacon ID in the airwaves, the phone OS (iOS or Android) will wake up our Mobile App that’s linked to this iBeacon ID.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_141.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_141.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_141.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_141.markups.0":{"type":"CODE","start":94,"end":130,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_141.markups.1":{"type":"A","start":229,"end":251,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fwww.raywenderlich.com\u002F632-ibeacon-tutorial-with-ios-and-swift","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_141.markups.2":{"type":"STRONG","start":0,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_142":{"id":"e6988001357_142","name":"cc3d","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Major ID: A 16-bit number to differentiate iBeacon Transmitters","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_142.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_142.markups.0":{"type":"STRONG","start":0,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_143":{"id":"e6988001357_143","name":"523c","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Minor ID: Another 16-bit number to differentiate iBeacon Transmitters","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_143.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_143.markups.0":{"type":"STRONG","start":0,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_144":{"id":"e6988001357_144","name":"618c","type":"P","href":null,"layout":null,"metadata":null,"text":"How are Major and Minor IDs used? Let’s say we operate a chain of stores. All stores in the chain would use the same Mobile App, so all iBeacon Transmitters in the stores should broadcast the same iBeacon ID.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_144.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_144.markups.0":{"type":"EM","start":0,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_145":{"id":"e6988001357_145","name":"aa9d","type":"P","href":null,"layout":null,"metadata":null,"text":"How would we identify which store the customer has stepped into? Easy… Just assign a unique Major ID for each store! The app would be able to sense the Major ID from the iBeacon broadcasts and figure out which store you’re at.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_145.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_145.markups.0":{"type":"EM","start":0,"end":64,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_146":{"id":"e6988001357_146","name":"83d1","type":"P","href":null,"layout":null,"metadata":null,"text":"Could we identify which part of the store the customer is at? Sure! Just assign a unique Minor ID for each iBeacon Transmitter in the store. Here’s how we broadcast the iBeacon ID, Major ID and Minor ID in NimBLE…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_146.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_146.markups.0":{"type":"EM","start":0,"end":61,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_147":{"id":"e6988001357_147","name":"d591","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_147.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:7c8a567d23d2dd7d04b0a9d728ff2234":{"id":"7c8a567d23d2dd7d04b0a9d728ff2234","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_147.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:7c8a567d23d2dd7d04b0a9d728ff2234","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_148":{"id":"e6988001357_148","name":"9a20","type":"P","href":null,"layout":null,"metadata":null,"text":"In our code we used an arbitrary iBeacon ID uuid128 that’s defined as 11111111–1111–1111–1111–111111111111 (in hexadecimal). We pass the iBeacon ID to ble_ibeacon_set_adv_data(), together with Major ID 2 and Minor ID 10. When we call ble_gap_adv_start(), our nRF52 starts advertising itself as an iBeacon.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_148.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_148.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_148.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_148.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_148.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_148.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_148.markups.0":{"type":"CODE","start":44,"end":51,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_148.markups.1":{"type":"CODE","start":70,"end":106,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_148.markups.2":{"type":"CODE","start":151,"end":177,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_148.markups.3":{"type":"CODE","start":202,"end":203,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_148.markups.4":{"type":"CODE","start":217,"end":219,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_148.markups.5":{"type":"CODE","start":234,"end":253,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_149":{"id":"e6988001357_149","name":"f1a1","type":"P","href":null,"layout":null,"metadata":null,"text":"There’s one more parameter that we passed to ble_ibeacon_set_adv_data()… Measured Power, which is the RSSI value at 1 meter: -60. This value is broadcast by the iBeacon, together with the other IDs.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_149.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_149.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_149.markups.0":{"type":"CODE","start":45,"end":71,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_149.markups.1":{"type":"CODE","start":125,"end":128,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_150":{"id":"e6988001357_150","name":"c2d0","type":"P","href":null,"layout":null,"metadata":null,"text":"Since we are diving deep into wireless transmission, let’s study the meaning of RSSI, known to most of us as Signal Strength…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_151":{"id":"e6988001357_151","name":"f2d6","type":"H3","href":null,"layout":null,"metadata":null,"text":"How Near Is Our iBeacon?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_152":{"id":"e6988001357_152","name":"1524","type":"P","href":null,"layout":null,"metadata":null,"text":"Received Signal Strength Indication (RSSI) is a common metric for measuring the Signal Strength of wireless networks like WiFi, NB-IoT and Bluetooth LE. RSSI values are usually negative, and higher values denote stronger signals (RSSI -50 is stronger than RSSI -60).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_152.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_152.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_152.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_152.markups.0":{"type":"CODE","start":235,"end":238,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_152.markups.1":{"type":"CODE","start":261,"end":264,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_152.markups.2":{"type":"A","start":0,"end":35,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fwww.bluetooth.com\u002Fblog\u002Fproximity-and-rssi\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_153":{"id":"e6988001357_153","name":"14ec","type":"P","href":null,"layout":null,"metadata":null,"text":"Why do iBeacons broadcast their RSSI values? So that we may estimate how near they are!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_153.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_153.markups.0":{"type":"EM","start":0,"end":44,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_154":{"id":"e6988001357_154","name":"d1a2","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*UFx4IAUoj4Z5S58uTcehzg.png","typename":"ImageMetadata"},"text":"Estimated Proximity for our nRF52 iBeacon in the Locate Beacon app: 0.7 metres","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_155":{"id":"e6988001357_155","name":"4946","type":"P","href":null,"layout":null,"metadata":null,"text":"Recall that we set our iBeacon Transmitter’s Measured Power as -60. According to the definition of Measured Power, if we placed our mobile phone 1 metre away from our iBeacon Transmitter, the phone would record the RSSI as -60.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_155.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_155.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_155.markups.0":{"type":"CODE","start":63,"end":66,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_155.markups.1":{"type":"CODE","start":223,"end":226,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_156":{"id":"e6988001357_156","name":"c39e","type":"P","href":null,"layout":null,"metadata":null,"text":"Thus if the RSSI recorded by the phone was -50 or higher, the iBeacon Transmitter would probably be close to the phone (within 1 metre). This gives us a simple way to estimate the distance between the iBeacon Transmitter and our mobile phone.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_156.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_156.markups.0":{"type":"CODE","start":43,"end":46,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_157":{"id":"e6988001357_157","name":"079c","type":"P","href":null,"layout":null,"metadata":null,"text":"In the real world, the estimated proximity of iBeacons is not really accurate. Bluetooth LE signals often clash with WiFi in the crowded 2.4 GHz airwaves, so the RSSI values may fluctuate wildly. And when Bluetooth LE signals pass through objects (like human bodies) the RSSI values will drop.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_158":{"id":"e6988001357_158","name":"cac4","type":"P","href":null,"layout":null,"metadata":null,"text":"It’s hard to do accurate distance ranging for any kind of wireless signal (WiFi and NB-IoT included). But it’s good to understand what RSSI means, and how wireless signals degrade when transmitting over long distances, passing through obstacles.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_159":{"id":"e6988001357_159","name":"6bad","type":"P","href":null,"layout":null,"metadata":null,"text":"For more details on implementing iBeacon Transmitters with NimBLE, check out the complete tutorial at https:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Ftutorials\u002Fble\u002Fibeacon.html","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_159.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_159.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_159.markups.0":{"type":"CODE","start":102,"end":161,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_159.markups.1":{"type":"A","start":102,"end":161,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Ftutorials\u002Fble\u002Fibeacon.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_160":{"id":"e6988001357_160","name":"9054","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*SlSw5NFxcGRFS91zHhBTTw.jpeg","typename":"ImageMetadata"},"text":"Testing our nRF52 iBeacon with the “Locate Beacon” mobile app","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*SlSw5NFxcGRFS91zHhBTTw.jpeg":{"id":"1*SlSw5NFxcGRFS91zHhBTTw.jpeg","originalHeight":4000,"originalWidth":6000,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_161":{"id":"e6988001357_161","name":"3a00","type":"H3","href":null,"layout":null,"metadata":null,"text":"Test Our iBeacon","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_162":{"id":"e6988001357_162","name":"9ee9","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s use a real Mobile App to verify that our nRF52 is indeed broadcasting as an iBeacon.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_163":{"id":"e6988001357_163","name":"a308","type":"P","href":null,"layout":null,"metadata":null,"text":"Follow the instructions in this article to flash and debug your nRF52 with an ST-Link V2 adapter.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_163.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_163.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_163.markups.0":{"type":"A","start":0,"end":39,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Finstall-apache-mynewt-and-embedded-rust-for-nrf52-and-visual-studio-code-on-windows-and-macos-94741412b502?source=friends_link&sk=3d368af3fe4c758b0ef725809d8504d2","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_163.markups.1":{"type":"A","start":78,"end":96,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fwww.aliexpress.com\u002Fwholesale?catId=0&initiative_id=SB_20180924134644&SearchText=st-link+v2&switch_new_app=y","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_164":{"id":"e6988001357_164","name":"76dd","type":"P","href":null,"layout":null,"metadata":null,"text":"Start a debug session for nRF52 in Visual Studio Code. Whenever the program pauses at a breakpoint (this will happen twice), click Continue or press F5. Keep the nRF52 powered on.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_164.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_164.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_164.markups.0":{"type":"CODE","start":131,"end":139,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_164.markups.1":{"type":"CODE","start":149,"end":151,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_165":{"id":"e6988001357_165","name":"178f","type":"P","href":null,"layout":null,"metadata":null,"text":"Install the “Locate Beacon” app on your iPhone…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_165.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_165.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_165.markups.0":{"type":"A","start":13,"end":26,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fapps.apple.com\u002Fus\u002Fapp\u002Flocate-beacon\u002Fid738709014","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_165.markups.1":{"type":"STRONG","start":12,"end":27,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_166":{"id":"e6988001357_166","name":"e9c5","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"‎Locate Beacon\n‎Makes your device transmit as a Proximity Beacon with iBeacon™ Technology and configurable identifiers. Finds nearby…apps.apple.com","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_166.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_166.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_166.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_166.mixtapeMetadata","typename":"MixtapeMetadata"}},"Paragraph:e6988001357_166.markups.0":{"type":"A","start":0,"end":147,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fapps.apple.com\u002Fus\u002Fapp\u002Flocate-beacon\u002Fid738709014","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_166.markups.1":{"type":"STRONG","start":0,"end":14,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_166.markups.2":{"type":"EM","start":15,"end":133,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Paragraph:e6988001357_166.mixtapeMetadata":{"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fapps.apple.com\u002Fus\u002Fapp\u002Flocate-beacon\u002Fid738709014","thumbnailImageId":"0*wGJeSSpfrKosGhea","mediaResourceId":"0*wGJeSSpfrKosGhea","__typename":"MixtapeMetadata"},"Paragraph:e6988001357_167":{"id":"e6988001357_167","name":"d12f","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*eQ9b9lxzuHu6Ed77WstXuQ.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*eQ9b9lxzuHu6Ed77WstXuQ.png":{"id":"1*eQ9b9lxzuHu6Ed77WstXuQ.png","originalHeight":1711,"originalWidth":1242,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_168":{"id":"e6988001357_168","name":"6840","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Launch the “Locate Beacon” app on your iPhone.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_169":{"id":"e6988001357_169","name":"1df7","type":"P","href":null,"layout":null,"metadata":null,"text":"Tap the Gear icon at top right","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_170":{"id":"e6988001357_170","name":"0d42","type":"P","href":null,"layout":null,"metadata":null,"text":"Tap Add New UUID","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_170.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_170.markups.0":{"type":"CODE","start":4,"end":16,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_171":{"id":"e6988001357_171","name":"1003","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png":{"id":"1*pmGFQ2cRpqypaNDM1UYwEw.png","originalHeight":50,"originalWidth":1800,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_172":{"id":"e6988001357_172","name":"fa24","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*wJQzCXaw7PUrYlIrCSgFCg.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*wJQzCXaw7PUrYlIrCSgFCg.png":{"id":"1*wJQzCXaw7PUrYlIrCSgFCg.png","originalHeight":587,"originalWidth":1242,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_173":{"id":"e6988001357_173","name":"da8b","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ Tap the + button at top right","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_173.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_173.markups.0":{"type":"CODE","start":12,"end":13,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_174":{"id":"e6988001357_174","name":"1801","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_175":{"id":"e6988001357_175","name":"741c","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_176":{"id":"e6988001357_176","name":"8eff","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*20NGrir0mgR-RTL_N1rvCg.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*20NGrir0mgR-RTL_N1rvCg.png":{"id":"1*20NGrir0mgR-RTL_N1rvCg.png","originalHeight":1019,"originalWidth":1242,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_177":{"id":"e6988001357_177","name":"c6cf","type":"P","href":null,"layout":null,"metadata":null,"text":"3️⃣ Enter My iBeacon as the name","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_177.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_177.markups.0":{"type":"CODE","start":10,"end":20,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_178":{"id":"e6988001357_178","name":"e19a","type":"P","href":null,"layout":null,"metadata":null,"text":"For the UUID, enter\n11111111–1111–1111–1111–111111111111","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_178.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_178.markups.0":{"type":"CODE","start":20,"end":56,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_179":{"id":"e6988001357_179","name":"e9df","type":"P","href":null,"layout":null,"metadata":null,"text":"Leave the Major, Minor and Power fields empty","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_180":{"id":"e6988001357_180","name":"3d7f","type":"P","href":null,"layout":null,"metadata":null,"text":"Tap Save","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_180.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_180.markups.0":{"type":"CODE","start":4,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_181":{"id":"e6988001357_181","name":"5a2f","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_182":{"id":"e6988001357_182","name":"a40e","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*UFx4IAUoj4Z5S58uTcehzg.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_183":{"id":"e6988001357_183","name":"b2d7","type":"P","href":null,"layout":null,"metadata":null,"text":"4️⃣ Our nRF52 should appear in the list of detected iBeacons as My iBeacon","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_183.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_183.markups.0":{"type":"CODE","start":64,"end":74,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_184":{"id":"e6988001357_184","name":"386d","type":"P","href":null,"layout":null,"metadata":null,"text":"Tap My iBeacon","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_184.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_184.markups.0":{"type":"CODE","start":4,"end":14,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_185":{"id":"e6988001357_185","name":"6cc6","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*pmGFQ2cRpqypaNDM1UYwEw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_186":{"id":"e6988001357_186","name":"14e2","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*uqfIn72RPcy4o9mTa3zQig.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*uqfIn72RPcy4o9mTa3zQig.png":{"id":"1*uqfIn72RPcy4o9mTa3zQig.png","originalHeight":1196,"originalWidth":1242,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_187":{"id":"e6988001357_187","name":"928d","type":"P","href":null,"layout":null,"metadata":null,"text":"5️⃣ Details of our iBeacon appear, including the RSSI and estimated proximity.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_188":{"id":"e6988001357_188","name":"dfe2","type":"P","href":null,"layout":null,"metadata":null,"text":"How did I figure out that my nRF52’s Measured Power was -60? By trial and error!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_188.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_188.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_188.markups.0":{"type":"CODE","start":56,"end":59,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_188.markups.1":{"type":"EM","start":0,"end":56,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_189":{"id":"e6988001357_189","name":"2ff6","type":"P","href":null,"layout":null,"metadata":null,"text":"I placed my phone 1 metre away from the nRF52, then adjusted the Measured Power value until the estimated distance in the Locate Beacon app showed 1 metre.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_190":{"id":"e6988001357_190","name":"e10d","type":"H3","href":null,"layout":null,"metadata":null,"text":"Poll A Sensor With Rust","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_191":{"id":"e6988001357_191","name":"b82e","type":"P","href":null,"layout":null,"metadata":null,"text":"Now let’s talk about Embedded Rust! As we have discovered, our Mynewt Project allows us to embed Rust modules and crates into our Application Firmware (via sneaky substitution of the rust_app and rust_libcore libraries). The main() function is defined in Rust, in fact.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_191.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_191.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_191.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_191.markups.0":{"type":"CODE","start":183,"end":191,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_191.markups.1":{"type":"CODE","start":196,"end":208,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_191.markups.2":{"type":"CODE","start":225,"end":231,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_192":{"id":"e6988001357_192","name":"7318","type":"P","href":null,"layout":null,"metadata":null,"text":"But we haven’t seen Rust in action while creating our iBeacon. How can we be sure that Rust is indeed running properly on our nRF52?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_192.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_192.markups.0":{"type":"EM","start":63,"end":132,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_193":{"id":"e6988001357_193","name":"ecb3","type":"P","href":null,"layout":null,"metadata":null,"text":"We’ll prove that by polling a Simulated Mynewt Sensor with Rust! Here how we do that…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_193.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_193.markups.0":{"type":"STRONG","start":20,"end":63,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_194":{"id":"e6988001357_194","name":"9e9e","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Very first thing in any Mynewt Application: Call sysinit(). From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Flib.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_194.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_194.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_194.markups.0":{"type":"A","start":65,"end":150,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Flib.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:e30990e06ea216f3d0b0b83f55638273":{"id":"e30990e06ea216f3d0b0b83f55638273","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_194.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:e30990e06ea216f3d0b0b83f55638273","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_195":{"id":"e6988001357_195","name":"8e2f","type":"P","href":null,"layout":null,"metadata":null,"text":"Our main() function is defined in the Rust module rust\u002Fapp\u002Fsrc\u002Flib.rs. The first thing that happens in main(): Call sysinit() to initialise the Mynewt libraries and drivers. (Mynewt programs in C also call sysinit() at startup)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_195.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_195.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_195.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_195.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_195.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_195.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_195.markups.0":{"type":"CODE","start":4,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_195.markups.1":{"type":"CODE","start":50,"end":69,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_195.markups.2":{"type":"CODE","start":103,"end":109,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_195.markups.3":{"type":"CODE","start":116,"end":125,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_195.markups.4":{"type":"CODE","start":206,"end":215,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_195.markups.5":{"type":"A","start":50,"end":69,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Flib.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_196":{"id":"e6988001357_196","name":"fd37","type":"P","href":null,"layout":null,"metadata":null,"text":"On the nRF52, sysinit() initialises the 2.4 GHz Radio Transceiver and the Stub Temperature Sensor. We’ll talk about this simulated temperature sensor in a while.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_196.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_196.markups.0":{"type":"CODE","start":14,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_197":{"id":"e6988001357_197","name":"e804","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Start polling the simulated temperature sensor. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Flib.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_197.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_197.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_197.markups.0":{"type":"A","start":53,"end":138,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Flib.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:89ef6837333a26121e8c78ada8adc3e5":{"id":"89ef6837333a26121e8c78ada8adc3e5","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_197.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:89ef6837333a26121e8c78ada8adc3e5","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_198":{"id":"e6988001357_198","name":"b467","type":"P","href":null,"layout":null,"metadata":null,"text":"Remember we said that Mynewt programs are designed to be portable across microcontrollers? The Rust-Mynewt application we’re studying now actually runs fine on STM32 F103 (Blue Pill) and L476 microcontrollers… But they run a little differently.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_199":{"id":"e6988001357_199","name":"c094","type":"P","href":null,"layout":null,"metadata":null,"text":"On STM32 microcontrollers, our Rust application polls the onboard temperature sensor every 10 seconds and transmits the temperature data to a server (via an NB-IoT module connected to the microcontroller).","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_200":{"id":"e6988001357_200","name":"7c9a","type":"P","href":null,"layout":null,"metadata":null,"text":"On the nRF52 we won’t be transmitting the sensor data to a server, so the code to start the Server Transport has been commented out (for now).","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_201":{"id":"e6988001357_201","name":"a445","type":"P","href":null,"layout":null,"metadata":null,"text":"Next, we call start_sensor_listener() (defined in our application module app_sensor.rs) to begin polling the simulated temperature sensor every 10 seconds.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_201.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_201.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_201.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_201.markups.0":{"type":"CODE","start":14,"end":37,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_201.markups.1":{"type":"CODE","start":73,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_201.markups.2":{"type":"A","start":73,"end":86,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_202":{"id":"e6988001357_202","name":"c02f","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Start broadcasting as iBeacon. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Flib.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_202.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_202.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_202.markups.0":{"type":"A","start":36,"end":121,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Flib.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:ab1194e77b12b3bb96a2b54b62d03809":{"id":"ab1194e77b12b3bb96a2b54b62d03809","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_202.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:ab1194e77b12b3bb96a2b54b62d03809","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_203":{"id":"e6988001357_203","name":"7105","type":"P","href":null,"layout":null,"metadata":null,"text":"Remember our C function start_ble() that initiates the iBeacon broadcasting? This is how we call start_ble() from main(). It needs to be tagged as unsafe because to the Rust Compiler, all C functions are risky and could potentially cause problems (memory corruption, crashing, …) The unsafe tag will be removed once we create a safe and proper Rust Wrapper for NimBLE.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_203.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_203.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_203.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_203.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_203.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_203.markups.0":{"type":"CODE","start":24,"end":35,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_203.markups.1":{"type":"CODE","start":97,"end":108,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_203.markups.2":{"type":"CODE","start":114,"end":120,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_203.markups.3":{"type":"CODE","start":147,"end":153,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_203.markups.4":{"type":"CODE","start":284,"end":290,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_204":{"id":"e6988001357_204","name":"1f71","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Mynewt Event Loop. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Flib.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_204.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_204.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_204.markups.0":{"type":"A","start":24,"end":109,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Flib.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:b1940ac115a7c9c6a0fb38cd16c05be6":{"id":"b1940ac115a7c9c6a0fb38cd16c05be6","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_204.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:b1940ac115a7c9c6a0fb38cd16c05be6","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_205":{"id":"e6988001357_205","name":"69f0","type":"P","href":null,"layout":null,"metadata":null,"text":"At the end of the main() function we have a standard Mynewt Event Loop to handle Mynewt system events. (Mynewt programs in C also have this Mynewt Event Loop). Without this Event Loop, the NimBLE functions will never get any processing done.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_205.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_205.markups.0":{"type":"CODE","start":18,"end":24,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_206":{"id":"e6988001357_206","name":"4258","type":"H3","href":null,"layout":null,"metadata":null,"text":"Mynewt Sensor Framework, Enhanced With Rust","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_207":{"id":"e6988001357_207","name":"e0b1","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s look at start_sensor_listener(), defined in our application module app_sensor.rs...","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_207.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_207.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_207.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_207.markups.0":{"type":"CODE","start":14,"end":37,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_207.markups.1":{"type":"CODE","start":73,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_207.markups.2":{"type":"A","start":73,"end":86,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_208":{"id":"e6988001357_208","name":"2a15","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Define the name of the Stub Temperature Sensor and the polling interval. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_208.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_208.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_208.markups.0":{"type":"A","start":78,"end":170,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:18d940d3e87c16d2e6eeec1b6be88db0":{"id":"18d940d3e87c16d2e6eeec1b6be88db0","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_208.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:18d940d3e87c16d2e6eeec1b6be88db0","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_209":{"id":"e6988001357_209","name":"275e","type":"P","href":null,"layout":null,"metadata":null,"text":"At the top of app_sensor.rs we define some constants for polling the sensor.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_209.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_209.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_209.markups.0":{"type":"CODE","start":14,"end":27,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_209.markups.1":{"type":"A","start":14,"end":27,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_210":{"id":"e6988001357_210","name":"ef6d","type":"P","href":null,"layout":null,"metadata":null,"text":"SENSOR_DEVICE is defined as temp_stub_0, which refers to the Stub Temperature Sensor. The Stub Temperature Sensor works like a regular Mynewt Temperature Sensor… Except that it always returns a hardcoded raw temperature value 1757. Useful for testing sensor applications without connecting a real temperature sensor. (On STM32 this program polls the actual onboard temperature sensor)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_210.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_210.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_210.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_210.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_210.markups.0":{"type":"CODE","start":0,"end":13,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_210.markups.1":{"type":"CODE","start":28,"end":39,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_210.markups.2":{"type":"CODE","start":226,"end":230,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_210.markups.3":{"type":"STRONG","start":61,"end":84,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_211":{"id":"e6988001357_211","name":"7d2c","type":"P","href":null,"layout":null,"metadata":null,"text":"SENSOR_POLL_TIME is set to 10,000 milliseconds, or 10 seconds. We’ll be asking Mynewt to poll our simulated temperature sensor every 10 seconds.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_211.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_211.markups.0":{"type":"CODE","start":0,"end":16,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_212":{"id":"e6988001357_212","name":"5e64","type":"P","href":null,"layout":null,"metadata":null,"text":"What’s Strn? This is a custom string type that I have defined to make passing of strings safer and more efficient. Mynewt APIs require all strings to be null-terminated; Rust strings don’t need the terminating null.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_212.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_212.markups.0":{"type":"CODE","start":7,"end":11,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_213":{"id":"e6988001357_213","name":"36ba","type":"P","href":null,"layout":null,"metadata":null,"text":"If we pass strings back and forth between Rust and the Mynewt APIs, we could end up creating many clones of the same string, with and without terminating nulls. Or worse… Mynewt could crash because some Rust code has incorrectly passed in a string that’s not null-terminated. So I have wrapped the Mynewt APIs to accept the safer, efficient Strn type that’s always null-terminated.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_213.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_213.markups.0":{"type":"CODE","start":341,"end":345,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_214":{"id":"e6988001357_214","name":"a439","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Fetch the Stub Temperature Sensor by name. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_214.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_214.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_214.markups.0":{"type":"A","start":48,"end":140,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:5d0cef4095c605de963acd97f3aec1f2":{"id":"5d0cef4095c605de963acd97f3aec1f2","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_214.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:5d0cef4095c605de963acd97f3aec1f2","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_215":{"id":"e6988001357_215","name":"4a3a","type":"P","href":null,"layout":null,"metadata":null,"text":"Here’s the first clue that Mynewt has an awesome Sensor Framework… Mynewt keeps track of all installed sensors by name. sensor_mgr::find_bydevname() is the Mynewt API that returns a list of sensors (i.e. a Sensor Iterator) that match a name (temp_stub_0).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_215.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_215.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_215.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_215.markups.0":{"type":"CODE","start":120,"end":148,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_215.markups.1":{"type":"CODE","start":242,"end":253,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_215.markups.2":{"type":"STRONG","start":49,"end":65,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_216":{"id":"e6988001357_216","name":"8b52","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Set the polling interval for the Stub Temperature Sensor. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_216.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_216.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_216.markups.0":{"type":"A","start":63,"end":155,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:9757d1001683107fad61f81ff6410a1d":{"id":"9757d1001683107fad61f81ff6410a1d","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_216.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:9757d1001683107fad61f81ff6410a1d","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_217":{"id":"e6988001357_217","name":"3168","type":"P","href":null,"layout":null,"metadata":null,"text":"Mynewt recognises every sensor and the type of data that the sensor produces. So let’s ask Mynewt to poll the sensor on our behalf!","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_218":{"id":"e6988001357_218","name":"d548","type":"P","href":null,"layout":null,"metadata":null,"text":"By calling sensor::set_poll_rate_ms() we’re kindly asking Mynewt to poll our simulated temperature sensor every 10 seconds. Truly awesome!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_218.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_218.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_218.markups.0":{"type":"CODE","start":11,"end":37,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_218.markups.1":{"type":"EM","start":124,"end":138,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_219":{"id":"e6988001357_219","name":"40c9","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Create a Sensor Listener. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_219.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_219.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_219.markups.0":{"type":"A","start":31,"end":123,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:2bd85654c5e1dce3fe3d5ee5eb05a777":{"id":"2bd85654c5e1dce3fe3d5ee5eb05a777","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_219.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:2bd85654c5e1dce3fe3d5ee5eb05a777","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_220":{"id":"e6988001357_220","name":"1fbd","type":"P","href":null,"layout":null,"metadata":null,"text":"Now we fill in the nitty-gritty polling details… What shall we do with the temperature sensor data after Mynewt has obtained it? Here we ask Mynewt to call our Rust function aggregate_sensor_data() with the sensor data.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_220.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_220.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_220.markups.0":{"type":"CODE","start":174,"end":197,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_220.markups.1":{"type":"EM","start":48,"end":128,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_221":{"id":"e6988001357_221","name":"2fb5","type":"P","href":null,"layout":null,"metadata":null,"text":"aggregate_sensor_data() is known as a Sensor Listener Function… It’s a function that listens for updated sensor data and acts on the data.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_221.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_221.markups.0":{"type":"CODE","start":0,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_222":{"id":"e6988001357_222","name":"1aaa","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Register the Sensor Listener with Mynewt Sensor Framework. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_222.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_222.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_222.markups.0":{"type":"A","start":64,"end":156,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_sensor.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:5344a66f61be127d2ade70106f93b77b":{"id":"5344a66f61be127d2ade70106f93b77b","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_222.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:5344a66f61be127d2ade70106f93b77b","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_223":{"id":"e6988001357_223","name":"f399","type":"P","href":null,"layout":null,"metadata":null,"text":"To activate the Sensor Listener Function, we call the Mynewt API sensor::register_listener(). Mynewt will begin polling the simulated temperature sensor every 10 seconds and call aggregate_sensor_data() with the polled temperature data.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_223.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_223.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_223.markups.0":{"type":"CODE","start":65,"end":92,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_223.markups.1":{"type":"CODE","start":179,"end":202,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_224":{"id":"e6988001357_224","name":"4178","type":"P","href":null,"layout":null,"metadata":null,"text":"Polling a sensor in Mynewt is really so easy… in C and in Rust! That’s possible only because Mynewt has a well-designed Sensor Framework.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_224.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_224.markups.0":{"type":"EM","start":0,"end":62,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_225":{"id":"e6988001357_225","name":"c3e6","type":"H3","href":null,"layout":null,"metadata":null,"text":"Handle Sensor Data With Rust","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_226":{"id":"e6988001357_226","name":"fc7b","type":"P","href":null,"layout":null,"metadata":null,"text":"Remember that we don’t transmit sensor data to a server in the nRF52 version of the Rust application (unlike the STM32 version). But we’ll take a peek to understand how our sensor data could have been easily packaged and delivered to an IoT server.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_227":{"id":"e6988001357_227","name":"b07f","type":"P","href":null,"layout":null,"metadata":null,"text":"Earlier we asked Mynewt to call aggregate_sensor_data() whenever it has polled our simulated temperature sensor. Let’s see what happens inside aggregate_sensor_data()…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_227.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_227.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_227.markups.0":{"type":"CODE","start":32,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_227.markups.1":{"type":"CODE","start":143,"end":166,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_228":{"id":"e6988001357_228","name":"0a9a","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Aggregate temperature data with GPS data. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_network.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_228.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_228.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_228.markups.0":{"type":"A","start":47,"end":140,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_network.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:b09a40b73005b8024f05b796c12c91c8":{"id":"b09a40b73005b8024f05b796c12c91c8","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_228.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:b09a40b73005b8024f05b796c12c91c8","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_229":{"id":"e6988001357_229","name":"ae4a","type":"P","href":null,"layout":null,"metadata":null,"text":"On the STM32 L476 microcontroller our Rust application not only handles temperature sensor data… It handles GPS latitude \u002F longitude coordinates as well! The application polls the GPS module for the current geolocation (just like any Mynewt sensor) and attaches the geolocation to the temperature data before transmitting to the server.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_229.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_229.markups.0":{"type":"EM","start":108,"end":153,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_230":{"id":"e6988001357_230","name":"4da2","type":"P","href":null,"layout":null,"metadata":null,"text":"On nRF52 we’ll settle for less… aggregate_sensor_data() will simply transmit the temperature data without attaching any GPS coordinates. It calls send_sensor_data() to transmit the temperature data…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_230.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_230.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_230.markups.0":{"type":"CODE","start":32,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_230.markups.1":{"type":"CODE","start":146,"end":164,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_231":{"id":"e6988001357_231","name":"b719","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Send sensor data to CoAP server. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_network.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_231.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_231.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_231.markups.0":{"type":"A","start":38,"end":131,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_network.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:d2b9ea91ea9ca07a08b0f7a54d5f3d77":{"id":"d2b9ea91ea9ca07a08b0f7a54d5f3d77","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_231.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:d2b9ea91ea9ca07a08b0f7a54d5f3d77","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_232":{"id":"e6988001357_232","name":"790b","type":"P","href":null,"layout":null,"metadata":null,"text":"This sounds incredulous… But send_sensor_data() was designed to transmit any sensor data in any format that will be understood by our server!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_232.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_232.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_232.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_232.markups.0":{"type":"CODE","start":29,"end":47,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_232.markups.1":{"type":"EM","start":73,"end":88,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_232.markups.2":{"type":"EM","start":92,"end":102,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_233":{"id":"e6988001357_233","name":"26ab","type":"P","href":null,"layout":null,"metadata":null,"text":"For example, the code here works perfectly for transmitting temperature data to the server at thethings.io. This server accepts CoAP Messages with a JSON Payload that contains the geolocated sensor data.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_234":{"id":"e6988001357_234","name":"5ce1","type":"P","href":null,"layout":null,"metadata":null,"text":"Yet strangely, send_sensor_data() doesn’t contain any code that’s specific to thethings.io… The sensor data appears to transform itself magically for thethings.io. How is this possible? We’ll learn in a while…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_234.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_234.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_234.markups.0":{"type":"CODE","start":15,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_234.markups.1":{"type":"EM","start":91,"end":162,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_235":{"id":"e6988001357_235","name":"bfe5","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Compose an outgoing CoAP message. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_network.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_235.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_235.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_235.markups.0":{"type":"A","start":39,"end":132,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_network.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:85b161856f2c5c3829fa0ff6d8d57b67":{"id":"85b161856f2c5c3829fa0ff6d8d57b67","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_235.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:85b161856f2c5c3829fa0ff6d8d57b67","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_236":{"id":"e6988001357_236","name":"e72b","type":"P","href":null,"layout":null,"metadata":null,"text":"This is the end of the road for nRF52… We haven’t started a Network Transport (like NB-IoT) that will deliver the sensor data to a server, so nRF52 silently drops the sensor data here.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_237":{"id":"e6988001357_237","name":"ece0","type":"P","href":null,"layout":null,"metadata":null,"text":"For STM32, the Rusty trail continues…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_238":{"id":"e6988001357_238","name":"45d9","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Compose and transmit the JSON Payload containing the temperature and GPS data. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_network.rs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_238.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_238.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_238.markups.0":{"type":"A","start":84,"end":177,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Frust\u002Fapp\u002Fsrc\u002Fapp_network.rs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:04b3b308f277584787df14f205c1d5c7":{"id":"04b3b308f277584787df14f205c1d5c7","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_238.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:04b3b308f277584787df14f205c1d5c7","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_239":{"id":"e6988001357_239","name":"973e","type":"P","href":null,"layout":null,"metadata":null,"text":"Believe it (or not)… That’s all the code we need to transform our geolocated sensor data into this complicated nested CoAP + JSON format mandated by thethings.io…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_239.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_239.markups.0":{"type":"EM","start":21,"end":48,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_240":{"id":"e6988001357_240","name":"7f4a","type":"PRE","href":null,"layout":null,"metadata":null,"text":"{ \"values\": [\n   { \"key\"  : \"t\",      \n     \"value\": 1757, \n     \"geo\"  : { \"lat\": 1.2701, \"long\": 103.8078 }},","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_241":{"id":"e6988001357_241","name":"295c","type":"PRE","href":null,"layout":null,"metadata":null,"text":"   { \"key\"  : \"device\",\n     \"value\": \"l476,bf39a9607e1187f6f3d80d6dd43\" }\n]}","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_242":{"id":"e6988001357_242","name":"eae0","type":"P","href":null,"layout":null,"metadata":null,"text":"The secret of the sensor data transformation? It’s in the coap!() macro!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_242.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_242.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_242.markups.0":{"type":"CODE","start":58,"end":65,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_242.markups.1":{"type":"EM","start":0,"end":45,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_243":{"id":"e6988001357_243","name":"8866","type":"P","href":null,"layout":null,"metadata":null,"text":"Rust Declarative Macros are incredibly powerful… A Rust macro can transform a simple JSON object into a complicated nested CoAP + JSON monster. The coap!() macro hides the details of the data transformation. That’s why we can transmit any sensor data in any format that will be understood by the server… Just let the coap!() macro handle it!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_243.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_243.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_243.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_243.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_243.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_243.markups.0":{"type":"CODE","start":148,"end":155,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_243.markups.1":{"type":"CODE","start":317,"end":324,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_243.markups.2":{"type":"STRONG","start":0,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_243.markups.3":{"type":"EM","start":235,"end":250,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_243.markups.4":{"type":"EM","start":254,"end":264,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_244":{"id":"e6988001357_244","name":"b4b7","type":"P","href":null,"layout":null,"metadata":null,"text":"Thanks to Mynewt, the transmission of sensor data is highly efficient. The CoAP Message is transmitted (over NB-IoT) by a background task in Mynewt. So our application may continue processing sensor data without waiting for the transmission to complete.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_245":{"id":"e6988001357_245","name":"9dc3","type":"P","href":null,"layout":null,"metadata":null,"text":"Mynewt and Rust are perfectly paired for building safe and efficient embedded systems!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_245.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_245.markups.0":{"type":"EM","start":0,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_246":{"id":"e6988001357_246","name":"1b07","type":"H3","href":null,"layout":null,"metadata":null,"text":"Watch Rust Run On nRF52","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_247":{"id":"e6988001357_247","name":"ff21","type":"P","href":null,"layout":null,"metadata":null,"text":"Ready to watch Rust run on nRF52? All you need is an nRF52 development board and an ST-Link V2 adapter.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_247.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_247.markups.0":{"type":"A","start":84,"end":102,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fwww.aliexpress.com\u002Fwholesale?catId=0&initiative_id=SB_20180924134644&SearchText=st-link+v2&switch_new_app=y","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_248":{"id":"e6988001357_248","name":"72aa","type":"P","href":null,"layout":null,"metadata":null,"text":"Follow the instructions in this article to flash and debug your nRF52.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_248.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_248.markups.0":{"type":"A","start":0,"end":39,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Finstall-apache-mynewt-and-embedded-rust-for-nrf52-and-visual-studio-code-on-windows-and-macos-94741412b502?source=friends_link&sk=3d368af3fe4c758b0ef725809d8504d2","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_249":{"id":"e6988001357_249","name":"9c62","type":"P","href":null,"layout":null,"metadata":null,"text":"The Output Log in Visual Studio Code should look like this…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_250":{"id":"e6988001357_250","name":"eda8","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Output Log from https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Flogs\u002Fstandalone-node.log","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_250.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_250.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_250.markups.0":{"type":"A","start":16,"end":106,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Flogs\u002Fstandalone-node.log","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:341e3e9f9d5843307118d42c572c1267":{"id":"341e3e9f9d5843307118d42c572c1267","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_250.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:341e3e9f9d5843307118d42c572c1267","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_251":{"id":"e6988001357_251","name":"a646","type":"P","href":null,"layout":null,"metadata":null,"text":"Here’s a video demo of the Application Build and Debug on nRF52…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_252":{"id":"e6988001357_252","name":"3aba","type":"IFRAME","href":null,"layout":"OUTSET_CENTER","metadata":null,"text":"Video demo of the Application Build and Debug on nRF52","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_252.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:2faf64c422f81de2bf3588fc5b6f1a09":{"id":"2faf64c422f81de2bf3588fc5b6f1a09","iframeSrc":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fcdn.embedly.com\u002Fwidgets\u002Fmedia.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FwqimbvJeGMo%3Ffeature%3Doembed&url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DwqimbvJeGMo&image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FwqimbvJeGMo%2Fhqdefault.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=youtube","iframeHeight":480,"iframeWidth":640,"title":"nRF52 with Embedded Rust and Apache Mynewt","__typename":"MediaResource"},"$Paragraph:e6988001357_252.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:2faf64c422f81de2bf3588fc5b6f1a09","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_253":{"id":"e6988001357_253","name":"60a4","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*13IqxESfNtG70jLNfSqpdQ.png","typename":"ImageMetadata"},"text":"Polling sensors in Mynewt: Rust vs C","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*13IqxESfNtG70jLNfSqpdQ.png":{"id":"1*13IqxESfNtG70jLNfSqpdQ.png","originalHeight":3549,"originalWidth":3556,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_254":{"id":"e6988001357_254","name":"4799","type":"H3","href":null,"layout":null,"metadata":null,"text":"Why Embedded Rust Instead of Embedded C?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_255":{"id":"e6988001357_255","name":"60a5","type":"P","href":null,"layout":null,"metadata":null,"text":"Take a look at the above Rust code that’s running on our nRF52 for polling the simulated temperature sensor. Compare that with the equivalent C code.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_256":{"id":"e6988001357_256","name":"a51e","type":"P","href":null,"layout":null,"metadata":null,"text":"Why is Rust better than C?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_256.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_256.markups.0":{"type":"EM","start":0,"end":26,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_257":{"id":"e6988001357_257","name":"7df7","type":"P","href":null,"layout":null,"metadata":null,"text":"Yes the Rust code looks more verbose than C… But that’s a good thing! C programming is so terse that it makes C difficult to learn. Experienced C programmers (like me) are indeed a dying breed.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_258":{"id":"e6988001357_258","name":"545f","type":"P","href":null,"layout":null,"metadata":null,"text":"Rust uses sensible keywords (like fn to denote functions, let for declaring variables), making it easier to learn. Note also that the Rust code doesn’t use any pointers. If you look at the C code, it’s really easy to misuse pointers like listen_sensor and listener… causing more problems and frustration to learners.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_258.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_258.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_258.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_258.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_258.markups.0":{"type":"CODE","start":34,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_258.markups.1":{"type":"CODE","start":58,"end":61,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_258.markups.2":{"type":"CODE","start":238,"end":251,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_258.markups.3":{"type":"CODE","start":256,"end":264,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_259":{"id":"e6988001357_259","name":"dd13","type":"P","href":null,"layout":null,"metadata":null,"text":"Error handling in Rust is done elegantly… We use the ? operator to catch errors and exit early. Compare that with the unsightly assert() in C. What if we forget to check the return code in C? Strange bugs ensue.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_259.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_259.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_259.markups.0":{"type":"CODE","start":53,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_259.markups.1":{"type":"CODE","start":128,"end":136,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_260":{"id":"e6988001357_260","name":"9e4c","type":"P","href":null,"layout":null,"metadata":null,"text":"Why not code EVERYTHING in Rust… Including Mynewt OS and NimBLE?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_260.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_260.markups.0":{"type":"EM","start":0,"end":64,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_261":{"id":"e6988001357_261","name":"0db9","type":"P","href":null,"layout":null,"metadata":null,"text":"There’s an amazing community hard at work creating Rust on Bare Metal. But it will take a while to get it running and tested with real-world applications on nRF52, nRF51, STM32 F103, STM32 F476, RISC-V, …","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_261.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_261.markups.0":{"type":"A","start":51,"end":69,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Fnrf-rs\u002Fnrf52-hal","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_262":{"id":"e6988001357_262","name":"ca8d","type":"P","href":null,"layout":null,"metadata":null,"text":"I’m solving this problem with a different approach by applying Lean Principles…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_262.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_262.markups.0":{"type":"STRONG","start":63,"end":78,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_263":{"id":"e6988001357_263","name":"5a8a","type":"P","href":null,"layout":null,"metadata":null,"text":"You, the reader, the learner, are my Customer. You wish to build a safe and efficient Embedded Application (hopefully in Rust). What Rust APIs shall I provide you?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_263.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_263.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_263.markups.0":{"type":"EM","start":0,"end":45,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_263.markups.1":{"type":"EM","start":128,"end":163,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_264":{"id":"e6988001357_264","name":"a5be","type":"P","href":null,"layout":null,"metadata":null,"text":"I could build a Rust OS from scratch based on Bare Metal Rust, and offer you a Native Rust API. But that’s not very Lean.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_265":{"id":"e6988001357_265","name":"28d1","type":"P","href":null,"layout":null,"metadata":null,"text":"Or I could take an embedded OS that’s already available, say Mynewt or Zephyr or FreeRTOS. Wrap it up with a clean Rust API, and give that Wrapped Rust API to you instead. You wouldn’t know the difference between the Native and Wrapped Rust APIs! (Unless I told you)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_265.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_265.markups.0":{"type":"EM","start":171,"end":246,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_266":{"id":"e6988001357_266","name":"c5b0","type":"P","href":null,"layout":null,"metadata":null,"text":"The Wrapped Rust API won’t be perfect, because as you create new gadgets with the API, you may find the API cumbersome or hard to use. So I’ll take this opportunity to evolve the API iteratively, till we get the Perfect Embedded Rust API. (That’s how I evolved the Mynewt Sensor Framework with Rust Iterators)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_267":{"id":"e6988001357_267","name":"af04","type":"P","href":null,"layout":null,"metadata":null,"text":"Now we’re ready to revamp the OS with Rust and restructure it to implement the Perfect Embedded Rust API in the safest and most efficient way possible.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_268":{"id":"e6988001357_268","name":"79a4","type":"P","href":null,"layout":null,"metadata":null,"text":"This, I think, is the right approach for solving the Embedded Rust problem. And it needs to happen soon (based on Mynewt or Zephyr or FreeRTOS or …) so that we may quickly move embedded coders away from unsafe C and onto Rust.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_269":{"id":"e6988001357_269","name":"c9e5","type":"H3","href":null,"layout":null,"metadata":null,"text":"Rust Wrappers for NimBLE","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_270":{"id":"e6988001357_270","name":"2bd3","type":"P","href":null,"layout":null,"metadata":null,"text":"Where are the Rust Wrappers for the NimBLE API? Since the Mynewt Sensor Framework already has Rust Wrappers, it shouldn’t be too difficult to create Rust Wrappers for NimBLE right?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_270.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_270.markups.0":{"type":"EM","start":0,"end":47,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_271":{"id":"e6988001357_271","name":"1b2e","type":"P","href":null,"layout":null,"metadata":null,"text":"That’s work in progress. With the Mynewt Sensor Framework I understand clearly how the API is used to read and poll sensors under various situations. The Rust Wrappers for the Mynewt Sensor Framework were designed for these use cases. With the NimBLE API… The use cases are still fuzzy to me.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_271.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_271.markups.0":{"type":"EM","start":0,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_272":{"id":"e6988001357_272","name":"2fb8","type":"P","href":null,"layout":null,"metadata":null,"text":"Some NimBLE applications appear to have lots of repetitive code, like this Bluetooth Mesh application. They could be greatly simplified with Rust Macros. Just like the coap!() Rust Macro we used for composing CoAP messages.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_272.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_272.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_272.markups.0":{"type":"CODE","start":168,"end":175,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_272.markups.1":{"type":"A","start":65,"end":101,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Fapache\u002Fmynewt-nimble\u002Fblob\u002Fmaster\u002Fapps\u002Fblemesh_models_example_2\u002Fsrc\u002Fdevice_composition.c","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_273":{"id":"e6988001357_273","name":"d127","type":"P","href":null,"layout":null,"metadata":null,"text":"If you would like to help out with the design of the Rust Wrappers for NimBLE, drop me a note!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_273.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_273.markups.0":{"type":"EM","start":0,"end":94,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_274":{"id":"e6988001357_274","name":"26e5","type":"H3","href":null,"layout":null,"metadata":null,"text":"What’s Next?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_275":{"id":"e6988001357_275","name":"2b30","type":"P","href":null,"layout":null,"metadata":null,"text":"Coding the nRF52 was an incredible experience… I’m finishing this tutorial only two weeks after touching nRF52 for the very first time!","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_276":{"id":"e6988001357_276","name":"afb8","type":"P","href":null,"layout":null,"metadata":null,"text":"I got big plans for nRF52 in upcoming tutorials…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_277":{"id":"e6988001357_277","name":"92db","type":"P","href":null,"layout":null,"metadata":null,"text":"1️⃣ Bluetooth Mesh: What if we had a mesh network of nRF52 nodes that can relay IoT sensor data to nearby nodes? One of these nodes could be a WiFi gateway (based on ESP8266) that forwards the sensor data to an IoT server like thethings.io.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_277.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_277.markups.0":{"type":"STRONG","start":4,"end":18,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_278":{"id":"e6988001357_278","name":"8a54","type":"P","href":null,"layout":null,"metadata":null,"text":"This will be an interesting application of Bluetooth Mesh, which is already supported in NimBLE. Here is the article…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_278.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_278.markups.0":{"type":"A","start":68,"end":95,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmynewt.apache.org\u002Flatest\u002Fnetwork\u002Fdocs\u002Fmesh\u002Findex.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_279":{"id":"e6988001357_279","name":"cb2b","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"Bluetooth Mesh with nRF52 and Apache Mynewt\nSuppose we have four light bulbs in our home, each with its own on\u002Foff switch…medium.com","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_279.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_279.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_279.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_279.mixtapeMetadata","typename":"MixtapeMetadata"}},"Paragraph:e6988001357_279.markups.0":{"type":"A","start":0,"end":132,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbluetooth-mesh-with-nrf52-and-apache-mynewt-44823407c471","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_279.markups.1":{"type":"STRONG","start":0,"end":43,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_279.markups.2":{"type":"EM","start":44,"end":122,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Paragraph:e6988001357_279.mixtapeMetadata":{"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbluetooth-mesh-with-nrf52-and-apache-mynewt-44823407c471","thumbnailImageId":"1*ceITcv2j-Rexz_1r6AHp1g.png","mediaResourceId":"1*ceITcv2j-Rexz_1r6AHp1g.png","__typename":"MixtapeMetadata"},"Paragraph:e6988001357_280":{"id":"e6988001357_280","name":"1a9d","type":"P","href":null,"layout":null,"metadata":null,"text":"2️⃣ PineTime Smart Watch: PineTime is an upcoming smart watch that’s powered by nRF52. What if we could run Rust and Mynewt OS on this watch… And allow watch apps to be built easily with Visual Rust?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_280.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_280.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_280.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_280.markups.0":{"type":"A","start":26,"end":34,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fwww.cnx-software.com\u002F2019\u002F09\u002F25\u002Fpinetime-smartwatch-specifications-released-availability-scheduled-for-h1-2020\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_280.markups.1":{"type":"A","start":187,"end":198,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fblog.usejournal.com\u002Fvisual-embedded-rust-programming-with-visual-studio-code-1bc1262e398c?source=friends_link&sk=222de63e45993aacd0db5a2e4b1f33c7","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_280.markups.2":{"type":"STRONG","start":4,"end":24,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_281":{"id":"e6988001357_281","name":"c32b","type":"P","href":null,"layout":null,"metadata":null,"text":"What if the watches could form a mesh and relay each wearer’s vital signs (from the heart rate sensor)? And alert you if any of your loved ones are uncontactable through the mesh network? No more missing kids \u002F grandparents \u002F friends \u002F hikers \u002F swimmers \u002F pets \u002F …","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_282":{"id":"e6988001357_282","name":"4df5","type":"P","href":null,"layout":null,"metadata":null,"text":"“Herding” sounds like a good name for such Wearable Mesh apps. I have received the PineTime developer kit… Here’s my review!","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_283":{"id":"e6988001357_283","name":"7277","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"Sneak Peek of PineTime Smart Watch… And why it’s perfect for teaching IoT\nI’m one of the lucky few who received the developer preview version of the PineTime Smart Watch by Pine64. (My official…medium.com","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_283.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_283.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_283.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_283.mixtapeMetadata","typename":"MixtapeMetadata"}},"Paragraph:e6988001357_283.markups.0":{"type":"A","start":0,"end":204,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_283.markups.1":{"type":"STRONG","start":0,"end":73,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_283.markups.2":{"type":"EM","start":74,"end":194,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Paragraph:e6988001357_283.mixtapeMetadata":{"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002Fswlh\u002Fsneak-peek-of-pinetime-smart-watch-and-why-its-perfect-for-teaching-iot-81b74161c159","thumbnailImageId":"1*1oFvRxqOf1kUmCAxPaJXpw.jpeg","mediaResourceId":"1*1oFvRxqOf1kUmCAxPaJXpw.jpeg","__typename":"MixtapeMetadata"},"Paragraph:e6988001357_284":{"id":"e6988001357_284","name":"351b","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"Building a Rust Driver for PineTime’s Touch Controller\nPretend you’re my IoT student. I give you a PineTime Smart Watch and challenge you to “Make it work… Especially the…medium.com","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_284.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_284.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_284.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_284.mixtapeMetadata","typename":"MixtapeMetadata"}},"Paragraph:e6988001357_284.markups.0":{"type":"A","start":0,"end":181,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_284.markups.1":{"type":"STRONG","start":0,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_284.markups.2":{"type":"EM","start":55,"end":171,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Paragraph:e6988001357_284.mixtapeMetadata":{"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fbuilding-a-rust-driver-for-pinetimes-touch-controller-cbc1a5d5d3e9","thumbnailImageId":"1*P9NuG-tqsK3YKVo97v7PRA.png","mediaResourceId":"1*P9NuG-tqsK3YKVo97v7PRA.png","__typename":"MixtapeMetadata"},"Paragraph:e6988001357_285":{"id":"e6988001357_285","name":"7fff","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*9aGZS4gm7eMI75UkBp3qTQ.jpeg","typename":"ImageMetadata"},"text":"nRF52 connected to Raspberry Pi 4","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*9aGZS4gm7eMI75UkBp3qTQ.jpeg":{"id":"1*9aGZS4gm7eMI75UkBp3qTQ.jpeg","originalHeight":3486,"originalWidth":4958,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_286":{"id":"e6988001357_286","name":"1285","type":"H3","href":null,"layout":null,"metadata":null,"text":"Advanced Topic: Remove nRF52 Flash Protection With Raspberry Pi","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_287":{"id":"e6988001357_287","name":"3747","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*8boOZaAaprSGlp__jSyrhA.png","typename":"ImageMetadata"},"text":"From “nRF52832 — Product Specification” https:\u002F\u002Finfocenter.nordicsemi.com\u002Fpdf\u002FnRF52832_PS_v1.0.pdf","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_287.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*8boOZaAaprSGlp__jSyrhA.png":{"id":"1*8boOZaAaprSGlp__jSyrhA.png","originalHeight":407,"originalWidth":714,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_287.markups.0":{"type":"A","start":40,"end":98,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Finfocenter.nordicsemi.com\u002Fpdf\u002FnRF52832_PS_v1.0.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_288":{"id":"e6988001357_288","name":"5fdf","type":"P","href":null,"layout":null,"metadata":null,"text":"Do you have problems flashing or debugging your nRF52? Here’s how you can fix it…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_289":{"id":"e6988001357_289","name":"9861","type":"P","href":null,"layout":null,"metadata":null,"text":"nRF52 has an Access Port Protection feature that locks the nRF52 flash ROM from any modification and prevents debugging. Access Port Protection is enabled in production devices, so that people can’t snoop into an nRF52 gadget and tamper with the ROM.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_289.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_289.markups.0":{"type":"STRONG","start":13,"end":35,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_290":{"id":"e6988001357_290","name":"871b","type":"P","href":null,"layout":null,"metadata":null,"text":"Some nRF52 development boards (including my EBYTE E73-TBB) are shipped with Access Port Protection enabled. Most developers use a J-LINK USB Programmer to remove the Access Port Protection, but I’ll show you how to use a Raspberry Pi (1, 2, 3 or 4) instead…","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_290.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_290.markups.0":{"type":"A","start":130,"end":136,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FSegger_Microcontroller_Systems#J-Link","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_291":{"id":"e6988001357_291","name":"2744","type":"P","href":null,"layout":null,"metadata":null,"text":"Connect your nRF52 board to a Raspberry Pi 1 \u002F 2 \u002F 3 \u002F 4 (powered off) as follows (refer to the photo above)…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_292":{"id":"e6988001357_292","name":"36e1","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"Connecting nRF52 to Raspberry Pi. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fswd-pi.ocd","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_292.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_292.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_292.markups.0":{"type":"A","start":39,"end":129,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fswd-pi.ocd","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:c85099c19b1b928341cc95daca594d59":{"id":"c85099c19b1b928341cc95daca594d59","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_292.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:c85099c19b1b928341cc95daca594d59","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_293":{"id":"e6988001357_293","name":"2964","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*F_VACb4U3aSs3W-kDvqI6A.png","typename":"ImageMetadata"},"text":"Connecting nRF52 to Raspberry Pi. Based on https:\u002F\u002Fpinout.xyz\u002F","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_293.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*F_VACb4U3aSs3W-kDvqI6A.png":{"id":"1*F_VACb4U3aSs3W-kDvqI6A.png","originalHeight":1324,"originalWidth":1010,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_293.markups.0":{"type":"A","start":43,"end":62,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fpinout.xyz\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_294":{"id":"e6988001357_294","name":"e388","type":"P","href":null,"layout":null,"metadata":null,"text":"Power on the Raspberry Pi. Open a common prompt on the Raspberry Pi. Enter into the command prompt…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_295":{"id":"e6988001357_295","name":"1577","type":"PRE","href":null,"layout":null,"metadata":null,"text":"# Build OpenOCD with CMSIS-DAP and GPIO support","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_296":{"id":"e6988001357_296","name":"3992","type":"PRE","href":null,"layout":null,"metadata":null,"text":"sudo apt install wget git autoconf libtool make pkg-config libusb-1.0-0 libusb-1.0-0-dev libhidapi-dev libftdi-dev telnet","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_297":{"id":"e6988001357_297","name":"9070","type":"PRE","href":null,"layout":null,"metadata":null,"text":"git clone https:\u002F\u002Fgithub.com\u002Fntfreak\u002Fopenocd","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_298":{"id":"e6988001357_298","name":"854c","type":"PRE","href":null,"layout":null,"metadata":null,"text":"cd openocd","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_299":{"id":"e6988001357_299","name":"a69c","type":"PRE","href":null,"layout":null,"metadata":null,"text":".\u002Fbootstrap","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_300":{"id":"e6988001357_300","name":"8174","type":"PRE","href":null,"layout":null,"metadata":null,"text":".\u002Fconfigure --enable-sysfsgpio --enable-bcm2835gpio --enable-cmsis-dap","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_301":{"id":"e6988001357_301","name":"1f2e","type":"PRE","href":null,"layout":null,"metadata":null,"text":"make","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_302":{"id":"e6988001357_302","name":"3aa7","type":"PRE","href":null,"layout":null,"metadata":null,"text":"cd ..","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_303":{"id":"e6988001357_303","name":"8b97","type":"PRE","href":null,"layout":null,"metadata":null,"text":"# Download the OpenOCD script\nwget https:\u002F\u002Fraw.githubusercontent.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fswd-pi.ocd","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_304":{"id":"e6988001357_304","name":"d5aa","type":"P","href":null,"layout":null,"metadata":null,"text":"Edit the downloaded swd-pi.ocd","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_304.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_304.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_304.markups.0":{"type":"CODE","start":20,"end":30,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_304.markups.1":{"type":"A","start":20,"end":30,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fswd-pi.ocd","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_305":{"id":"e6988001357_305","name":"93e9","type":"P","href":null,"layout":null,"metadata":null,"text":"Comment out the lines (insert # prefix) for bcm2835gpio_peripheral_base and bcm2835gpio_speed_coeffs under Pi 4","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_305.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_305.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_305.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_305.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_305.markups.0":{"type":"CODE","start":30,"end":31,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_305.markups.1":{"type":"CODE","start":44,"end":71,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_305.markups.2":{"type":"CODE","start":76,"end":100,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_305.markups.3":{"type":"CODE","start":107,"end":111,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_306":{"id":"e6988001357_306","name":"8c35","type":"P","href":null,"layout":null,"metadata":null,"text":"Uncomment the lines (remove # prefix) for bcm2835gpio_peripheral_base and bcm2835gpio_speed_coeffs for your model of Raspberry Pi: Pi 1 \u002F 2 \u002F 3 \u002F 4","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_306.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_306.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_306.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_306.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_306.markups.0":{"type":"CODE","start":28,"end":29,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_306.markups.1":{"type":"CODE","start":42,"end":69,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_306.markups.2":{"type":"CODE","start":74,"end":98,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_306.markups.3":{"type":"CODE","start":131,"end":147,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_307":{"id":"e6988001357_307","name":"6740","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"OpenOCD script. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fswd-pi.ocd","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_307.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_307.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_307.markups.0":{"type":"A","start":21,"end":111,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fswd-pi.ocd","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:44eeeb63a84220283a2227783cf796cd":{"id":"44eeeb63a84220283a2227783cf796cd","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_307.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:44eeeb63a84220283a2227783cf796cd","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_308":{"id":"e6988001357_308","name":"d9eb","type":"P","href":null,"layout":null,"metadata":null,"text":"Enter into the command prompt…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_309":{"id":"e6988001357_309","name":"8ddb","type":"PRE","href":null,"layout":null,"metadata":null,"text":"# Start OpenOCD\nsudo \u002Fhome\u002Fpi\u002Fopenocd\u002Fsrc\u002Fopenocd \\\n   -s \u002Fhome\u002Fpi\u002Fopenocd\u002Ftcl \\\n   -d4 \\\n   -f swd-pi.ocd","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_310":{"id":"e6988001357_310","name":"3b5d","type":"P","href":null,"layout":null,"metadata":null,"text":"We should see the following log…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_311":{"id":"e6988001357_311","name":"2bf2","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"OpenOCD Log from https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fswd-pi.log","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_311.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:e6988001357_311.iframe","typename":"Iframe"},"mixtapeMetadata":null},"Paragraph:e6988001357_311.markups.0":{"type":"A","start":17,"end":107,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-mynewt-sensor\u002Fblob\u002Fnrf52\u002Fscripts\u002Fnrf52\u002Fswd-pi.log","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"MediaResource:0bc5dfa93e6a6b76d3d6b59ec4cd9579":{"id":"0bc5dfa93e6a6b76d3d6b59ec4cd9579","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"See https:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fcoding-nrf52-with-rust-and-apache-mynewt-on-visual-studio-code-9521bcba6004","__typename":"MediaResource"},"$Paragraph:e6988001357_311.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:0bc5dfa93e6a6b76d3d6b59ec4cd9579","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:e6988001357_312":{"id":"e6988001357_312","name":"66e2","type":"P","href":null,"layout":null,"metadata":null,"text":"While OpenOCD is running, open a second command prompt and enter…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_313":{"id":"e6988001357_313","name":"2b37","type":"PRE","href":null,"layout":null,"metadata":null,"text":"telnet localhost 4444\nnrf52.dap apreg 1 0x0c","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_314":{"id":"e6988001357_314","name":"0b1a","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*quuHgikbgX2AuLBYwk8rzA.png","typename":"ImageMetadata"},"text":"Checking the APPROTECTSTATUS status register for Access Port Protection","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_314.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*quuHgikbgX2AuLBYwk8rzA.png":{"id":"1*quuHgikbgX2AuLBYwk8rzA.png","originalHeight":257,"originalWidth":566,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_314.markups.0":{"type":"CODE","start":13,"end":28,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_315":{"id":"e6988001357_315","name":"9d74","type":"P","href":null,"layout":null,"metadata":null,"text":"This queries the APPROTECTSTATUS status register for Access Port Protection.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_315.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_315.markups.0":{"type":"CODE","start":17,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_316":{"id":"e6988001357_316","name":"b852","type":"P","href":null,"layout":null,"metadata":null,"text":"It should show 0, which means protection is enabled.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_316.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_316.markups.0":{"type":"CODE","start":15,"end":16,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_317":{"id":"e6988001357_317","name":"4922","type":"P","href":null,"layout":null,"metadata":null,"text":"We’ll now set the ERASEALL register to 1 to erase the flash ROM and remove Access Port Protection.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_317.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_317.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_317.markups.0":{"type":"CODE","start":18,"end":26,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_317.markups.1":{"type":"CODE","start":39,"end":40,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_318":{"id":"e6988001357_318","name":"beb6","type":"P","href":null,"layout":null,"metadata":null,"text":"Enter the following commands into the telnet prompt.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_318.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_318.markups.0":{"type":"CODE","start":38,"end":44,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_319":{"id":"e6988001357_319","name":"eae9","type":"PRE","href":null,"layout":null,"metadata":null,"text":"nrf52.dap apreg 1 0x04 0x01\nnrf52.dap apreg 1 0x04","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_320":{"id":"e6988001357_320","name":"8714","type":"P","href":null,"layout":null,"metadata":null,"text":"This should show 1, which means that the nRF52 is ready to be erased.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_320.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_320.markups.0":{"type":"CODE","start":17,"end":18,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_321":{"id":"e6988001357_321","name":"9e4d","type":"P","href":null,"layout":null,"metadata":null,"text":"Shut down and power off the Raspberry Pi and nRF52 board.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_322":{"id":"e6988001357_322","name":"ce87","type":"P","href":null,"layout":null,"metadata":null,"text":"Power on the Raspberry Pi and nRF52 board. This performs the flash ROM erase.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_323":{"id":"e6988001357_323","name":"8f01","type":"P","href":null,"layout":null,"metadata":null,"text":"Start OpenOCD by entering into a command prompt…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_324":{"id":"e6988001357_324","name":"f4c9","type":"PRE","href":null,"layout":null,"metadata":null,"text":"sudo \u002Fhome\u002Fpi\u002Fopenocd\u002Fsrc\u002Fopenocd \\\n   -s \u002Fhome\u002Fpi\u002Fopenocd\u002Ftcl \\\n   -d4 \\\n   -f swd-pi.ocd","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_325":{"id":"e6988001357_325","name":"5027","type":"P","href":null,"layout":null,"metadata":null,"text":"While OpenOCD is running, open another command prompt and enter…","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_326":{"id":"e6988001357_326","name":"e4cc","type":"PRE","href":null,"layout":null,"metadata":null,"text":"telnet localhost 4444\ntargets\nhalt\nnrf52.dap apreg 1 0x0c","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_327":{"id":"e6988001357_327","name":"5254","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*NXUnrya4W5XRELcoFe6RQw.png","typename":"ImageMetadata"},"text":"Checking APPROTECTSTATUS status register for Access Port Protection.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*NXUnrya4W5XRELcoFe6RQw.png":{"id":"1*NXUnrya4W5XRELcoFe6RQw.png","originalHeight":308,"originalWidth":588,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:e6988001357_328":{"id":"e6988001357_328","name":"ffae","type":"P","href":null,"layout":null,"metadata":null,"text":"This queries the APPROTECTSTATUS status register for access port protection.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_328.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_328.markups.0":{"type":"CODE","start":17,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_329":{"id":"e6988001357_329","name":"eb8c","type":"P","href":null,"layout":null,"metadata":null,"text":"It should now show 1, which means protection has been disabled.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_329.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_329.markups.0":{"type":"CODE","start":19,"end":20,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_330":{"id":"e6988001357_330","name":"f8e5","type":"P","href":null,"layout":null,"metadata":null,"text":"We may now disconnect the nRF52 from the Raspberry Pi and use ST-Link to flash and debug our nRF52!","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_331":{"id":"e6988001357_331","name":"19be","type":"H3","href":null,"layout":null,"metadata":null,"text":"References","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_332":{"id":"e6988001357_332","name":"5215","type":"P","href":null,"layout":null,"metadata":null,"text":"My code was tested on the EBYTE E73-TBB Development Board. The board is based on the EBYTE E73–2G4M04S1B module, which embeds the nRF52832 microcontroller.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_332.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:e6988001357_332.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_332.markups.0":{"type":"A","start":26,"end":57,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttp:\u002F\u002Fwww.ebyte.com\u002Fproduct-view-news.aspx?id=644","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_332.markups.1":{"type":"A","start":85,"end":104,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttp:\u002F\u002Fwww.ebyte.com\u002Fen\u002Fproduct-view-news.aspx?id=243","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_333":{"id":"e6988001357_333","name":"68fa","type":"P","href":null,"layout":null,"metadata":null,"text":"Manual for EBYTE E73–2G4M04S1B Module","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_333.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_333.markups.0":{"type":"A","start":0,"end":37,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fdrive.google.com\u002Ffile\u002Fd\u002F1PiHg8TyQQ73C9MlE0wuMjKbdqV7xFpAb\u002Fview?usp=sharing","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:e6988001357_334":{"id":"e6988001357_334","name":"11ba","type":"P","href":null,"layout":null,"metadata":null,"text":"Manual for EBYTE E73-TBB Development Board (Chinese)","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:e6988001357_334.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:e6988001357_334.markups.0":{"type":"A","start":0,"end":42,"href":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191217201803\u002Fhttps:\u002F\u002Fdrive.google.com\u002Ffile\u002Fd\u002F12z7ArTpealX9TsCqjVzrHC8ETt40Koib\u002Fview?usp=sharing","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Tag:programming":{"id":"programming","displayTitle":"Programming","__typename":"Tag"},"Tag:gadgets":{"id":"gadgets","displayTitle":"Gadgets","__typename":"Tag"},"Tag:nrf52":{"id":"nrf52","displayTitle":"Nrf52","__typename":"Tag"},"Tag:rust":{"id":"rust","displayTitle":"Rust","__typename":"Tag"},"Tag:mynewt":{"id":"mynewt","displayTitle":"Mynewt","__typename":"Tag"},"$Post:9521bcba6004.previewContent":{"subtitle":"Build an iBeacon with Apache NimBLE… Connect nRF52 to ST-Link \u002F Raspberry Pi… And more!","__typename":"PreviewContent"}}</script><script src="https://web.archive.org/web/20191217201803js_/https://cdn-client.medium.com/lite/static/js/manifest.675b18c3.js"></script><script src="https://web.archive.org/web/20191217201803js_/https://cdn-client.medium.com/lite/static/js/vendors~main.51281d83.chunk.js"></script><script src="https://web.archive.org/web/20191217201803js_/https://cdn-client.medium.com/lite/static/js/main.1919d0bf.chunk.js"></script><script src="https://web.archive.org/web/20191217201803js_/https://cdn-client.medium.com/lite/static/js/vendors~screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~scre~3e410f11.d2f0cb5c.chunk.js"></script>
<script src="https://web.archive.org/web/20191217201803js_/https://cdn-client.medium.com/lite/static/js/screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~screen.post~~4767c889.3dfba756.chunk.js"></script>
<script src="https://web.archive.org/web/20191217201803js_/https://cdn-client.medium.com/lite/static/js/screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~screen.post~~73c4bb05.7b8e10ac.chunk.js"></script>
<script src="https://web.archive.org/web/20191217201803js_/https://cdn-client.medium.com/lite/static/js/screen.post~screen.post.amp~screen.profile~screen.sequence.library~screen.sequence.post~screen.stori~aba94ffa.affb8d02.chunk.js"></script>
<script src="https://web.archive.org/web/20191217201803js_/https://cdn-client.medium.com/lite/static/js/screen.post.e65884f9.chunk.js"></script><script>window.main();</script></body></html><!--
     FILE ARCHIVED ON 20:18:03 Dec 17, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:07:51 Feb 22, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  exclusion.robots.policy: 0.272
  CDXLines.iter: 24.786 (3)
  RedisCDXSource: 0.626
  captures_list: 115.484
  esindex: 0.011
  LoadShardBlock: 86.401 (3)
  PetaboxLoader3.resolve: 25.205
  PetaboxLoader3.datanode: 115.682 (4)
  exclusion.robots: 0.283
  load_resource: 96.568
-->