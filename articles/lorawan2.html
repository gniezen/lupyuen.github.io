<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <title>LoRaWAN on PineDio Stack BL604 RISC-V Board</title>

    
    <!-- Begin scripts/articles/*-header.html: Article Header for Custom Markdown files processed by rustdoc, like chip8.md -->
<meta property="og:title" 
    content="LoRaWAN on PineDio Stack BL604 RISC-V Board" 
    data-rh="true">
<meta property="og:description" 
    content="How we test LoRaWAN on PineDio Stack BL604 RISC-V Board"
    data-rh="true">
<meta property="og:image" 
    content="https://lupyuen.github.io/images/lorawan2-title.jpg">
<meta property="og:type" 
    content="article" data-rh="true">
<!-- End scripts/articles/*-header.html -->
<!-- Begin scripts/rustdoc-header.html: Header for Custom Markdown files processed by rustdoc, like chip8.md -->
<link rel="alternate" type="application/rss+xml" title="RSS Feed for lupyuen" href="/rss.xml" />
<link rel="stylesheet" type="text/css" href="../normalize.css">
<link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle">
<link rel="stylesheet" type="text/css" href="../dark.css">
<link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle">
<link rel="stylesheet" type="text/css" href="../prism.css">
<script src="../storage.js"></script><noscript>
<link rel="stylesheet" href="../noscript.css"></noscript>
<link rel="shortcut icon" href="../favicon.ico">
<style type="text/css">
    #crate-search {
        background-image: url("../down-arrow.svg");
    }
    a {
        color: #77d;
    }
</style>
<!-- End scripts/rustdoc-header.html -->


</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

        <!-- Begin scripts/rustdoc-before.html: Pre-HTML for Custom Markdown files processed by rustdoc, like chip8.md -->

    <!-- Begin Theme Picker -->
    <div class="theme-picker" style="left: 0"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg"
        width="18" alt="Pick another theme!"></button>
        <div id="theme-choices"></div>
    </div>
    <script src="../theme.js"></script>
    <script src="../prism.js"></script>
    <!-- Theme Picker -->

    <!-- End scripts/rustdoc-before.html -->
    

    <h1 class="title">LoRaWAN on PineDio Stack BL604 RISC-V Board</h1>
    <nav id="TOC"><ul>
<li><a href="#lora-sx1262-transceiver">1 LoRa SX1262 Transceiver</a><ul></ul></li>
<li><a href="#lorawan-firmware">2 LoRaWAN Firmware</a><ul></ul></li>
<li><a href="#run-the-firmware">3 Run The Firmware</a><ul></ul></li>
<li><a href="#lorawan-gateway">4 LoRaWAN Gateway</a><ul></ul></li>
<li><a href="#logic-analyser">5 Logic Analyser</a><ul></ul></li>
<li><a href="#spectrum-analyser">6 Spectrum Analyser</a><ul></ul></li>
<li><a href="#security">7 Security</a><ul></ul></li>
<li><a href="#whats-next">8 What‚Äôs Next</a><ul></ul></li>
<li><a href="#notes">9 Notes</a><ul></ul></li></ul></nav><p><img src="https://lupyuen.github.io/images/lorawan2-title.jpg" alt="Tiny tasty treat‚Ä¶ PineDio Stack BL604 RISC-V Board" /></p>
<p><em>Tiny tasty treat‚Ä¶ PineDio Stack BL604 RISC-V Board</em></p>
<p>üìù <em>19 Sep 2021</em></p>
<p>Previously I wrote about testing the prototype <strong>PineDio Stack BL604</strong> RISC-V Board‚Ä¶</p>
<ul>
<li><a href="https://lupyuen.github.io/articles/pinedio"><strong>‚ÄúPineDio Stack BL604 RISC-V Board: Testing The Prototype‚Äù</strong></a></li>
</ul>
<p>Today we dive into the most exciting component on PineDio Stack: <strong>Semtech SX1262 Transceiver</strong> for <strong>LoRa and LoRaWAN Networking</strong>.</p>
<p><em>Why LoRa?</em></p>
<p>LoRa is a <strong>Low-Power, Long-Range, Low-Bandwidth</strong> wireless network.</p>
<p>LoRa is perfect for <strong>IoT Sensor Devices</strong> that run on Battery Power. (Or Solar Power)</p>
<p>Since PineDio Stack comes with a <a href="https://lupyuen.github.io/articles/pinedio"><strong>Solar Panel</strong></a>, it will work really well for Agriculture Sensors.</p>
<p>(And many other IoT gadgets out there in the sun)</p>
<p><em>Will LoRa support all kinds of messages?</em></p>
<p>Not quite. LoRa only supports <strong>Short Messages</strong> of up to <a href="https://lora-developers.semtech.com/documentation/tech-papers-and-guides/lora-and-lorawan"><strong>242 Bytes</strong></a>.</p>
<p>And because LoRa is a Low Power (best effort) network, <strong>messages may get dropped.</strong></p>
<p>Which is probably OK for sensor devices that send data periodically.</p>
<p>(But not for texting your friends)</p>
<p><em>Is LoRa secure?</em></p>
<p>LoRa messages are delivered securely when we join a <strong>LoRaWAN Network</strong>.</p>
<p>Though our <strong>Security Keys</strong> would also need to be <strong>stored securely</strong> on PineDio Stack.</p>
<p>(We‚Äôll learn how in a while)</p>
<p><em>Which Pine64 devices will talk LoRa and LoRaWAN?</em></p>
<p>Once the drivers are implemented, these Pine64 devices will talk LoRa and LoRaWAN to PineDio Stack‚Ä¶</p>
<ul>
<li>
<p><a href="https://wiki.pine64.org/wiki/Pinedio"><strong>PineDio LoRa Gateway</strong></a></p>
</li>
<li>
<p><a href="https://wiki.pine64.org/wiki/Pinedio#Pinephone_backplate"><strong>PinePhone with LoRa Backplate</strong></a></p>
</li>
<li>
<p><a href="https://wiki.pine64.org/wiki/Pinedio#USB_LoRa_adapter"><strong>Pine64 USB LoRa Adapter</strong></a></p>
</li>
</ul>
<p><img src="https://lupyuen.github.io/images/lorawan2-pine64.jpg" alt="PineDio LoRa Gateway, LoRa Backplate and USB Adapter" /></p>
<p>This article describes the (pre-production) <strong>PineDio Stack Prototype</strong> thus‚Ä¶</p>
<blockquote>
<p>‚ö†Ô∏è <em><strong>Obligatory Disclaimer:</strong> Features included in The Prototype are not complete, and will most certainly undergo changes before becoming available for public consumption. (Burp) They are described here for testing, exploration, education and entertainment purposes only. The Prototype shall NOT be used in production gadgets. (Like toasters, microwave ovens, and most definitely not, pressure cookers)</em></p>
</blockquote>
<p><img src="https://lupyuen.github.io/images/lorawan2-board.jpg" alt="LoRa SX1262 Transceiver on PineDio Stack BL604" /></p>
<p><a href="https://electronics.stackexchange.com/questions/335912/can-i-break-a-radio-tranceiving-device-by-operating-it-with-no-antenna-connected"><strong>CAUTION</strong>: Always connect the Antenna before Powering On‚Ä¶ Or the LoRa Transceiver may get damaged! See this</a></p>
<h1 id="lora-sx1262-transceiver" class="section-header"><a href="#lora-sx1262-transceiver">1 LoRa SX1262 Transceiver</a></h1>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/pinedio-lora.png" alt="" /></p>
<h1 id="lorawan-firmware" class="section-header"><a href="#lorawan-firmware">2 LoRaWAN Firmware</a></h1>
<p>TODO</p>
<ul>
<li><a href="https://github.com/lupyuen/bl_iot_sdk/tree/pinedio/customer_app/pinedio_lorawan"><strong><code>pinedio_lorawan</code></strong></a></li>
</ul>
<p>Sync with pine64</p>
<p><img src="https://lupyuen.github.io/images/lorawan2-deselect.png" alt="" /></p>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/lorawan2-swap.png" alt="" /></p>
<h1 id="run-the-firmware" class="section-header"><a href="#run-the-firmware">3 Run The Firmware</a></h1>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/lorawan2-commands.png" alt="" /></p>
<h1 id="lorawan-gateway" class="section-header"><a href="#lorawan-gateway">4 LoRaWAN Gateway</a></h1>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/lorawan2-chirpstack.png" alt="" /></p>
<p>TODO4</p>
<p><img src="https://lupyuen.github.io/images/lorawan2-chirpstack2.png" alt="" /></p>
<h1 id="logic-analyser" class="section-header"><a href="#logic-analyser">5 Logic Analyser</a></h1>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/lorawan2-logic.png" alt="" /></p>
<h1 id="spectrum-analyser" class="section-header"><a href="#spectrum-analyser">6 Spectrum Analyser</a></h1>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/pinedio-chirp2.jpg" alt="" /></p>
<h1 id="security" class="section-header"><a href="#security">7 Security</a></h1>
<p>TODO: Injecting keys, one-time</p>
<p>TODO: Glitching</p>
<p>TODO: WiFi lora bt gateway, Very basic functionality</p>
<p>TODO: Xmpp, Matrix, Or custom LoRaWAN</p>
<p><a href="https://github.com/helium/ecc508">ATECC608A Library for Helium</a></p>
<p><a href="https://www.thethingsindustries.com/docs/devices/atecc608a/claim/">‚ÄúATECC608A Secure Element on The Things Network‚Äù</a></p>
<p><a href="https://books.google.com.sg/books?id=3F7XDwAAQBAJ&amp;pg=PA302&amp;lpg=PA302&amp;dq=ATECC608A&amp;source=bl&amp;ots=80tY23LkbA&amp;sig=ACfU3U2Ngp_Rao6FG1hpS2ays4O-vNEkCg&amp;hl=en&amp;sa=X&amp;ved=2ahUKEwi_19-4ovnyAhWXILcAHcpQDaY4MhDoAXoECBIQAw#v=onepage&amp;q=ATECC608A&amp;f=false">‚ÄúInternet of Things. A Confluence of Many Disciplines‚Äù</a></p>
<p><a href="https://matheo.uliege.be/bitstream/2268.2/11657/12/thesis.pdf">‚ÄúDesigning a Community-Driven Decentralized Storage Network for IoT Data‚Äù</a></p>
<h1 id="whats-next" class="section-header"><a href="#whats-next">8 What‚Äôs Next</a></h1>
<p>TODO</p>
<ul>
<li>
<p><a href="https://github.com/sponsors/lupyuen">Sponsor me a coffee</a></p>
</li>
<li>
<p><a href="https://lupyuen.github.io/articles/book">Read ‚ÄúThe RISC-V BL602 / BL604 Book‚Äù</a></p>
</li>
<li>
<p><a href="https://lupyuen.github.io">Check out my articles</a></p>
</li>
<li>
<p><a href="https://lupyuen.github.io/rss.xml">RSS Feed</a></p>
</li>
</ul>
<p><em>Got a question, comment or suggestion? Create an Issue or submit a Pull Request here‚Ä¶</em></p>
<p><a href="https://github.com/lupyuen/lupyuen.github.io/blob/master/src/lorawan2.md"><code>lupyuen.github.io/src/lorawan2.md</code></a></p>
<h1 id="notes" class="section-header"><a href="#notes">9 Notes</a></h1>
<ol>
<li>This article is the expanded version of <a href="https://twitter.com/MisterTechBlog/status/1436128755987058691">this Twitter Thread</a></li>
</ol>

    
</body>
</html>