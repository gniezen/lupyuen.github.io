<!doctype html>
<html lang="en">

<head>
  <script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
  <script
    type="text/javascript">window.addEventListener('DOMContentLoaded', function () { var v = archive_analytics.values; v.service = 'wb'; v.server_name = 'wwwb-app31.us.archive.org'; v.server_ms = 178; archive_analytics.send_pageview({}); });</script>
  <script type="text/javascript" src="/_static/js/playback.bundle.js?v=bQvHU8mx" charset="utf-8"></script>
  <script type="text/javascript" src="/_static/js/wombat.js?v=cRqOKCOw" charset="utf-8"></script>
  <script type="text/javascript">
    __wm.init("https://web.archive.org/web");
    __wm.wombat("https://medium.com/@ly.lee/stm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a?source=friends_link&sk=d7cd162dabcc45f96490e5e1f5f4c534", "20191204194230", "https://web.archive.org/", "web", "/_static/",
      "1575488550");
  </script>
  <link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=bsmaklHF" />
  <link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
  <!-- End Wayback Rewrite JS Include -->
  <script>!function (c, f) { var t, o, i, e = [], r = { passive: !0, capture: !0 }, n = new Date, a = "pointerup", u = "pointercancel"; function p(n, e) { t || (t = e, o = n, i = new Date, w(f), s()) } function s() { 0 <= o && o < i - n && (e.forEach(function (n) { n(o, t) }), e = []) } function l(n) { if (n.cancelable) { var e = (1e12 < n.timeStamp ? new Date : performance.now()) - n.timeStamp; "pointerdown" == n.type ? function (n, e) { function t() { p(n, e), i() } function o() { i() } function i() { f(a, t, r), f(u, o, r) } c(a, t, r), c(u, o, r) }(e, n) : p(e, n) } } function w(e) { ["click", "mousedown", "keydown", "touchstart", "pointerdown"].forEach(function (n) { e(n, l, r) }) } w(c), self.perfMetrics = self.perfMetrics || {}, self.perfMetrics.onFirstInputDelay = function (n) { e.push(n), s() } }(addEventListener, removeEventListener)</script>
  <title data-rh="true">STM32 Blue Pill – Shrink your math libraries with Qfplib</title>
  <meta data-rh="true" charset="utf-8" />
  <meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1" />
  <meta data-rh="true" name="theme-color" content="#000000" />
  <meta data-rh="true" name="twitter:app:name:iphone" content="Medium" />
  <meta data-rh="true" name="twitter:app:id:iphone" content="828256236" />
  <meta data-rh="true" property="al:ios:app_name" content="Medium" />
  <meta data-rh="true" property="al:ios:app_store_id" content="828256236" />
  <meta data-rh="true" property="al:android:package" content="com.medium.reader" />
  <meta data-rh="true" property="fb:app_id" content="542599432471018" />
  <meta data-rh="true" property="og:site_name" content="Medium" />
  <meta data-rh="true" property="og:type" content="article" />
  <meta data-rh="true" property="article:published_time" content="2019-01-30T09:53:36.711Z" />
  <meta data-rh="true" name="title" content="STM32 Blue Pill – Shrink your math libraries with Qfplib" />
  <meta data-rh="true" property="og:title" content="STM32 Blue Pill – Shrink your math libraries with Qfplib" />
  <meta data-rh="true" property="twitter:title" content="STM32 Blue Pill – Shrink your math libraries with Qfplib" />
  <meta data-rh="true" name="twitter:site" content="@Medium" />
  <meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/55093aab163a" />
  <meta data-rh="true" property="al:android:url" content="medium://p/55093aab163a" />
  <meta data-rh="true" property="al:ios:url" content="medium://p/55093aab163a" />
  <meta data-rh="true" property="al:android:app_name" content="Medium" />
  <meta data-rh="true" name="description"
    content="Floating-point math libraries can bloat your Blue Pill code. Here’s one way to fix that" />
  <meta data-rh="true" property="og:description"
    content="Floating-point math libraries can bloat your Blue Pill code. Here’s one way to fix that" />
  <meta data-rh="true" property="twitter:description"
    content="Floating-point math libraries can bloat your Blue Pill code. Here’s one way to fix that" />
  <meta data-rh="true" property="og:url"
    content="https://web.archive.org/web/20191204194230/https://medium.com/@ly.lee/stm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a" />
  <meta data-rh="true" property="al:web:url"
    content="https://medium.com/@ly.lee/stm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a" />
  <meta data-rh="true" property="og:image"
    content="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/1200/1*Vxgr9fS45NRgtYPmDzkOgg.png" />
  <meta data-rh="true" name="twitter:image:src"
    content="https://miro.medium.com/max/1200/1*Vxgr9fS45NRgtYPmDzkOgg.png" />
  <meta data-rh="true" name="twitter:card" content="summary_large_image" />
  <meta data-rh="true" property="article:author" content="https://medium.com/@ly.lee" />
  <meta data-rh="true" name="twitter:creator" content="@MisterTechBlog" />
  <meta data-rh="true" name="author" content="Lup Yuen Lee 李立源" />
  <meta data-rh="true" name="robots" content="index,follow" />
  <meta data-rh="true" name="referrer" content="unsafe-url" />
  <meta data-rh="true" name="twitter:label1" value="Reading time" />
  <meta data-rh="true" name="twitter:data1" value="9 min read" />
  <meta data-rh="true" name="parsely-post-id" content="55093aab163a" />
  <link data-rh="true" rel="publisher" href="https://plus.google.com/103654360130207659246" />
  <link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium"
    href="/web/20191204194230/https://medium.com/osd.xml" />
  <link data-rh="true" rel="apple-touch-icon" sizes="152x152"
    href="https://web.archive.org/web/20191204194230im_/https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png" />
  <link data-rh="true" rel="apple-touch-icon" sizes="120x120"
    href="https://web.archive.org/web/20191204194230im_/https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png" />
  <link data-rh="true" rel="apple-touch-icon" sizes="76x76"
    href="https://web.archive.org/web/20191204194230im_/https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png" />
  <link data-rh="true" rel="apple-touch-icon" sizes="60x60"
    href="https://web.archive.org/web/20191204194230im_/https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png" />
  <link data-rh="true" rel="mask-icon"
    href="https://web.archive.org/web/20191204194230im_/https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg"
    color="#171717" />
  <link data-rh="true" rel="icon"
    href="https://web.archive.org/web/20191204194230im_/https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico" />
  <link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css"
    href="https://web.archive.org/web/20191204194230cs_/https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css" />
  <link data-rh="true" rel="author" href="https://medium.com/@ly.lee" />
  <link data-rh="true" rel="canonical"
    href="https://web.archive.org/web/20191204194230/https://medium.com/@ly.lee/stm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a" />
  <link data-rh="true" rel="alternate"
    href="https://web.archive.org/web/20191204194230/android-app://com.medium.reader/https/medium.com/p/55093aab163a" />
  <script data-rh="true"
    type="application/ld+json">{"@context":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttp:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*Vxgr9fS45NRgtYPmDzkOgg.png"],"url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fstm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a","dateCreated":"2019-01-30T08:42:08.956Z","datePublished":"2019-01-30T08:42:08.956Z","dateModified":"2019-01-30T10:07:17.421Z","headline":"STM32 Blue Pill – Shrink your math libraries with Qfplib","name":"STM32 Blue Pill – Shrink your math libraries with Qfplib","description":"Floating-point math libraries can bloat your Blue Pill code. Here’s one way to fix that","identifier":"55093aab163a","keywords":["Lite:true","Tag:Programming","Tag:Embedded Systems","Tag:Stm32","Tag:Internet of Things","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:4"],"author":{"@type":"Person","name":"Lup Yuen Lee 李立源","url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee"},"creator":["Lup Yuen Lee 李立源"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmiro.medium.com\u002Fmax\u002F616\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fstm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a"}</script>
  <script data-rh="true">(function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
          m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
      })(window, document, 'script', 'https://web.archive.org/web/20191204194230/https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-24232453-2', 'auto');
    ga('send', 'pageview');</script>
  <link rel="preload" href="https://web.archive.org/web/20191204194230/https://cdn.optimizely.com/js/16180790160.js"
    as="script">
  <style type="text/css" data-fela-rehydration="457" data-fela-type="STATIC">
    html {
      box-sizing: border-box
    }

    *,
    *:before,
    *:after {
      box-sizing: inherit
    }

    body {
      margin: 0;
      padding: 0;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
      color: rgba(0, 0, 0, 0.8);
      position: relative;
      min-height: 100vh
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    dl,
    dd,
    ol,
    ul,
    menu,
    figure,
    blockquote,
    p,
    pre,
    form {
      margin: 0
    }

    menu,
    ol,
    ul {
      padding: 0;
      list-style: none;
      list-style-image: none
    }

    main {
      display: block
    }

    a {
      color: inherit;
      text-decoration: none
    }

    a,
    button,
    input {
      -webkit-tap-highlight-color: transparent
    }

    img,
    svg {
      vertical-align: middle
    }

    button {
      background: transparent;
      overflow: visible
    }

    button,
    input,
    optgroup,
    select,
    textarea {
      margin: 0
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="KEYFRAME">
    @-webkit-keyframes k1 {
      0% {
        transform: scale(1);
        opacity: 1
      }

      70% {
        transform: scale(1.4);
        opacity: 0
      }

      100% {
        opacity: 0
      }
    }

    @-moz-keyframes k1 {
      0% {
        transform: scale(1);
        opacity: 1
      }

      70% {
        transform: scale(1.4);
        opacity: 0
      }

      100% {
        opacity: 0
      }
    }

    @keyframes k1 {
      0% {
        transform: scale(1);
        opacity: 1
      }

      70% {
        transform: scale(1.4);
        opacity: 0
      }

      100% {
        opacity: 0
      }
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE">
    .a {
      font-family: medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif
    }

    .b {
      font-weight: 400
    }

    .c {
      background-color: rgba(255, 255, 255, 1)
    }

    .l {
      height: 100vh
    }

    .m {
      width: 100vw
    }

    .n {
      display: flex
    }

    .o {
      align-items: center
    }

    .p {
      justify-content: center
    }

    .q {
      fill: rgba(0, 0, 0, 0.84)
    }

    .r {
      display: block
    }

    .s {
      position: fixed
    }

    .t {
      top: 0
    }

    .u {
      left: 0
    }

    .v {
      right: 0
    }

    .w {
      z-index: 500
    }

    .x {
      box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05)
    }

    .ai {
      max-width: 1192px
    }

    .aj {
      min-width: 0
    }

    .ak {
      width: 100%
    }

    .al {
      height: 65px
    }

    .ao {
      flex: 1 0 auto
    }

    .ap {
      display: none
    }

    .ar {
      flex: 0 0 auto
    }

    .as {
      visibility: hidden
    }

    .at {
      color: inherit
    }

    .au {
      fill: inherit
    }

    .av {
      font-size: inherit
    }

    .aw {
      border: inherit
    }

    .ax {
      font-family: inherit
    }

    .ay {
      letter-spacing: inherit
    }

    .az {
      font-weight: inherit
    }

    .ba {
      padding: 0
    }

    .bb {
      margin: 0
    }

    .bc:hover {
      cursor: pointer
    }

    .bd:hover {
      color: rgba(0, 0, 0, 0.9)
    }

    .be:hover {
      fill: rgba(0, 0, 0, 0.9)
    }

    .bf:focus {
      outline: none
    }

    .bg:disabled {
      cursor: default
    }

    .bh:disabled {
      color: rgba(0, 0, 0, 0.54)
    }

    .bi:disabled {
      fill: rgba(0, 0, 0, 0.54)
    }

    .bj {
      font-family: medium-content-sans-serif-font, "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Arial, sans-serif
    }

    .bk {
      font-style: normal
    }

    .bl {
      line-height: 20px
    }

    .bm {
      font-size: 15.8px
    }

    .bn {
      letter-spacing: 0px
    }

    .bo {
      color: rgba(0, 0, 0, 0.54)
    }

    .bp {
      fill: rgba(0, 0, 0, 0.54)
    }

    .bq {
      margin-left: 16px
    }

    .br {
      color: rgba(2, 158, 116, 1)
    }

    .bs {
      fill: rgba(3, 168, 124, 1)
    }

    .bt:hover {
      color: rgba(1, 143, 105, 1)
    }

    .bu:hover {
      fill: rgba(2, 158, 116, 1)
    }

    .bv:disabled {
      color: rgba(3, 168, 124, 0.5)
    }

    .bw:disabled {
      fill: rgba(3, 168, 124, 0.5)
    }

    .bx {
      padding: 8px 16px
    }

    .by {
      background: 0
    }

    .bz {
      border-color: rgba(3, 168, 124, 1)
    }

    .ca:hover {
      border-color: rgba(2, 158, 116, 1)
    }

    .cb {
      border-radius: 4px
    }

    .cc {
      border-width: 1px
    }

    .cd {
      border-style: solid
    }

    .ce {
      box-sizing: border-box
    }

    .cf {
      display: inline-block
    }

    .cg {
      text-decoration: none
    }

    .ch {
      margin-bottom: 0px
    }

    .cj {
      padding-left: 24px
    }

    .ck {
      padding-right: 24px
    }

    .cl {
      margin-left: auto
    }

    .cm {
      margin-right: auto
    }

    .cn {
      max-width: 728px
    }

    .co {
      flex-direction: column
    }

    .cp {
      position: absolute
    }

    .cq {
      top: calc(100vh + 100px)
    }

    .cr {
      bottom: calc(100vh + 100px)
    }

    .cs {
      width: 10px
    }

    .ct {
      pointer-events: none
    }

    .cu {
      word-break: break-word
    }

    .cv {
      word-wrap: break-word
    }

    .cw:after {
      display: block
    }

    .cx:after {
      content: ""
    }

    .cy:after {
      clear: both
    }

    .cz {
      clear: both
    }

    .da {
      margin-top: 0px
    }

    .db {
      opacity: 0
    }

    .dc {
      transition: opacity 100ms 400ms
    }

    .dd {
      height: 100%
    }

    .de {
      overflow: hidden
    }

    .df {
      will-change: transform
    }

    .dg {
      transform: translateZ(0)
    }

    .dh {
      margin: auto
    }

    .di {
      position: relative
    }

    .dj {
      background-color: rgba(0, 0, 0, 0.05)
    }

    .dk {
      padding-bottom: 40.05947323704333%
    }

    .dl {
      filter: blur(20px)
    }

    .dm {
      transform: scale(1.1)
    }

    .dn {
      visibility: visible
    }

    .do {
      background: rgba(255, 255, 255, 1)
    }

    .dp {
      max-width: 680px
    }

    .dq {
      line-height: 1.23
    }

    .dr {
      letter-spacing: 0
    }

    .ds {
      color: rgba(0, 0, 0, 0.84)
    }

    .dt {
      font-family: medium-content-title-font, Georgia, Cambria, "Times New Roman", Times, serif
    }

    .du {
      font-size: 40px
    }

    .ea {
      margin-bottom: -0.27em
    }

    .eb {
      line-height: 48px
    }

    .ec {
      margin-top: 32px
    }

    .ed {
      justify-content: space-between
    }

    .eh {
      width: 48px
    }

    .ei {
      height: 48px
    }

    .ej {
      flex-direction: row
    }

    .ek {
      width: calc(100% + 25px)
    }

    .el {
      height: calc(100% + 25px)
    }

    .em {
      top: 50%
    }

    .en {
      left: 50%
    }

    .eo {
      transform: translateX(-50%) translateY(-50%)
    }

    .ep {
      border-radius: 50%
    }

    .eq {
      margin-left: 12px
    }

    .er {
      margin-bottom: 2px
    }

    .et {
      font-weight: 300
    }

    .eu {
      font-size: 16px
    }

    .ev {
      max-height: 20px
    }

    .ew {
      text-overflow: ellipsis
    }

    .ex {
      display: -webkit-box
    }

    .ey {
      -webkit-line-clamp: 1
    }

    .ez {
      -webkit-box-orient: vertical
    }

    .fa:hover {
      text-decoration: underline
    }

    .fb {
      margin-left: 8px
    }

    .fc {
      padding: 0px 8px
    }

    .fd {
      border-color: rgba(0, 0, 0, 0.54)
    }

    .fe:hover {
      color: rgba(0, 0, 0, 0.97)
    }

    .ff:hover {
      fill: rgba(0, 0, 0, 0.97)
    }

    .fg:hover {
      border-color: rgba(0, 0, 0, 0.84)
    }

    .fh:disabled {
      fill: rgba(0, 0, 0, 0.76)
    }

    .fi:disabled {
      border-color: rgba(0, 0, 0, 0.2)
    }

    .fj:disabled {
      cursor: inherit
    }

    .fk:disabled:hover {
      color: rgba(0, 0, 0, 0.54)
    }

    .fl:disabled:hover {
      fill: rgba(0, 0, 0, 0.76)
    }

    .fm:disabled:hover {
      border-color: rgba(0, 0, 0, 0.2)
    }

    .fn {
      line-height: 18px
    }

    .fo {
      font-size: 15px
    }

    .fp {
      align-items: flex-end
    }

    .fx {
      padding-right: 8px
    }

    .fy {
      margin-right: -6px
    }

    .fz {
      line-height: 1.58
    }

    .ga {
      letter-spacing: -0.004em
    }

    .gb {
      font-family: medium-content-serif-font, Georgia, Cambria, "Times New Roman", Times, serif
    }

    .gm {
      margin-bottom: -0.46em
    }

    .gn {
      background-repeat: repeat-x
    }

    .go {
      background-image: linear-gradient(to right, rgba(0, 0, 0, 0.84) 100%, rgba(0, 0, 0, 0.84) 0);
      background-image: url('data:image/svg+xml;utf8,<svg preserveAspectRatio="none" viewBox="0 0 1 1" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="1" y2="1" stroke="rgba(0, 0, 0, 0.84)" /></svg>')
    }

    .gp {
      background-size: 1px 1px
    }

    .gq {
      background-position: 0 1.05em;
      background-position: 0 calc(1em + 1px)
    }

    .gr {
      font-weight: 700
    }

    .gx {
      padding-bottom: 75%
    }

    .gy {
      line-height: 1.4
    }

    .gz {
      margin-top: 10px
    }

    .ha {
      text-align: center
    }

    .hd {
      list-style-type: decimal
    }

    .he {
      margin-left: 30px
    }

    .hf {
      padding-left: 0px
    }

    .hl {
      padding: 2px 4px
    }

    .hm {
      font-size: 75%
    }

    .hn>strong {
      font-family: inherit
    }

    .ho {
      font-family: Menlo, Monaco, "Courier New", Courier, monospace
    }

    .hp {
      font-style: italic
    }

    .hq {
      font-family: medium-content-slab-serif-font, Georgia, Cambria, "Times New Roman", Times, serif
    }

    .hr {
      font-size: 28px
    }

    .hs {
      border: none
    }

    .ht {
      margin-top: 30px
    }

    .hu:before {
      content: "..."
    }

    .hv:before {
      letter-spacing: 0.6em
    }

    .hw:before {
      text-indent: 0.6em
    }

    .hx:before {
      font-style: italic
    }

    .hy:before {
      line-height: 1.4
    }

    .hz {
      line-height: 1.12
    }

    .ia {
      letter-spacing: -0.022em
    }

    .ib {
      font-weight: 600
    }

    .im {
      margin-bottom: -0.28em
    }

    .is {
      padding-bottom: NaN%
    }

    .jg {
      max-width: 1356px
    }

    .jh {
      padding-bottom: 5px
    }

    .ji {
      padding-top: 5px
    }

    .jj {
      transition: transform 300ms cubic-bezier(0.2, 0, 0.2, 1)
    }

    .jk {
      cursor: zoom-in
    }

    .jl {
      z-index: auto
    }

    .jm {
      padding-bottom: 84.95575221238938%
    }

    .jn {
      padding: 20px
    }

    .jo {
      background: rgba(0, 0, 0, 0.05)
    }

    .jp {
      overflow-x: auto
    }

    .jq {
      line-height: 1.18
    }

    .jr {
      margin-top: -0.09em
    }

    .js {
      margin-bottom: -0.09em
    }

    .jt {
      white-space: pre-wrap
    }

    .ju {
      box-shadow: inset 3px 0 0 0 rgba(0, 0, 0, 0.84)
    }

    .jv {
      padding-left: 23px
    }

    .jw {
      margin-left: -20px
    }

    .jx {
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(0, 0, 0, 0.1)
    }

    .jy {
      max-height: 40px
    }

    .jz {
      -webkit-line-clamp: 2
    }

    .ka {
      padding: 0px
    }

    .kq {
      padding: 16px 20px
    }

    .kr {
      flex: 1 1 auto
    }

    .kt {
      font-size: 18px
    }

    .ku {
      margin-top: 8px
    }

    .kv {
      margin-top: 12px
    }

    .kw {
      width: 160px
    }

    .kx {
      background-image: url(https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/320/0*_mMzUDXcdkk0LlTJ)
    }

    .ky {
      background-origin: border-box
    }

    .kz {
      background-size: cover
    }

    .la {
      height: 167px
    }

    .lb {
      background-position: 50% 50%
    }

    .lc {
      max-width: 100%
    }

    .ld {
      box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1)
    }

    .le {
      list-style-type: disc
    }

    .lf {
      max-width: 574px
    }

    .lg {
      padding-bottom: 108.53658536585365%
    }

    .lh {
      max-width: 149px
    }

    .li {
      border-width: 2px
    }

    .lj {
      border-color: rgba(255, 255, 255, 1)
    }

    .lk {
      float: left
    }

    .ll {
      margin-left: -150px
    }

    .lm {
      margin-right: 30px
    }

    .ln {
      width: 75%
    }

    .lo {
      padding-bottom: 10px
    }

    .lt {
      margin-bottom: 16px
    }

    .lu {
      padding-bottom: 273.8255033557047%
    }

    .lv {
      max-width: 221px
    }

    .lw {
      padding-bottom: 26.244343891402714%
    }

    .lx {
      max-width: 407px
    }

    .ly {
      padding-bottom: 33.66093366093366%
    }

    .lz {
      max-width: 456px
    }

    .ma {
      padding-bottom: 50.43859649122807%
    }

    .mb {
      max-width: 594px
    }

    .mc {
      padding-bottom: 73.73737373737373%
    }

    .md {
      padding-bottom: 38.86397608370702%
    }

    .mj {
      background-image: url(https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/320/0*TcDpDaQxXkh3UOyz)
    }

    .mk {
      padding-bottom: 69.55736224028907%
    }

    .ml {
      padding-bottom: 63.479052823315115%
    }

    .mm {
      will-change: opacity
    }

    .mn {
      top: calc(65px + 54px + 40px)
    }

    .mq {
      width: 131px
    }

    .mr {
      padding-top: 28px
    }

    .ms {
      margin-bottom: 19px
    }

    .mt {
      margin-left: -5px
    }

    .mu {
      margin-right: 5px
    }

    .mv {
      outline: 0
    }

    .mw {
      border: 0
    }

    .mx {
      user-select: none
    }

    .my {
      cursor: pointer
    }

    .mz>svg {
      pointer-events: none
    }

    .na:active {
      border-style: none
    }

    .nb {
      -webkit-user-select: none
    }

    .nc {
      fill: rgba(0, 0, 0, 0.76)
    }

    .nd:focus {
      fill: rgba(0, 0, 0, 0.54)
    }

    .ne:hover {
      fill: rgba(0, 0, 0, 0.54)
    }

    .nf {
      margin-top: 5px
    }

    .ng button {
      text-align: left
    }

    .nh {
      width: 188px
    }

    .ni {
      transform: translateX(406px)
    }

    .nj {
      top: calc(65px + 54px + 14px)
    }

    .nl {
      margin-top: 40px
    }

    .nm {
      flex-wrap: wrap
    }

    .nn {
      margin-top: 25px
    }

    .no {
      list-style-type: none
    }

    .np {
      margin-right: 8px
    }

    .nq {
      margin-bottom: 8px
    }

    .nr {
      border-radius: 3px
    }

    .ns {
      padding: 5px 10px
    }

    .nt {
      line-height: 22px
    }

    .nu {
      margin-top: 15px
    }

    .nv {
      margin-right: 16px
    }

    .nw {
      border: 1px solid rgba(0, 0, 0, 0.1)
    }

    .nx {
      height: 60px
    }

    .ny {
      width: 60px
    }

    .ol:hover {
      border-color: rgba(0, 0, 0, 0.54)
    }

    .om:active {
      border-style: solid
    }

    .on {
      z-index: 2
    }

    .op {
      padding-top: 32px
    }

    .oq {
      border-top: 1px solid rgba(0, 0, 0, 0.1)
    }

    .or {
      margin-bottom: 25px
    }

    .os {
      margin-bottom: 32px
    }

    .ot {
      min-height: 80px
    }

    .oy {
      width: 80px
    }

    .oz {
      height: 80px
    }

    .pa {
      padding-left: 102px
    }

    .pc {
      text-transform: uppercase
    }

    .pd {
      letter-spacing: 0.05em
    }

    .pe {
      margin-bottom: 6px
    }

    .pf {
      line-height: 36px
    }

    .pg {
      padding: 4px 12px
    }

    .ph {
      max-width: 555px
    }

    .pi {
      max-width: 450px
    }

    .pj {
      line-height: 24px
    }

    .pl {
      padding-top: 25px
    }

    .pm {
      color: rgba(0, 0, 0, 0.76)
    }

    .pn {
      opacity: 1
    }

    .po {
      border: 1px solid rgba(3, 168, 124, 1)
    }

    .pp {
      margin-top: 64px
    }

    .pq {
      background-color: rgba(0, 0, 0, 0.02)
    }

    .pr {
      padding: 60px 0
    }

    .ps {
      background-color: rgba(0, 0, 0, 0.9)
    }

    .pu {
      padding-bottom: 48px
    }

    .pv {
      border-bottom: 1px solid rgba(255, 255, 255, 0.54)
    }

    .pw {
      margin: 0 -12px
    }

    .px {
      margin: 0 12px
    }

    .py {
      flex: 1 1 0
    }

    .pz {
      padding-bottom: 12px
    }

    .qa:hover {
      color: rgba(255, 255, 255, 0.99)
    }

    .qb:hover {
      fill: rgba(255, 255, 255, 0.99)
    }

    .qc:disabled {
      color: rgba(255, 255, 255, 0.7)
    }

    .qd:disabled {
      fill: rgba(255, 255, 255, 0.7)
    }

    .qe {
      color: rgba(255, 255, 255, 0.98)
    }

    .qf {
      fill: rgba(255, 255, 255, 0.98)
    }

    .qg {
      text-align: inherit
    }

    .qh {
      font-size: 21.6px
    }

    .qi {
      letter-spacing: -0.32px
    }

    .qj {
      color: rgba(255, 255, 255, 0.7)
    }

    .qk {
      fill: rgba(255, 255, 255, 0.7)
    }

    .ql {
      text-decoration: underline
    }

    .qm {
      padding-bottom: 8px
    }

    .qn {
      padding-top: 8px
    }

    .qo {
      width: 200px
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE" media="all and (min-width: 1080px)">
    .d {
      display: none
    }

    .ah {
      margin: 0 64px
    }

    .dz {
      margin-top: 0.78em
    }

    .fw {
      margin-left: 30px
    }

    .gk {
      font-size: 21px
    }

    .gl {
      margin-top: 2em
    }

    .gw {
      margin-top: 56px
    }

    .hk {
      margin-top: 1.05em
    }

    .ik {
      font-size: 34px
    }

    .il {
      margin-top: 1.25em
    }

    .ir {
      margin-top: 0.86em
    }

    .ix {
      margin-top: 1.95em
    }

    .jf {
      max-width: 1192px
    }

    .kn {
      padding-left: 64px
    }

    .ko {
      padding-right: 64px
    }

    .kp {
      max-width: 1320px
    }

    .mi {
      margin-top: 32px
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE" media="all and (max-width: 1079.98px)">
    .e {
      display: none
    }

    .fv {
      margin-left: 30px
    }

    .hb {
      margin-left: auto
    }

    .hc {
      text-align: center
    }

    .kk {
      padding-left: 64px
    }

    .kl {
      padding-right: 64px
    }

    .km {
      max-width: 1080px
    }

    .lp {
      float: none
    }

    .lq {
      margin-left: 0
    }

    .lr {
      margin-right: 0
    }

    .ls {
      width: 100%
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE" media="all and (max-width: 903.98px)">
    .f {
      display: none
    }

    .fu {
      margin-left: 30px
    }

    .kh {
      padding-left: 48px
    }

    .ki {
      padding-right: 48px
    }

    .kj {
      max-width: 904px
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE" media="all and (max-width: 727.98px)">
    .g {
      display: none
    }

    .am {
      height: 56px
    }

    .an {
      display: flex
    }

    .aq {
      display: block
    }

    .ci {
      margin-bottom: 0px
    }

    .ef {
      margin-top: 32px
    }

    .eg {
      flex-direction: column-reverse
    }

    .fs {
      margin-bottom: 30px
    }

    .ft {
      margin-left: 0px
    }

    .ke {
      padding-left: 24px
    }

    .kf {
      padding-right: 24px
    }

    .kg {
      max-width: 728px
    }

    .ks {
      padding: 10px 12px 10px
    }

    .ou {
      margin-bottom: 24px
    }

    .ov {
      align-items: center
    }

    .ow {
      width: 102px
    }

    .ox {
      position: relative
    }

    .pb {
      padding-left: 0
    }

    .pk {
      margin-top: 24px
    }

    .pt {
      padding: 32px 0
    }

    .qp {
      width: 140px
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE" media="all and (max-width: 551.98px)">
    .h {
      display: none
    }

    .ac {
      margin: 0 24px
    }

    .dv {
      margin-top: 0.39em
    }

    .ee {
      margin-top: 32px
    }

    .es {
      margin-bottom: 0px
    }

    .fq {
      margin-bottom: 30px
    }

    .fr {
      margin-left: 0px
    }

    .gc {
      font-size: 18px
    }

    .gd {
      margin-top: 1.56em
    }

    .gs {
      margin-top: 40px
    }

    .hg {
      margin-top: 1.34em
    }

    .ic {
      font-size: 30px
    }

    .id {
      margin-top: 0.93em
    }

    .in {
      margin-top: 0.67em
    }

    .it {
      margin-top: 1.2em
    }

    .iy {
      margin: 0
    }

    .iz {
      max-width: 100%
    }

    .kb {
      padding-left: 24px
    }

    .kc {
      padding-right: 24px
    }

    .kd {
      max-width: 552px
    }

    .me {
      margin-top: 24px
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE"
    media="all and (min-width: 904px) and (max-width: 1079.98px)">
    .i {
      display: none
    }

    .ag {
      margin: 0 64px
    }

    .dy {
      margin-top: 0.78em
    }

    .gi {
      font-size: 21px
    }

    .gj {
      margin-top: 2em
    }

    .gv {
      margin-top: 56px
    }

    .hj {
      margin-top: 1.05em
    }

    .ii {
      font-size: 34px
    }

    .ij {
      margin-top: 1.25em
    }

    .iq {
      margin-top: 0.86em
    }

    .iw {
      margin-top: 1.95em
    }

    .je {
      max-width: 1192px
    }

    .mh {
      margin-top: 32px
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE"
    media="all and (min-width: 728px) and (max-width: 903.98px)">
    .j {
      display: none
    }

    .af {
      margin: 0 48px
    }

    .dx {
      margin-top: 0.78em
    }

    .gg {
      font-size: 21px
    }

    .gh {
      margin-top: 2em
    }

    .gu {
      margin-top: 56px
    }

    .hi {
      margin-top: 1.05em
    }

    .ig {
      font-size: 34px
    }

    .ih {
      margin-top: 1.25em
    }

    .ip {
      margin-top: 0.86em
    }

    .iv {
      margin-top: 1.95em
    }

    .jc {
      margin: 0
    }

    .jd {
      max-width: 100%
    }

    .mg {
      margin-top: 32px
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE"
    media="all and (min-width: 552px) and (max-width: 727.98px)">
    .k {
      display: none
    }

    .ae {
      margin: 0 24px
    }

    .dw {
      margin-top: 0.39em
    }

    .ge {
      font-size: 18px
    }

    .gf {
      margin-top: 1.56em
    }

    .gt {
      margin-top: 40px
    }

    .hh {
      margin-top: 1.34em
    }

    .ie {
      font-size: 30px
    }

    .if {
      margin-top: 0.93em
    }

    .io {
      margin-top: 0.67em
    }

    .iu {
      margin-top: 1.2em
    }

    .ja {
      margin: 0
    }

    .jb {
      max-width: 100%
    }

    .mf {
      margin-top: 24px
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE" media="print">
    .ab {
      display: none
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE"
    media="(prefers-reduced-motion: no-preference)">
    .y {
      transition: transform 300ms ease
    }

    .z {
      will-change: transform
    }

    .mo {
      transition: opacity 200ms
    }

    .nz {
      transition: border-color 150ms ease
    }

    .oa::before {
      background:
        radial-gradient(circle, rgba(0, 0, 0, 0.84) 60%, transparent 70%)
    }

    .ob::before {
      border-radius: 50%
    }

    .oc::before {
      content: ""
    }

    .od::before {
      display: block
    }

    .oe::before {
      z-index: 0
    }

    .of::before {
      left: 0
    }

    .og::before {
      height: 100%
    }

    .oh::before {
      position: absolute
    }

    .oi::before {
      top: 0
    }

    .oj::before {
      width: 100%
    }

    .ok:hover::before {
      animation: k1 2000ms infinite cubic-bezier(.1, .12, .25, 1)
    }

    .oo {
      transition: fill 200ms ease
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE" media="all and (max-width: 1198px)">
    .mp {
      display: none
    }
  </style>
  <style type="text/css" data-fela-rehydration="457" data-fela-type="RULE" media="all and (max-width: 1230px)">
    .nk {
      display: none
    }
  </style>
</head>

<body>
  <!-- BEGIN WAYBACK TOOLBAR INSERT -->
  <style type="text/css">
    body {
      margin-top: 0 !important;
      padding-top: 0 !important;
      /*min-width:800px !important;*/
    }
  </style>
  <script>__wm.rw(0);</script>
  <div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
    <div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
      <div id="wm-ipp-inside">
        <div style="position:relative;">
          <div id="wm-logo" style="float:left;width:110px;padding-top:12px;">
            <a href="/web/" title="Wayback Machine home page"><img
                src="/_static/images/toolbar/wayback-toolbar-logo-200.png"
                srcset="/_static/images/toolbar/wayback-toolbar-logo-100.png, /_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, /_static/images/toolbar/wayback-toolbar-logo-200.png 2x"
                alt="Wayback Machine" style="width:100px" border="0" /></a>
          </div>
          <div class="r" style="float:right;">
            <div id="wm-btns" style="text-align:right;height:25px;">
              <div id="wm-save-snapshot-success">success</div>
              <div id="wm-save-snapshot-fail">fail</div>
              <a id="wm-save-snapshot-open" href="#" title="Share via My Web Archive">
                <span class="iconochive-web"></span>
              </a>
              <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in">
                <span class="iconochive-person"></span>
              </a>
              <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
              <a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine"
                style="top:-6px;"><span class="iconochive-question"
                  style="color:rgb(87,186,244);font-size:160%;"></span></a>
              <a id="wm-tb-close" href="#close" onclick="__wm.h(event);return false;" style="top:-2px;"
                title="Close the toolbar"><span class="iconochive-remove-circle"
                  style="color:#888888;font-size:240%;"></span></a>
            </div>
            <div id="wm-share">
              <a href="/web/20191204194230/http://web.archive.org/screenshot/https://medium.com/@ly.lee/stm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a?source=friends_link&sk=d7cd162dabcc45f96490e5e1f5f4c534"
                id="wm-screenshot" title="screenshot">
                <span class="wm-icon-screen-shot"></span>
              </a>
              <a id="wm-share-facebook" href="#"
                data-url="https://web.archive.org/web/20191204194230/https://medium.com/@ly.lee/stm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a?source=friends_link&amp;sk=d7cd162dabcc45f96490e5e1f5f4c534"
                title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook"
                  style="color:#3b5998;font-size:160%;"></span></a>
              <a id="wm-share-twitter" href="#"
                data-url="https://web.archive.org/web/20191204194230/https://medium.com/@ly.lee/stm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a?source=friends_link&amp;sk=d7cd162dabcc45f96490e5e1f5f4c534"
                title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter"
                  style="color:#1dcaff;font-size:160%;"></span></a>
            </div>
          </div>
          <table class="c" style="">
            <tbody>
              <tr>
                <td class="u" colspan="2">
                  <form target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text"
                      name="url" id="wmtbURL"
                      value="https://medium.com/@ly.lee/stm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a?source=friends_link&sk=d7cd162dabcc45f96490e5e1f5f4c534"
                      onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input
                      type="hidden" name="date" value="20191204194230" /><input type="submit" value="Go" /></form>
                </td>
                <td class="n" rowspan="2" style="width:110px;">
                  <table>
                    <tbody>
                      <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
                      <tr class="m">
                        <td class="b" nowrap="nowrap">Nov</td>
                        <td class="c" id="displayMonthEl" title="You are here: 19:42:30 Dec 04, 2019">DEC</td>
                        <td class="f" nowrap="nowrap">Jan</td>
                      </tr>
                      <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
                      <tr class="d">
                        <td class="b" nowrap="nowrap"><img src="/_static/images/toolbar/wm_tb_prv_off.png"
                            alt="Previous capture" width="14" height="16" border="0" /></td>
                        <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;"
                          title="You are here: 19:42:30 Dec 04, 2019">04</td>
                        <td class="f" nowrap="nowrap"><img src="/_static/images/toolbar/wm_tb_nxt_off.png"
                            alt="Next capture" width="14" height="16" border="0" /></td>
                      </tr>
                      <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
                      <tr class="y">
                        <td class="b" nowrap="nowrap">2018</td>
                        <td class="c" id="displayYearEl" title="You are here: 19:42:30 Dec 04, 2019">2019</td>
                        <td class="f" nowrap="nowrap">2020</td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
              <tr>
                <td class="s">
                  <div id="wm-nav-captures">
                    <a class="t"
                      href="/web/20191204194230*/https://medium.com/@ly.lee/stm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a?source=friends_link&sk=d7cd162dabcc45f96490e5e1f5f4c534"
                      title="See a list of every capture for this URL">1 capture</a>
                    <div class="r" title="Timespan for captures of this URL">04 Dec 2019</div>
                  </div>
                </td>
                <td class="k">
                  <a href="" id="wm-graph-anchor">
                    <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
                      <canvas id="wm-sparkline-canvas" width="650" height="27" border="0"></canvas>
                    </div>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
          <div style="position:absolute;bottom:0;right:2px;text-align:right;">
            <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span
                id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this
                capture</span></a>
          </div>
        </div>
        <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
          <div id="wm-capinfo-collected-by">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
            <div style="padding:3px;position:relative" id="wm-collected-by-content">
              <div style="display:inline-block;vertical-align:top;width:50%;">
                <span class="c-logo"
                  style="background-image:url(https://archive.org/services/img/ArchiveIt-Partner-1028);"></span>
                Organization: <a style="color:#33f;" href="https://archive.org/details/ArchiveIt-Partner-1028"
                  target="_new"><span class="wm-title">Mark Graham&#39;s Archive-IT Collections</span></a>
                <div style="max-height:75px;overflow:hidden;position:relative;">
                  <div
                    style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);">
                  </div>
                  This is a set of web collections curated by Mark Graham using the <a
                    href="http://archive-it.org">Archive-IT</a> service of the <a href="http//archive.org">Internet
                    Archive.</a>
                  <br>
                  <br>
                  They include web captures of the ISKME.org website as well as captures from sites hosted by IGC.org.
                  <br>
                  <br>
                  <br><br>
                  These web captures are available to the general public.
                  <br>
                  <br>
                  For more information about this collection please feel free to contact Mark via <a
                    href="mailto:mark@archive.org?Subject=Question%20about%20you%20Archive-IT%20Collection"
                    target="_top">Send Mail</a>
                </div>
              </div>
              <div style="display:inline-block;vertical-align:top;width:49%;">
                <span class="c-logo"
                  style="background-image:url(https://archive.org/services/img/ArchiveIt-Collection-8332)"></span>
                <div>Collection: <a style="color:#33f;" href="https://archive.org/details/ArchiveIt-Collection-8332"
                    target="_new"><span class="wm-title">General Crawls</span></a></div>
                <div style="max-height:75px;overflow:hidden;position:relative;">
                  <div
                    style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);">
                  </div>
                  Archive-It Partner 1028: Mark Graham - Collection 8332: General Crawls
                </div>
              </div>
            </div>
          </div>
          <div id="wm-capinfo-timestamps">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center"
              title="Timestamps for the elements of this page">TIMESTAMPS</div>
            <div>
              <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important">
              </div>
              <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img
                  src="/_static/images/loading.gif" alt="loading" /></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="donato" style="position:relative;width:100%;">
    <div id="donato-base">
      <iframe id="donato-if"
        src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=https%3A//web.archive.org/web/20191204194230/https%3A//medium.com/%2540ly.lee/stm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a%3Fsource%3Dfriends_link%26sk%3Dd7cd162dabcc45f96490e5e1f5f4c534"
        scrolling="no" frameborder="0" style="width:100%; height:100%">
      </iframe>
    </div>
  </div>
  <script type="text/javascript">
    __wm.bt(650, 27, 25, 2, "web", "https://medium.com/@ly.lee/stm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a?source=friends_link&sk=d7cd162dabcc45f96490e5e1f5f4c534", "20191204194230", 1996, "/_static/", ["/_static/css/banner-styles.css?v=bsmaklHF", "/_static/css/iconochive.css?v=qtvMKcIJ"]);
    __wm.rw(1);
  </script>
  <!-- END WAYBACK TOOLBAR INSERT -->
  <div id="root">
    <div class="a b c">
      <div class="d e f g h i j k"></div>
      <script>document.domain = document.domain;</script>
      <script>window.PARSELY = window.PARSELY || { autotrack: false }</script>
      <nav class="r s t u v c w x y z ab">
        <div class="branch-journeys-top">
          <div class="n p">
            <div class="ac ae af ag ah ai aj ak">
              <div class="al n o am an">
                <div class="r ao w">
                  <div class="n o"><a aria-label="Homepage" rel="noopener"
                      href="/web/20191204194230/https://medium.com/?source=post_page-----55093aab163a----------------------">
                      <div class="ap g"><svg height="22" width="112" viewbox="0 0 111.5 22" class="q">
                          <path
                            d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z">
                          </path>
                        </svg></div>
                      <div class="r aq"><svg width="35" height="35" viewbox="5 5 35 35" class="q">
                          <path
                            d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z">
                          </path>
                        </svg></div>
                    </a></div>
                </div>
                <div class="r ar w">
                  <div class="n o">
                    <div class="n g">
                      <div class="as" id="lo-post-page-navbar-upsell-button">
                        <div><a
                            href="https://web.archive.org/web/20191204194230/https://medium.com/membership?source=upgrade_membership---nav_full------------------------"
                            class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><span
                              class="bj b bk bl bm bn r bo bp">Become a member</span></a></div>
                      </div>
                      <div class="as" id="lo-post-page-navbar-sign-in-link">
                        <div class="bq r"><span class="bj b bk bl bm bn r bo bp"><a
                              href="https://web.archive.org/web/20191204194230/https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fstm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a&amp;source=post_page-----55093aab163a---------------------nav_reg-"
                              class="br bs av aw ax ay az ba bb bc bt bu bf bg bv bw" rel="noopener">Sign in</a></span>
                        </div>
                      </div>
                    </div>
                    <div class="as" id="lo-post-page-navbar-get-started-button">
                      <div class="bq r"><button
                          class="bx by br bs bz bt bu ca bc cb bj b bk bl bm bn cc cd ce cf cg bf">Get started</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div class="ch al r ci am"></div>
      <article>
        <section class="cj ck cl cm ak cn ce n co"></section><span class="r"></span>
        <div>
          <div class="cp u cq cr cs ct"></div>
          <section class="cu cv cw cx cy">
            <div class="cz ak">
              <figure class="da cz ak paragraph-image">
                <div class="dh r di dj">
                  <div class="dk r">
                    <div class="db dc cp t u dd ak de df dg"><img class="cp t u dd ak dl dm dn"
                        src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/60/1*Vxgr9fS45NRgtYPmDzkOgg.png?q=20"
                        width="2354" height="943" role="presentation" /></div><img class="db dc cp t u dd ak do"
                      width="2354" height="943" role="presentation" /><noscript><img class="cp t u dd ak"
                        src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/4708/1*Vxgr9fS45NRgtYPmDzkOgg.png"
                        width="2354" height="943" role="presentation" /></noscript>
                  </div>
                </div>
              </figure>
            </div>
            <div class="n p">
              <div class="ac ae af ag ah dp aj ak">
                <div>
                  <div id="457c" class="dq dr ds bk dt b du dv dw dx dy dz ea">
                    <h1 class="dt b du eb ds">STM32 Blue Pill – Shrink your math libraries with Qfplib</h1>
                  </div>
                  <div class="ec">
                    <div class="n ed ee ef eg">
                      <div class="o n">
                        <div><a rel="noopener"
                            href="/web/20191204194230/https://medium.com/@ly.lee?source=post_page-----55093aab163a----------------------">
                            <div class="di eh ei">
                              <div class="bs n ej o p cp ek el em en eo ct"><svg width="57" height="57"
                                  viewbox="0 0 57 57">
                                  <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M28.5 1.2A27.45 27.45 0 0 0 4.06 15.82L3 15.27A28.65 28.65 0 0 1 28.5 0C39.64 0 49.29 6.2 54 15.27l-1.06.55A27.45 27.45 0 0 0 28.5 1.2zM4.06 41.18A27.45 27.45 0 0 0 28.5 55.8a27.45 27.45 0 0 0 24.44-14.62l1.06.55A28.65 28.65 0 0 1 28.5 57 28.65 28.65 0 0 1 3 41.73l1.06-.55z">
                                  </path>
                                </svg></div><img alt="Lup Yuen Lee 李立源" class="r ep ei eh"
                                src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/fit/c/96/96/1*KGohS3sQaUnr58gc0BIfoQ.jpeg"
                                width="48" height="48" />
                            </div>
                          </a></div>
                        <div class="eq ak r">
                          <div class="n">
                            <div style="flex:1"><span class="bj b bk bl bm bn r ds q">
                                <div class="er n o es"><span class="bj et eu bl de ev ew ex ey ez ds"><a
                                      class="at au av aw ax ay az ba bb bc fa bf bg bh bi" rel="noopener"
                                      href="/web/20191204194230/https://medium.com/@ly.lee?source=post_page-----55093aab163a----------------------">Lup
                                      Yuen Lee 李立源</a></span>
                                  <div class="fb r ar h"><button
                                      class="fc ds q by fd fe ff fg bc bh fh fi fj fk fl fm cb bj b bk fn fo bn cc cd ce cf cg bf">Follow</button>
                                  </div>
                                </div>
                              </span></div>
                          </div><span class="bj b bk bl bm bn r bo bp"><span class="bj et eu bl de ev ew ex ey ez bo">
                              <div><a class="at au av aw ax ay az ba bb bc fa bf bg bh bi" rel="noopener"
                                  href="/web/20191204194230/https://medium.com/@ly.lee/stm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a?source=post_page-----55093aab163a----------------------">Jan
                                  30</a> <!-- -->·
                                <!-- -->
                                <!-- -->9
                                <!-- --> min read
                              </div>
                            </span></span>
                        </div>
                      </div>
                      <div class="n fp fq fr fs ft fu fv fw ab">
                        <div class="n o">
                          <div class="fx r ar"><a
                              href="//web.archive.org/web/20191204194230/https://medium.com/p/55093aab163a/share/twitter?source=post_actions_header---------------------------"
                              class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank"
                              rel="noopener"><svg width="29" height="29" class="q">
                                <path
                                  d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z">
                                </path>
                              </svg></a></div>
                          <div class="fx r ar"><a
                              href="//web.archive.org/web/20191204194230/https://medium.com/p/55093aab163a/share/linkedIn?source=post_actions_header---------------------------"
                              class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank"
                              rel="noopener"><svg width="29" height="29" viewbox="0 0 29 29" fill="none" class="q">
                                <path
                                  d="M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z">
                                </path>
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                  d="M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z"
                                  fill="#fff"></path>
                              </svg></a></div>
                          <div class="fx r ar"><a
                              href="//web.archive.org/web/20191204194230/https://medium.com/p/55093aab163a/share/facebook?source=post_actions_header---------------------------"
                              class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank"
                              rel="noopener"><svg width="29" height="29" class="q">
                                <path
                                  d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79">
                                </path>
                              </svg></a></div>
                          <div class="fy r ao">
                            <div>
                              <div class="cf"><a
                                  href="https://web.archive.org/web/20191204194230/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fstm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a&amp;source=post_actions_header--------------------------bookmark_sidebar-"
                                  class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25"
                                    height="25" viewbox="0 0 25 25">
                                    <path
                                      d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                                      fill-rule="evenodd"></path>
                                  </svg></a></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <p id="7318" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Check out this magic trick… Why
                  does <a
                    href="https://web.archive.org/web/20191204194230/http://wiki.stm32duino.com/index.php?title=Blue_Pill"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">Blue Pill</a> think that <strong
                    class="gb gr">123</strong> times <strong class="gb gr">456</strong> is <strong
                    class="gb gr">123,456</strong> ???!!! <a
                    href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/stm32bluepill-math-hack"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">Here’s the full source code</a>.
                </p>
              </div>
            </div>
            <div class="cz ak">
              <figure class="gs gt gu gv gw cz">
                <div class="dh r di">
                  <div class="gx r"><iframe
                      src="https://web.archive.org/web/20191204194230if_/https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F3AedU60qGFI%3Ffeature%3Doembed&amp;url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D3AedU60qGFI&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2F3AedU60qGFI%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube"
                      allowfullscreen="" frameborder="0" height="480" width="640" title="STM32 Blue Pill Math Hack"
                      class="cp t u dd ak" scrolling="auto"></iframe></div>
                </div>
                <figcaption class="bo eu gy gz ha cn cl cm hb hc bj et">Blue Pill thinks that 123 times 456 is 123,456
                </figcaption>
              </figure>
            </div>
            <div class="n p">
              <div class="ac ae af ag ah dp aj ak">
                <p id="c4ff" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">This article explains how we
                  hacked Blue Pill to create this interesting behaviour, and how we may exploit this hack to cut down
                  the size of our math libraries…</p>
                <ol class="">
                  <li id="2b57" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm hd he hf">What are <strong
                      class="gb gr">Math Libraries</strong>? How does Blue Pill perform math computations?</li>
                  <li id="e9d5" class="fz ga ds bk gb b gc hg ge hh gg hi gi hj gk hk gm hd he hf"><strong
                      class="gb gr">Qfplib</strong> the tiny math library</li>
                  <li id="9fb2" class="fz ga ds bk gb b gc hg ge hh gg hi gi hj gk hk gm hd he hf"><strong
                      class="gb gr">Single vs Double-Precision</strong> numbers. Do we really need Double-Precision?
                  </li>
                  <li id="c835" class="fz ga ds bk gb b gc hg ge hh gg hi gi hj gk hk gm hd he hf">Filling in the
                    missing math functions with <code
                      class="dj hl hm hn ho b"><strong class="gb gr">nano-float</strong></code></li>
                  <li id="7992" class="fz ga ds bk gb b gc hg ge hh gg hi gi hj gk hk gm hd he hf"><strong
                      class="gb gr">Testing</strong> Qfplib and nano-float</li>
                  <li id="1735" class="fz ga ds bk gb b gc hg ge hh gg hi gi hj gk hk gm hd he hf"><strong
                      class="gb gr">My experience</strong> with Qfplib and nano-float</li>
                </ol>
                <p id="5c62" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm"><strong class="gb gr"><em
                      class="hp">This article covers experimental topics that have not been tested in production
                      systems, so be very careful if you decide to use any tips from this article.</em></strong></p>
              </div>
            </div>
          </section>
          <hr class="hq et hr hs ht ha hu hv hw hx hy" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dp aj ak">
                <h1 id="4b56" class="hz ia ds bk bj ib ic id ie if ig ih ii ij ik il im">What are Math Libraries? Why so
                  huge?</h1>
                <p id="def5" class="fz ga ds bk gb b gc in ge io gg ip gi iq gk ir gm">If you have used math functions
                  like <code class="dj hl hm hn ho b">sin(), log(), floor(), ...</code> then you would have used the
                  <code class="dj hl hm hn ho b"><strong class="gb gr">libm.a</strong></code><strong class="gb gr">
                    Standard Math Library for C</strong>. It’s a bunch of common math functions that we may call from C
                  and C++ programs running on Blue Pill and virtually any microcontroller and any device.</p>
                <p id="0d38" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">But there’s a catch… The math
                  functions will perform better on some microcontrollers and devices — those that support <strong
                    class="gb gr">hardware floating-point operations in their processors</strong>.</p>
                <p id="5701" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Unfortunately <strong
                    class="gb gr">Blue Pill is not in that list.</strong> The math libraries are implemented in
                  software, not hardware. So a single call to <code class="dj hl hm hn ho b">sin()</code> could actually
                  keep the Blue Pill busy for a (short) while because of the <a
                    href="https://web.archive.org/web/20191204194230/https://sourceware.org/git/?p=glibc.git;a=blob;f=sysdeps/ieee754/dbl-64/s_sin.c;h=7584afcd2b016fd94f8452d30f5d3542a831b5b3;hb=refs/heads/master"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">complicated library code</a>. And
                  the complicated math code also causes Blue Pill programs to bloat beyond their ROM limit (64 KB).</p>
                <p id="f95a" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Is there a better way to do math
                  on Blue Pill? The secret lies in the Magic Trick…</p>
              </div>
            </div>
          </section>
          <hr class="hq et hr hs ht ha hu hv hw hx hy" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dp aj ak">
                <figure class="gs gt gu gv gw cz">
                  <div class="dh r di">
                    <div class="is r"><iframe
                        src="https://web.archive.org/web/20191204194230if_/https://medium.com/media/9d95672f807f1182b15a5a7beccddc68"
                        allowfullscreen="" frameborder="0" height="0" width="0" title="magic-trick.c"
                        class="cp t u dd ak" scrolling="auto"></iframe></div>
                  </div>
                  <figcaption class="bo eu gy gz ha cn cl cm hb hc bj et">From <a
                      href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/stm32bluepill-math-hack/blob/master/src/main.c"
                      class="at cg gn go gp gq" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-math-hack/blob/master/src/main.c</a>
                  </figcaption>
                </figure>
                <h1 id="b691" class="hz ia ds bk bj ib ic it ie iu ig iv ii iw ik ix im">Magic Trick Revealed</h1>
                <p id="6695" class="fz ga ds bk gb b gc in ge io gg ip gi iq gk ir gm">Remember the above code from the
                  Magic Trick… Why does Blue Pill think that 123 times 456 is 123,456? Let’s look at the <a
                    href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/stm32bluepill-math-hack/blob/master/firmware.dump"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">Assembly Code</a> (check <a
                    class="at cg gn go gp gq" target="_blank" rel="noopener"
                    href="/web/20191204194230/https://medium.com/@ly.lee/stm32-blue-pill-analyse-and-optimise-your-ram-and-rom-9fc805e16ed7?source=friends_link&amp;sk=54719084d640bb1d92ac1097d623bba2">my
                    previous article</a> for the “Disassemble” task)…</p>
              </div>
            </div>
            <div class="cz">
              <div class="n p">
                <div class="iy iz ja jb jc jd ag je ah jf aj ak">
                  <figure class="gs gt gu gv gw cz jh ji paragraph-image">
                    <div class="jj jk di jl ak">
                      <div class="cl cm jg">
                        <div class="dh r di dj">
                          <div class="jm r">
                            <div class="db dc cp t u dd ak de df dg"><img class="cp t u dd ak dl dm dn"
                                src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/60/1*T-dyq0-eWyPLbCfLD67tHg.png?q=20"
                                width="1356" height="1152" role="presentation" /></div><img
                              class="db dc cp t u dd ak do" width="1356" height="1152"
                              role="presentation" /><noscript><img class="cp t u dd ak"
                                src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/2712/1*T-dyq0-eWyPLbCfLD67tHg.png"
                                width="1356" height="1152" role="presentation" /></noscript>
                          </div>
                        </div>
                      </div>
                    </div>
                    <figcaption class="bo eu gy gz ha cn cl cm hb hc bj et">Assembly Code for the magic trick. From <a
                        href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/stm32bluepill-math-hack/blob/master/firmware.dump"
                        class="at cg gn go gp gq" target="_blank"
                        rel="noopener nofollow">https://github.com/lupyuen/stm32bluepill-math-hack/blob/master/firmware.dump</a>
                    </figcaption>
                  </figure>
                </div>
              </div>
            </div>
            <div class="n p">
              <div class="ac ae af ag ah dp aj ak">
                <p id="03df" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Something suspicious is happening
                  here… the line</p>
                <pre
                  class="gs gt gu gv gw jn jo jp"><span id="9af6" class="jq ia ds bk ho b eu jr js r jt">r = x * y</span></pre>
                <p id="bf8a" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">has actually been compiled into a
                  function call that looks like…</p>
                <pre
                  class="gs gt gu gv gw jn jo jp"><span id="1620" class="jq ia ds bk ho b eu jr js r jt">r = __wrap___aeabi_dmul(x, y)</span></pre>
                <p id="498b" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Multiplication of numbers looks
                  <em class="hp">simple and harmless</em> when we write it as <code
                    class="dj hl hm hn ho b"><strong class="gb gr">x * y</strong></code>. But remember that <code
                    class="dj hl hm hn ho b">x</code> and <code class="dj hl hm hn ho b">y</code> are floating-point
                  numbers. And Blue Pill can’t compute floating-point numbers in hardware. <strong class="gb gr">So Blue
                    Pill needs to call a math library function </strong><code
                    class="dj hl hm hn ho b"><strong class="gb gr">__wrap___aeabi_dmul</strong></code><strong
                    class="gb gr"> to compute </strong><code
                    class="dj hl hm hn ho b"><strong class="gb gr">x * y !</strong></code></p>
                <p id="bbfb" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm"><em class="hp">It looks more
                    sinister now…</em></p>
                <p id="caeb" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Remember this function that
                  appears at the end of the magic trick?</p>
                <pre
                  class="gs gt gu gv gw jn jo jp"><span id="87d8" class="jq ia ds bk ho b eu jr js r jt">double __wrap___aeabi_dmul(double x, double y) { <br/>    return 123456; <br/>}</span></pre>
                <p id="da9c" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">That’s where the magic happens —
                  <strong class="gb gr">it returns </strong><code
                    class="dj hl hm hn ho b"><strong class="gb gr">123456</strong></code><strong class="gb gr"> for any
                    multiplication of </strong><code
                    class="dj hl hm hn ho b"><strong class="gb gr">doubles</strong></code> in the program. We have
                  intercepted the multiplication operation to return a hacked result.</p>
                <p id="cf7a" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm"><code
                    class="dj hl hm hn ho b">__wrap___aeabi_dmul</code> is typically a function with lots of computation
                  code inside… <strong class="gb gr">1 KB of compiled code</strong>. So our code size will bloat
                  significantly once we start using floating-point computation on Blue Pill.</p>
                <p id="e8c5" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Now what if we do this…</p>
                <pre
                  class="gs gt gu gv gw jn jo jp"><span id="f5c4" class="jq ia ds bk ho b eu jr js r jt">double __wrap___aeabi_dmul(double x, double y) { <br/>    return qfp_fmul(x, y); <br/>}</span></pre>
                <p id="34c5" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm"><strong class="gb gr">What if we
                    could find a tiny function </strong><code
                    class="dj hl hm hn ho b"><strong class="gb gr">qfp_fmul</strong></code><strong class="gb gr"> that
                    multiplies floating-point numbers without bloating the code size?</strong> That would be perfect for
                  Blue Pill! <code class="dj hl hm hn ho b">qfp_fmul</code> actually exists and it’s part of the <strong
                    class="gb gr">Qfplib</strong> library, coming up next…</p>
                <blockquote class="ju jv jw">
                  <p id="0df5" class="fz ga ds hp gb b gc gd ge gf gg gh gi gj gk gl gm">💎 About the <code
                      class="dj hl hm hn ho b">wrap</code>: The <code class="dj hl hm hn ho b">wrap</code> prefix was
                    inserted because we used this linker option in <a
                      href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/stm32bluepill-math-hack/blob/master/platformio.ini"
                      class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">platformio.ini</a>:<code
                      class="dj hl hm hn ho b"> -Wl,-wrap,__aeabi_dmul</code>. Without <code
                      class="dj hl hm hn ho b">wrap</code>, the function name is actually <code
                      class="dj hl hm hn ho b"><em class="bk">__aeabi_dmul</em></code><em class="bk">. </em>By using
                    <code class="dj hl hm hn ho b">wrap</code> we can easily identify the functions that we have
                    intercepted. <a
                      href="https://web.archive.org/web/20191204194230/http://infocenter.arm.com/help/topic/com.arm.doc.ihi0043d/IHI0043D_rtabi.pdf"
                      class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">Check this doc for more info on
                      AEABI functions</a>.</p>
                </blockquote>
              </div>
            </div>
          </section>
          <hr class="hq et hr hs ht ha hu hv hw hx hy" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dp aj ak">
                <div class="gs gt gu gv gw jx"><a
                    href="https://web.archive.org/web/20191204194230/https://www.quinapalus.com/qfplib.html?source=post_page-----55093aab163a----------------------"
                    rel="noopener nofollow">
                    <section class="ka cl cm ak ce n ar kb kc kd ke kf kg kh ki kj kk kl km kn ko kp">
                      <div class="kq n co p kr ks">
                        <h2 class="bj ib kt bl ds">
                          <div class="de jy ew ex jz ez">Qfplib: an ARM Cortex-M0 floating-point library in 1 kbyte
                          </div>
                        </h2>
                        <div class="ku r">
                          <h3 class="bj et eu bl bo">
                            <div class="de jy ew ex jz ez">quinapalus</div>
                          </h3>
                        </div>
                        <div class="kv r">
                          <h4 class="bj et fo bl bo">
                            <div class="de jy ew ex jz ez">www.quinapalus.com</div>
                          </h4>
                        </div>
                      </div>
                      <div class="kw r">
                        <div class="kx r ky kz la kw lb lc ld"></div>
                      </div>
                    </section>
                  </a></div>
                <h1 id="90cc" class="hz ia ds bk bj ib ic it ie iu ig iv ii iw ik ix im">Qfplib the tiny floating-point
                  library</h1>
                <p id="2a56" class="fz ga ds bk gb b gc in ge io gg ip gi iq gk ir gm"><a
                    href="https://web.archive.org/web/20191204194230/https://www.quinapalus.com/qfplib.html"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">Qfplib</a> is a floating-point
                  math library by Dr Mark Owen that’s incredibly small. In a mere <strong class="gb gr">1,224
                    bytes</strong> we get Assembly Code functions (specific to Arm Cortex-M0 and above) that compute…
                </p>
                <ul class="">
                  <li id="9f39" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm le he hf"><code
                      class="dj hl hm hn ho b">qfp_fadd, qfp_fsub, qfp_fmul, qfp_fdiv_fast</code>: Floating-point
                    addition, subtraction, multiplication, division</li>
                  <li id="caaf" class="fz ga ds bk gb b gc hg ge hh gg hi gi hj gk hk gm le he hf"><code
                      class="dj hl hm hn ho b">qfp_fsin, qfp_fcos, qfp_ftan, qfp_fatan2</code>: sine, cosine, tangent,
                    inverse tangent</li>
                  <li id="c763" class="fz ga ds bk gb b gc hg ge hh gg hi gi hj gk hk gm le he hf"><code
                      class="dj hl hm hn ho b">qfp_fexp, qfp_fln</code>: Natural exponential, logarithm</li>
                  <li id="ff17" class="fz ga ds bk gb b gc hg ge hh gg hi gi hj gk hk gm le he hf"><code
                      class="dj hl hm hn ho b">qfp_fsqrt_fast, qfp_fcmp</code>: Square root, comparison of floats</li>
                </ul>
                <p id="d8a8" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Plus conversion functions for
                  integers, fixed-point and floating-point numbers. What a gem!</p>
                <p id="cf8d" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">With Qfplib we may now intercept
                  any floating-point operation (using the <code class="dj hl hm hn ho b">__wrap___aeabi_dmul</code>
                  method above) and <strong class="gb gr">substitute a smaller, optimised version</strong> of the
                  computation code.</p>
                <p id="db22" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Be careful: There are <strong
                    class="gb gr">limitations in the Qfplib functions</strong>, <a
                    href="https://web.archive.org/web/20191204194230/https://www.quinapalus.com/qfplib.html"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">as described here</a>. And Qfplib
                  only handles <strong class="gb gr">single-precision math, not double-precision</strong>. More about
                  this…</p>
              </div>
            </div>
          </section>
          <hr class="hq et hr hs ht ha hu hv hw hx hy" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dp aj ak">
                <h1 id="5ed2" class="hz ia ds bk bj ib ic id ie if ig ih ii ij ik il im">Single vs Double-Precision
                  Floating-Point Numbers</h1>
                <p id="4a0f" class="fz ga ds bk gb b gc in ge io gg ip gi iq gk ir gm">You should have seen
                  single-precision (<code class="dj hl hm hn ho b">float</code>) and double-precision (<code
                    class="dj hl hm hn ho b">double</code>) numbers in C programs…</p>
                <pre
                  class="gs gt gu gv gw jn jo jp"><span id="0b44" class="jq ia ds bk ho b eu jr js r jt">float  x = 123.456;           //  Single precision (32 bits)<br/>double y = 123.456789012345;  //  Double precision (64 bits)</span></pre>
                <p id="8f4c" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Double-precision numbers are more
                  precise in representing floating-point numbers because they have twice the number of bits (<strong
                    class="gb gr">64 bits</strong>) compared with single-precision numbers (<strong class="gb gr">32
                    bits</strong>).</p>
                <p id="89d1" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">To be more specific…
                  single-precision numbers are stored in the <a
                    href="https://web.archive.org/web/20191204194230/https://en.wikipedia.org/wiki/Single-precision_floating-point_format"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">IEEE 754 Single-Precision
                    format</a> which gives us <strong class="gb gr">6 significant decimal digits</strong>. So this <code
                    class="dj hl hm hn ho b">float</code> value is OK because it’s only 6 decimal digits…</p>
                <pre
                  class="gs gt gu gv gw jn jo jp"><span id="8454" class="jq ia ds bk ho b eu jr js r jt">float  x = 123.456;  //  OK for Single Precision</span></pre>
                <p id="86c1" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">But we may lose the seventh digit
                  in this <code class="dj hl hm hn ho b">float</code> value because 32 bits can’t fully accommodate 7
                  decimal digits…</p>
                <pre
                  class="gs gt gu gv gw jn jo jp"><span id="62a8" class="jq ia ds bk ho b eu jr js r jt">float  y = 123.4567;  //  Last digit may be truncated for Single Precision</span></pre>
                <p id="cbf7" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">And Blue Pill may think that
                  <code class="dj hl hm hn ho b">x</code> has the same value as <code class="dj hl hm hn ho b">y</code>.
                  We wouldn’t use <code class="dj hl hm hn ho b">float</code> to count 10 million dollars (7 decimal
                  digits or more).</p>
                <p id="22ca" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">With double-precision numbers
                  (stored as <a
                    href="https://web.archive.org/web/20191204194230/https://en.wikipedia.org/wiki/Double-precision_floating-point_format"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">IEEE 754 Double-Precision
                    format</a>) we have room for <strong class="gb gr">15 significant decimal digits</strong>…</p>
                <pre
                  class="gs gt gu gv gw jn jo jp"><span id="873e" class="jq ia ds bk ho b eu jr js r jt">double y = 123.456789012345;  //  OK for Double Precision</span></pre>
                <p id="fd0a" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Double precision is indeed more
                  precise than single precision. BUT…</p>
                <ol class="">
                  <li id="5194" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm hd he hf"><code
                      class="dj hl hm hn ho b">doubles</code> take up <strong class="gb gr">twice the storage</strong>
                  </li>
                  <li id="c915" class="fz ga ds bk gb b gc hg ge hh gg hi gi hj gk hk gm hd he hf"><code
                      class="dj hl hm hn ho b">doubles</code> also require <strong class="gb gr">more processor
                      time</strong> to compute</li>
                </ol>
                <p id="eb7a" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">This causes problems for
                  constrained microcontrollers like Blue Pill. Also if we use common math functions like <code
                    class="dj hl hm hn ho b">sin(), log(), floor()</code>, … we will actually introduce <code
                    class="dj hl hm hn ho b">doubles</code> into our code because the common math functions are declared
                  as <code class="dj hl hm hn ho b">double</code>. (The single-precision equivalent functions are
                  available, but we need to consciously select them as <code
                    class="dj hl hm hn ho b">sinf(), logf(), floorf()</code>, …)</p>
              </div>
            </div>
          </section>
          <hr class="hq et hr hs ht ha hu hv hw hx hy" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dp aj ak">
                <h1 id="51e0" class="hz ia ds bk bj ib ic id ie if ig ih ii ij ik il im">Do we really need Double
                  Precision numbers?</h1>
                <p id="7b5a" class="fz ga ds bk gb b gc in ge io gg ip gi iq gk ir gm">I teach IoT. When my students
                  measure ambient temperature with a long string of digits like 28.12345, I’m pretty sure they’re not
                  doing it right.</p>
                <p id="f724" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Sensors are inherently noisy so I
                  won’t trust them to produce such precise double-precision numbers. Instead I would use a Time Series
                  Database to <strong class="gb gr">aggregate sensor values (single-precision) over time and compute an
                    aggregated sensor value</strong> (say, moving average for the past minute) that’s more resistant to
                  sensor noise.</p>
                <p id="4213" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">If you’re doing Scientific
                  Computing, then <code class="dj hl hm hn ho b">doubles</code> are for you. Then again you probably
                  won’t be using a lower-class microcontroller like Blue Pill. It’s my hunch that most Blue Pill
                  programmers will be perfectly happy with <code class="dj hl hm hn ho b">floats</code> instead of <code
                    class="dj hl hm hn ho b">doubles</code> (though I have no proof).</p>
                <p id="d650" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Always exercise caution when
                  using <code class="dj hl hm hn ho b">floats</code> instead of <code
                    class="dj hl hm hn ho b">doubles</code>. There’s a possibility that some <strong
                    class="gb gr">intermediate computation will overflow the 6-digit limitation of </strong><code
                    class="dj hl hm hn ho b"><strong class="gb gr">floats,</strong></code> l<a
                    href="https://web.archive.org/web/20191204194230/https://github.com/adafruit/Adafruit_BME280_Library/blob/master/Adafruit_BME280.cpp#L591"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">ike this computation</a>. GPS
                  coordinates (latitude, longitude) may require <code class="dj hl hm hn ho b">doubles</code> as well.
                </p>
              </div>
            </div>
          </section>
          <hr class="hq et hr hs ht ha hu hv hw hx hy" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dp aj ak">
                <figure class="gs gt gu gv gw cz cl cm paragraph-image">
                  <div class="cl cm lf">
                    <div class="dh r di dj">
                      <div class="lg r">
                        <div class="db dc cp t u dd ak de df dg"><img class="cp t u dd ak dl dm dn"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/56/1*xy5n_cwadL-zsRk6R5WfQA.png?q=20"
                            width="574" height="623" role="presentation" /></div><img class="db dc cp t u dd ak do"
                          width="574" height="623" role="presentation" /><noscript><img class="cp t u dd ak"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/1148/1*xy5n_cwadL-zsRk6R5WfQA.png"
                            width="574" height="623" role="presentation" /></noscript>
                      </div>
                    </div>
                  </div>
                  <figcaption class="bo eu gy gz ha cn cl cm hb hc bj et">nano-float function derived from Qfplib and
                    the unit test cases below. From <a
                      href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L555-L585"
                      class="at cg gn go gp gq" target="_blank"
                      rel="noopener nofollow">https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L555-L585</a>
                  </figcaption>
                </figure>
                <h1 id="d9db" class="hz ia ds bk bj ib ic it ie iu ig iv ii iw ik ix im">Complete Math Library:
                  nano-float</h1>
                <figure class="gs gt gu gv gw cz do li cd lj lk ll lm ln ba lo lp lq lr ls lt paragraph-image">
                  <div class="cl cm lh">
                    <div class="dh r di dj">
                      <div class="lu r">
                        <div class="db dc cp t u dd ak de df dg"><img class="cp t u dd ak dl dm dn"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/22/1*tMEXJjzpk07yLicBUf5QAg.png?q=20"
                            width="149" height="408" role="presentation" /></div><img class="db dc cp t u dd ak do"
                          width="149" height="408" role="presentation" /><noscript><img class="cp t u dd ak"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/298/1*tMEXJjzpk07yLicBUf5QAg.png"
                            width="149" height="408" role="presentation" /></noscript>
                      </div>
                    </div>
                  </div>
                  <figcaption class="bo eu gy gz ha cn cl cm hb hc bj et">Functions provided by qfplib</figcaption>
                </figure>
                <p id="31a6" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Qfplib provides the basic
                  float-point math functions. Many other math functions are missing: <code
                    class="dj hl hm hn ho b">sinh</code>, <code class="dj hl hm hn ho b">asinh</code>, … <strong
                    class="gb gr">Can we synthesise the other math functions</strong>?</p>
                <p id="eff7" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Yes we can! And here’s the proof…
                </p>
                <p id="f29b" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm"><code
                    class="dj hl hm hn ho b">https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c</code>
                </p>
                <p id="2dd9" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm"><code
                    class="dj hl hm hn ho b"><strong class="gb gr">nano-float</strong></code> is a thin layer of code I
                  wrote (not 100% tested) that fills in the remaining math functions by calling Qfplib. <code
                    class="dj hl hm hn ho b">nano-float</code> is a drop-in replacement for the standard math library,
                  so the function signatures for the math functions are the same… just link your program with <code
                    class="dj hl hm hn ho b">nano-float</code> instead of the default math library, no recompilation
                  needed.</p>
                <p id="3a62" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">This looks like a math textbook
                  exercise but let’s derive the missing functions based on Qfplib…</p>
                <p id="bed3" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">1️⃣ <code
                    class="dj hl hm hn ho b"><a href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L373-L408" class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">log2</a></code><a
                    href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L373-L408"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow"> and </a><code
                    class="dj hl hm hn ho b"><a href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L373-L408" class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">log10</a></code>
                  were derived from Qfplib’s <code class="dj hl hm hn ho b">qfp_fln</code> (natural logarithm function)
                  because…</p>
                <figure class="gs gt gu gv gw cz cl cm paragraph-image">
                  <div class="cl cm lv">
                    <div class="dh r di dj">
                      <div class="lw r">
                        <div class="db dc cp t u dd ak de df dg"><img class="cp t u dd ak dl dm dn"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/60/1*yQ3XXvj4wOlX_KU9-bu73A.png?q=20"
                            width="221" height="58" role="presentation" /></div><img class="db dc cp t u dd ak do"
                          width="221" height="58" role="presentation" /><noscript><img class="cp t u dd ak"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/442/1*yQ3XXvj4wOlX_KU9-bu73A.png"
                            width="221" height="58" role="presentation" /></noscript>
                      </div>
                    </div>
                  </div>
                  <figcaption class="bo eu gy gz ha cn cl cm hb hc bj et"><a
                      href="https://web.archive.org/web/20191204194230/https://en.wikipedia.org/wiki/Logarithm"
                      class="at cg gn go gp gq" target="_blank"
                      rel="noopener nofollow">https://en.wikipedia.org/wiki/Logarithm</a></figcaption>
                </figure>
                <p id="947f" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">2️⃣ <code
                    class="dj hl hm hn ho b"><a href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L555-L629" class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">asin</a></code><a
                    href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L555-L629"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow"> and </a><code
                    class="dj hl hm hn ho b"><a href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L555-L629" class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">acos</a></code>
                  (inverse sine / cosine) were derived from Qfplib’s <code
                    class="dj hl hm hn ho b">qfp_fsqrt_fast</code> (square root) and <code
                    class="dj hl hm hn ho b">qfp_fatan2</code> (inverse tangent) because…</p>
                <figure class="gs gt gu gv gw cz cl cm paragraph-image">
                  <div class="cl cm lx">
                    <div class="dh r di dj">
                      <div class="ly r">
                        <div class="db dc cp t u dd ak de df dg"><img class="cp t u dd ak dl dm dn"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/60/1*kwoOS4PqDOIZ6dedO8XDKg.png?q=20"
                            width="407" height="137" role="presentation" /></div><img class="db dc cp t u dd ak do"
                          width="407" height="137" role="presentation" /><noscript><img class="cp t u dd ak"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/814/1*kwoOS4PqDOIZ6dedO8XDKg.png"
                            width="407" height="137" role="presentation" /></noscript>
                      </div>
                    </div>
                  </div>
                  <figcaption class="bo eu gy gz ha cn cl cm hb hc bj et"><a
                      href="https://web.archive.org/web/20191204194230/https://en.wikipedia.org/wiki/Inverse_trigonometric_functions"
                      class="at cg gn go gp gq" target="_blank"
                      rel="noopener nofollow">https://en.wikipedia.org/wiki/Inverse_trigonometric_functions</a>
                  </figcaption>
                </figure>
                <p id="8a59" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">3️⃣ <code
                    class="dj hl hm hn ho b"><a href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L631-L717" class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">sinh</a></code><a
                    href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L631-L717"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">, </a><code
                    class="dj hl hm hn ho b"><a href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L631-L717" class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">cosh</a></code><a
                    href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L631-L717"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow"> and </a><code
                    class="dj hl hm hn ho b"><a href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L631-L717" class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">tanh</a></code>
                  (hyperbolic sine / cosine / tangent) were derived from Qfplib’s <code
                    class="dj hl hm hn ho b">qfp_fexp</code> (natural exponential) because…</p>
                <figure class="gs gt gu gv gw cz cl cm paragraph-image">
                  <div class="cl cm lz">
                    <div class="dh r di dj">
                      <div class="ma r">
                        <div class="db dc cp t u dd ak de df dg"><img class="cp t u dd ak dl dm dn"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/60/1*iJMjYHCFDQP4w51Rqqzrcw.png?q=20"
                            width="456" height="230" role="presentation" /></div><img class="db dc cp t u dd ak do"
                          width="456" height="230" role="presentation" /><noscript><img class="cp t u dd ak"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/912/1*iJMjYHCFDQP4w51Rqqzrcw.png"
                            width="456" height="230" role="presentation" /></noscript>
                      </div>
                    </div>
                  </div>
                  <figcaption class="bo eu gy gz ha cn cl cm hb hc bj et"><a
                      href="https://web.archive.org/web/20191204194230/https://en.wikipedia.org/wiki/Hyperbolic_function"
                      class="at cg gn go gp gq" target="_blank"
                      rel="noopener nofollow">https://en.wikipedia.org/wiki/Hyperbolic_function</a></figcaption>
                </figure>
                <p id="a3f7" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">4️⃣ <code
                    class="dj hl hm hn ho b"><a href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L719-L819" class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">asinh</a></code><a
                    href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L719-L819"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">, </a><code
                    class="dj hl hm hn ho b"><a href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L719-L819" class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">acosh</a></code><a
                    href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L719-L819"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow"> and </a><code
                    class="dj hl hm hn ho b"><a href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/src/functions.c#L719-L819" class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">atanh</a></code>
                  (inverse hyperbolic sine / cosine / tangent) were derived from <code
                    class="dj hl hm hn ho b">qfplib’s</code> <code class="dj hl hm hn ho b">qfp_fln</code> (natural
                  logarithm) and <code class="dj hl hm hn ho b">qfp_fsqrt_fast</code> (square root) because…</p>
                <figure class="gs gt gu gv gw cz cl cm paragraph-image">
                  <div class="cl cm mb">
                    <div class="dh r di dj">
                      <div class="mc r">
                        <div class="db dc cp t u dd ak de df dg"><img class="cp t u dd ak dl dm dn"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/60/1*sDQG0YHQDEdbNux2QD6rdQ.png?q=20"
                            width="594" height="438" role="presentation" /></div><img class="db dc cp t u dd ak do"
                          width="594" height="438" role="presentation" /><noscript><img class="cp t u dd ak"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/1188/1*sDQG0YHQDEdbNux2QD6rdQ.png"
                            width="594" height="438" role="presentation" /></noscript>
                      </div>
                    </div>
                  </div>
                  <figcaption class="bo eu gy gz ha cn cl cm hb hc bj et"><a
                      href="https://web.archive.org/web/20191204194230/https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions"
                      class="at cg gn go gp gq" target="_blank"
                      rel="noopener nofollow">https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions</a>
                  </figcaption>
                </figure>
                <p id="1b50" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">So you can see that it’s indeed
                  possible for <code class="dj hl hm hn ho b">nano-float</code> to fill in the missing math functions by
                  simply calling Qfplib!</p>
                <p id="c6f6" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm"><strong class="gb gr">But watch
                    out for Boundary Conditions</strong> — the code in <code class="dj hl hm hn ho b">nano-float</code>
                  may not cover all of the special cases like <code
                    class="dj hl hm hn ho b">0, +infinity, -infinity, NaN</code> (not a number), …</p>
              </div>
            </div>
          </section>
          <hr class="hq et hr hs ht ha hu hv hw hx hy" />
          <section class="cu cv cw cx cy">
            <div class="cz ak">
              <figure class="gs gt gu gv gw cz ak paragraph-image">
                <div class="dh r di dj">
                  <div class="md r">
                    <div class="db dc cp t u dd ak de df dg"><img class="cp t u dd ak dl dm dn"
                        src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/60/1*-w3I_Q0Tq0eLiQcNlhFT8Q.png?q=20"
                        width="1338" height="520" role="presentation" /></div><img class="db dc cp t u dd ak do"
                      width="1338" height="520" role="presentation" /><noscript><img class="cp t u dd ak"
                        src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/2676/1*-w3I_Q0Tq0eLiQcNlhFT8Q.png"
                        width="1338" height="520" role="presentation" /></noscript>
                  </div>
                </div>
                <figcaption class="bo eu gy gz ha cn cl cm hb hc bj et">nano-float unit tests automatically extracted
                  from the nano-float source code. From <a
                    href="https://web.archive.org/web/20191204194230/https://docs.google.com/spreadsheets/d/1Uogm7SpgWVA4AiP6gqFkluaozFtlaEGMc4K2Mbfee7U/edit#gid=1740497564"
                    class="at cg gn go gp gq" target="_blank"
                    rel="noopener nofollow">https://docs.google.com/spreadsheets/d/1Uogm7SpgWVA4AiP6gqFkluaozFtlaEGMc4K2Mbfee7U/edit#gid=1740497564</a>
                </figcaption>
              </figure>
            </div>
            <div class="n p">
              <div class="ac ae af ag ah dp aj ak">
                <h1 id="6b1b" class="hz ia ds bk bj ib ic it ie iu ig iv ii iw ik ix im">Unit Test with Qemu Blue Pill
                  Emulator</h1>
                <p id="5521" class="fz ga ds bk gb b gc in ge io gg ip gi iq gk ir gm">Replacing the standard math
                  library by <code class="dj hl hm hn ho b">nano-float</code> is an onerous tasks. How can we really be
                  sure that the above formulae were <strong class="gb gr">correctly programmed</strong>? And that the
                  <code class="dj hl hm hn ho b">nano-float</code> computation results (single precision) <strong
                    class="gb gr">won’t deviate too drastically</strong> from the original math functions (double
                  precision)?</p>
                <p id="0cce" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">It’s not a perfect solution but
                  we have <strong class="gb gr">Unit Tests for </strong><code
                    class="dj hl hm hn ho b"><strong class="gb gr">nano-float</strong>: https://github.com/lupyuen/codal-libopencm3/blob/master/lib/nano-float/test/test.c</code>
                </p>
                <p id="49e8" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">These test cases are meant to be
                  run again and again to verify that the results are identical whenever we make changes to the code. The
                  test cases were automatically extracted from the <code class="dj hl hm hn ho b">nano-float</code>
                  source code by this Google Sheets spreadsheet…</p>
                <div class="me mf mg mh mi jx"><a
                    href="https://web.archive.org/web/20191204194230/https://docs.google.com/spreadsheets/d/1Uogm7SpgWVA4AiP6gqFkluaozFtlaEGMc4K2Mbfee7U/edit?source=post_page-----55093aab163a----------------------#gid=1740497564"
                    rel="noopener nofollow">
                    <section class="ka cl cm ak ce n ar kb kc kd ke kf kg kh ki kj kk kl km kn ko kp">
                      <div class="kq n co p kr ks">
                        <h2 class="bj ib kt bl ds">
                          <div class="de jy ew ex jz ez">nano-float Unit Test</div>
                        </h2>
                        <div class="ku r">
                          <h3 class="bj et eu bl bo">
                            <div class="de jy ew ex jz ez">Export Test,// Unit Tests are autogenerated. Do not update
                              here,Function,VarX,X,VarY,Y,VarResult,Result //…</div>
                          </h3>
                        </div>
                        <div class="kv r">
                          <h4 class="bj et fo bl bo">
                            <div class="de jy ew ex jz ez">docs.google.com</div>
                          </h4>
                        </div>
                      </div>
                      <div class="kw r">
                        <div class="mj r ky kz la kw lb lc ld"></div>
                      </div>
                    </section>
                  </a></div>
                <p id="42c3" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">Unit tests are also meant to be
                  run automatically at every rebuild. But the code requires a Blue Pill to execute. The solution:
                  <strong class="gb gr">Use the </strong><a
                    href="https://web.archive.org/web/20191204194230/http://beckus.github.io/qemu_stm32/"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow"><strong class="gb gr">Qemu Blue
                      Pill Emulator</strong></a><strong class="gb gr"> to execute the test cases</strong>, by simulating
                  a Blue Pill in software.</p>
                <p id="af40" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">So far the test cases confirm
                  that Qfplib is accurate up to 6 decimal digits, when compared with the standard math library
                  (double-precision). Which sounds right because Qfplib uses single-precision math (accurate to 6
                  decimal digits).</p>
                <p id="5738" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">We’ll cover <strong
                    class="gb gr">Blue Pill Unit Testing and Blue Pill Emulation</strong> in the next article.</p>
              </div>
            </div>
          </section>
          <hr class="hq et hr hs ht ha hu hv hw hx hy" />
          <section class="cu cv cw cx cy">
            <div class="cz ak">
              <figure class="gs gt gu gv gw cz ak paragraph-image">
                <div class="dh r di dj">
                  <div class="mk r">
                    <div class="db dc cp t u dd ak de df dg"><img class="cp t u dd ak dl dm dn"
                        src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/60/1*MN4FFf4lzTijRJr-f2g9NA.png?q=20"
                        width="1107" height="770" role="presentation" /></div><img class="db dc cp t u dd ak do"
                      width="1107" height="770" role="presentation" /><noscript><img class="cp t u dd ak"
                        src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/2214/1*MN4FFf4lzTijRJr-f2g9NA.png"
                        width="1107" height="770" role="presentation" /></noscript>
                  </div>
                </div>
                <figcaption class="bo eu gy gz ha cn cl cm hb hc bj et">Memory usage of the MakeCode application on Blue
                  Pill, without Qfplib and nano-float. From <a
                    href="https://web.archive.org/web/20191204194230/https://docs.google.com/spreadsheets/d/1DWFoh0Ui9j294htHzQrH-s6MuPRXct2zN8M9pj53CBk/edit#gid=381366828&amp;fvid=1359565135"
                    class="at cg gn go gp gq" target="_blank"
                    rel="noopener nofollow">https://docs.google.com/spreadsheets/d/1DWFoh0Ui9j294htHzQrH-s6MuPRXct2zN8M9pj53CBk/edit#gid=381366828&amp;fvid=1359565135</a>
                </figcaption>
              </figure>
            </div>
            <div class="n p">
              <div class="ac ae af ag ah dp aj ak">
                <h1 id="1fae" class="hz ia ds bk bj ib ic it ie iu ig iv ii iw ik ix im">How I used Qfplib and
                  nano-float</h1>
                <p id="4874" class="fz ga ds bk gb b gc in ge io gg ip gi iq gk ir gm"><a
                    href="https://web.archive.org/web/20191204194230/https://makecode.com/docs"
                    class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">MakeCode</a> is visual programming
                  tool for creating embedded programs for microcontrollers (like the BBC micro:bit), simply by dragging
                  and dropping code blocks in a web browser. It’s the perfect way to teach embedded programming to
                  beginners.</p>
                <p id="f798" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm"><a class="at cg gn go gp gq"
                    target="_blank" rel="noopener"
                    href="/web/20191204194230/https://medium.com/@ly.lee/work-in-progress-stm32-blue-pill-visual-programming-with-makecode-codal-and-libopencm3-422d308f252e">While
                    porting MakeCode to Blue Pill</a>, I had trouble squeezing all the code into Blue Pill’s 64 KB ROM.
                  (The BBC micro:bit has 256 KB of ROM, with plenty of room for large libraries.) After compiling for
                  Blue Pill, I noticed that the <strong class="gb gr">math libraries were taking huge chunks of ROM
                    storage</strong> (roughly 17 KB), which you can see in the spreadsheet above. So I made these
                  changes…</p>
                <ol class="">
                  <li id="725b" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm hd he hf">Using <code
                      class="dj hl hm hn ho b">__wrap___aeabi_dmul</code> method described earlier, I intercepted the
                    single-precision and double-precision comparison and arithmetic operations (multiply, divide) and
                    used Qfplib instead. <a
                      href="https://web.archive.org/web/20191204194230/https://github.com/lupyuen/newlib/blob/master/CMakeLists.txt#L28-L61"
                      class="at cg gn go gp gq" target="_blank" rel="noopener nofollow">Here’s the complete list of
                      intercepted functions</a>.</li>
                  <li id="d282" class="fz ga ds bk gb b gc hg ge hh gg hi gi hj gk hk gm hd he hf">I used <code
                      class="dj hl hm hn ho b">nano-float</code> as a drop-in replacement for the standard math library
                    <code class="dj hl hm hn ho b">libm.a</code>. So all calls to common math functions like <code
                      class="dj hl hm hn ho b">sin(), log(), floor()</code>, … were handled by <code
                      class="dj hl hm hn ho b">nano-float</code>.</li>
                </ol>
                <p id="5c40" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">After optimisation, the ROM usage
                  has dropped drastically, as shown below. So MakeCode might actually run on Blue Pill, assuming we
                  don’t need double-precision math. I haven’t completed my testing of MakeCode on Blue Pill yet — I’m
                  taking a break from the coding and testing to document my MakeCode porting experience, which is what
                  you’re reading now (and more to come).</p>
                <p id="063d" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm"><a class="at cg gn go gp gq"
                    target="_blank" rel="noopener"
                    href="/web/20191204194230/https://medium.com/@ly.lee/stm32-blue-pill-analyse-and-optimise-your-ram-and-rom-9fc805e16ed7?source=friends_link&amp;sk=54719084d640bb1d92ac1097d623bba2">Read
                    about Blue Pill memory optimisation in my previous article</a>.</p>
              </div>
            </div>
            <div class="cz ak">
              <figure class="gs gt gu gv gw cz ak paragraph-image">
                <div class="dh r di dj">
                  <div class="ml r">
                    <div class="db dc cp t u dd ak de df dg"><img class="cp t u dd ak dl dm dn"
                        src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/60/1*3DGjmQJot2LRDQzR-dwJRA.png?q=20"
                        width="1098" height="697" role="presentation" /></div><img class="db dc cp t u dd ak do"
                      width="1098" height="697" role="presentation" /><noscript><img class="cp t u dd ak"
                        src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/max/2196/1*3DGjmQJot2LRDQzR-dwJRA.png"
                        width="1098" height="697" role="presentation" /></noscript>
                  </div>
                </div>
                <figcaption class="bo eu gy gz ha cn cl cm hb hc bj et">Memory usage of the MakeCode application on Blue
                  Pill, with Qfplib and nano-float. From <a
                    href="https://web.archive.org/web/20191204194230/https://docs.google.com/spreadsheets/d/1OmD1XmUQJTIiXklYx-eui27MFBBhnXrCNaJwSUFDiN8/edit#gid=381366828&amp;fvid=1359565135"
                    class="at cg gn go gp gq" target="_blank"
                    rel="noopener nofollow">https://docs.google.com/spreadsheets/d/1OmD1XmUQJTIiXklYx-eui27MFBBhnXrCNaJwSUFDiN8/edit#gid=381366828&amp;fvid=1359565135</a>
                </figcaption>
              </figure>
            </div>
          </section>
          <hr class="hq et hr hs ht ha hu hv hw hx hy" />
          <section class="cu cv cw cx cy">
            <div class="n p">
              <div class="ac ae af ag ah dp aj ak">
                <h1 id="f67f" class="hz ia ds bk bj ib ic id ie if ig ih ii ij ik il im">The Daring Proposition</h1>
                <p id="b9cb" class="fz ga ds bk gb b gc in ge io gg ip gi iq gk ir gm">In this article I have argued
                  that<strong class="gb gr"> we don’t need highly-precise double-precision math libraries all the
                    time</strong>. It’s plausible that <strong class="gb gr">single-precision math (optimised with
                    Qfplib) is sufficient for IoT and for Blue Pill embedded programs</strong>. If we accept this, then
                  the lowly Blue Pill microcontroller will be able to run math programs that were previously too big to
                  fit on Blue Pill. Like the MakeCode visual programming tool.</p>
                <p id="eda3" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm">But this needs to be validated
                  through real-world testing (I’ll be validating shortly through MakeCode). For the daring embedded
                  programmers… All the code you need is already in this article, so go ahead and try it out!</p>
                <p id="0017" class="fz ga ds bk gb b gc gd ge gf gg gh gi gj gk gl gm"><em class="hp">Many thanks to
                    Fabien Petitgrand for the precious feedback</em></p>
              </div>
            </div>
          </section>
        </div>
      </article>
      <div class="db ct mm s ak mn mo mp" data-test-id="post-sidebar">
        <div class="n p">
          <div class="ac ae af ag ah ai aj ak">
            <div class="mq n co">
              <div class="ct">
                <div class="mr ms mt n">
                  <div class="n o">
                    <div class="mu r di"><a
                        href="https://web.archive.org/web/20191204194230/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fstm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a&amp;source=post_sidebar-----55093aab163a---------------------clap_sidebar-"
                        class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener">
                        <div class="ba mv mw mx my mz na nb nc nd ne"><svg width="29" height="29">
                            <g fill-rule="evenodd">
                              <path
                                d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z">
                              </path>
                            </g>
                          </svg></div>
                      </a></div>
                    <div class="nf r">
                      <div class="ng">
                        <h4 class="bj et eu bl bo"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi">23
                          </button></h4>
                      </div>
                    </div>
                  </div>
                </div>
                <div>
                  <div class="cf"><a
                      href="https://web.archive.org/web/20191204194230/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fstm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a&amp;source=post_sidebar--------------------------bookmark_sidebar-"
                      class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25" height="25"
                        viewbox="0 0 25 25">
                        <path
                          d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                          fill-rule="evenodd"></path>
                      </svg></a></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="db ct mm s nh en ni nj mo nk"></div>
      <div>
        <div class="nl cz n co p">
          <div class="n p">
            <div class="ac ae af ag ah dp aj ak">
              <div class="n nm"></div>
              <div class="n o nm"></div>
              <div class="nn r">
                <ul class="ba bb">
                  <li class="cf no np nq"><a href="/web/20191204194230/https://medium.com/tag/programming"
                      class="nr ns cg bo r jo nt a b fo">Programming</a></li>
                  <li class="cf no np nq"><a href="/web/20191204194230/https://medium.com/tag/embedded-systems"
                      class="nr ns cg bo r jo nt a b fo">Embedded Systems</a></li>
                  <li class="cf no np nq"><a href="/web/20191204194230/https://medium.com/tag/stm32"
                      class="nr ns cg bo r jo nt a b fo">Stm32</a></li>
                  <li class="cf no np nq"><a href="/web/20191204194230/https://medium.com/tag/internet-of-things"
                      class="nr ns cg bo r jo nt a b fo">Internet of Things</a></li>
                </ul>
              </div>
              <div class="nu n ed ab">
                <div class="n o">
                  <div class="nv r di"><a
                      href="https://web.archive.org/web/20191204194230/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fstm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a&amp;source=post_actions_footer-----55093aab163a---------------------clap_footer-"
                      class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener">
                      <div class="c nw ep n o nx di ny nz oa ob oc od oe of og oh oi oj ok ol">
                        <div class="ba mv mw mx my mz om nb o do ep n p on u dd cp t ak nc nd ne oo"><svg width="33"
                            height="33" viewbox="0 0 33 33">
                            <path
                              d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z"
                              fill-rule="evenodd"></path>
                          </svg></div>
                      </div>
                    </a></div>
                  <div class="nf r">
                    <div class="ng">
                      <h4 class="bj et eu bl ds"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi">23
                          claps</button></h4>
                    </div>
                  </div>
                </div>
                <div class="n o">
                  <div class="fx r ar"><a
                      href="//web.archive.org/web/20191204194230/https://medium.com/p/55093aab163a/share/twitter?source=post_actions_footer---------------------------"
                      class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg
                        width="29" height="29" class="q">
                        <path
                          d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z">
                        </path>
                      </svg></a></div>
                  <div class="fx r ar"><a
                      href="//web.archive.org/web/20191204194230/https://medium.com/p/55093aab163a/share/linkedIn?source=post_actions_footer---------------------------"
                      class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg
                        width="29" height="29" viewbox="0 0 29 29" fill="none" class="q">
                        <path
                          d="M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z">
                        </path>
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z"
                          fill="#fff"></path>
                      </svg></a></div>
                  <div class="fx r ar"><a
                      href="//web.archive.org/web/20191204194230/https://medium.com/p/55093aab163a/share/facebook?source=post_actions_footer---------------------------"
                      class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" target="_blank" rel="noopener"><svg
                        width="29" height="29" class="q">
                        <path
                          d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79">
                        </path>
                      </svg></a></div>
                  <div class="fx r ar">
                    <div>
                      <div class="cf"><a
                          href="https://web.archive.org/web/20191204194230/https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40ly.lee%2Fstm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a&amp;source=post_actions_footer--------------------------bookmark_sidebar-"
                          class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><svg width="25"
                            height="25" viewbox="0 0 25 25">
                            <path
                              d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z"
                              fill-rule="evenodd"></path>
                          </svg></a></div>
                    </div>
                  </div>
                  <div class="cf">
                    <div class="cf">
                      <div class="cf">
                        <div class="r ar"><button class="at au av aw ax ay az ba bb bc bd be bf bg bh bi"><svg
                              width="25" height="25" viewbox="-480.5 272.5 21 21" class="q">
                              <path
                                d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z">
                              </path>
                            </svg></button></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="op oq or nn r ab">
                <div class="os ot r di"><span class="r ou an ov">
                    <div class="r cp ow ox"><a rel="noopener"
                        href="/web/20191204194230/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-">
                        <div class="di oy oz">
                          <div class="bs n ej o p cp ek el em en eo ct"><svg width="91" height="91" viewbox="0 0 91 91">
                              <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M45.5 1.4c-17.14 0-32 9.95-39.25 24.5L5 25.28C12.47 10.28 27.8 0 45.5 0S78.53 10.29 86 25.28l-1.25.62C77.5 11.35 62.65 1.4 45.5 1.4zM6.25 65.1c7.25 14.55 22.1 24.5 39.25 24.5 17.14 0 32-9.95 39.25-24.5l1.25.62C78.53 80.72 63.2 91 45.5 91S12.47 80.71 5 65.72l1.25-.62z">
                              </path>
                            </svg></div><img alt="Lup Yuen Lee 李立源" class="r ep oz oy"
                            src="https://web.archive.org/web/20191204194230im_/https://miro.medium.com/fit/c/160/160/1*KGohS3sQaUnr58gc0BIfoQ.jpeg"
                            width="80" height="80" />
                        </div>
                      </a></div><span class="r">
                      <div class="pa r pb">
                        <p class="bj et fo bl bo pc pd">Written by</p>
                      </div>
                      <div class="pa pe n pb">
                        <div class="ak n o ed">
                          <h2 class="bj ib hr pf ds"><a class="at au av aw ax ay az ba bb bc bd be bf bg bh bi"
                              rel="noopener"
                              href="/web/20191204194230/https://medium.com/@ly.lee?source=follow_footer--------------------------follow_footer-">Lup
                              Yuen Lee 李立源</a></h2>
                          <div class="r g"><button
                              class="pg ds q by fd fe ff fg bc bh fh fi fj fk fl fm cb bj b bk bl bm bn cc cd ce cf cg bf">Follow</button>
                          </div>
                        </div>
                      </div>
                    </span>
                  </span>
                  <div class="pa ph r pb aq">
                    <div class="pi r">
                      <h4 class="bj et kt pj bo">Techie and Educator in IoT 物聯網教師</h4>
                    </div>
                    <div class="ap pk aq"><button
                        class="pg ds q by fd fe ff fg bc bh fh fi fj fk fl fm cb bj b bk bl bm bn cc cd ce cf cg bf">Follow</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="pl oq r ab"><a
                  href="https://web.archive.org/web/20191204194230/https://medium.com/p/55093aab163a/responses/show?source=follow_footer--------------------------follow_footer-"
                  class="at au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener"><span class="pm pn my">
                    <div class="jn po cb r ha g"><span class="br">Write the first response</span></div>
                  </span></a></div>
            </div>
          </div>
          <div class="pp r pq ab">
            <div class="n p">
              <div class="ac ae af ag ah ai aj ak"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="pr r ps pt">
        <section class="cl cm ak ce r kb kc kd ke kf kg kh ki kj kk kl km kn ko kp">
          <div class="pu pv os n ed g">
            <div class="pw n ed">
              <div class="px r py">
                <div class="pz r"><a
                    href="https://web.archive.org/web/20191204194230/https://medium.com/about?autoplay=1&amp;source=post_page-----55093aab163a----------------------"
                    class="at au av aw ax ay az ba bb bc qa qb bf bg qc qd" rel="noopener">
                    <h4 class="qe qf qg bj ib bk pj qh qi r">Discover
                      <!-- -->Medium
                    </h4>
                  </a></div><span class="bj b bk bl bm bn r qj qk">Welcome to a place where words matter. On
                  <!-- -->Medium
                  <!-- -->, smart voices and original ideas take center stage - with no ads in sight.
                  <!-- --> <a
                    href="https://web.archive.org/web/20191204194230/https://medium.com/about?autoplay=1&amp;source=post_page-----55093aab163a----------------------"
                    class="at au av aw ax ay az ba bb bc bf bg qc qd ql" rel="noopener">Watch</a>
                </span>
              </div>
              <div class="px r py">
                <div class="qm r"><a
                    href="https://web.archive.org/web/20191204194230/https://medium.com/topics?source=post_page-----55093aab163a----------------------"
                    class="at au av aw ax ay az ba bb bc qa qb bf bg qc qd" rel="noopener">
                    <h4 class="qe qf qg bj ib bk pj qh qi r">Make
                      <!-- -->Medium
                      <!-- --> yours
                    </h4>
                  </a></div><span class="bj b bk bl bm bn r qj qk">Follow all the topics you care about, and we’ll
                  deliver the best stories for you to your homepage and inbox.
                  <!-- --> <a
                    href="https://web.archive.org/web/20191204194230/https://medium.com/topics?source=post_page-----55093aab163a----------------------"
                    class="at au av aw ax ay az ba bb bc bf bg qc qd ql" rel="noopener">Explore</a>
                </span>
              </div>
              <div class="px r py">
                <div class="pz r"><a
                    href="https://web.archive.org/web/20191204194230/https://medium.com/membership?source=post_page-----55093aab163a----------------------"
                    class="at au av aw ax ay az ba bb bc qa qb bf bg qc qd" rel="noopener">
                    <h4 class="qe qf qg bj ib bk pj qh qi r">Become a member</h4>
                  </a></div><span class="bj b bk bl bm bn r qj qk">Get unlimited access to the best stories on
                  <!-- -->Medium
                  <!-- --> — and support writers while you’re at it. Just $5/month.
                  <!-- --> <a
                    href="https://web.archive.org/web/20191204194230/https://medium.com/membership?source=post_page-----55093aab163a----------------------"
                    class="at au av aw ax ay az ba bb bc bf bg qc qd ql" rel="noopener">Upgrade</a>
                </span>
              </div>
            </div>
          </div>
          <div class="n o ed"><a class="at au av aw ax ay az ba bb bc qa qb bf bg qc qd" rel="noopener"
              href="/web/20191204194230/https://medium.com/?source=post_page-----55093aab163a----------------------"><svg
                height="22" width="112" viewbox="0 0 111.5 22" class="qf">
                <path
                  d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z">
                </path>
              </svg></a><span class="bj b bk bl bm bn r qj qk">
              <div class="qn qo n ed qp an"><a
                  href="https://web.archive.org/web/20191204194230/https://medium.com/about?autoplay=1&amp;source=post_page-----55093aab163a----------------------"
                  class="at au av aw ax ay az ba bb bc fa bf bg qc qd" rel="noopener">About</a><a
                  href="https://web.archive.org/web/20191204194230/https://help.medium.com/?source=post_page-----55093aab163a----------------------"
                  class="at au av aw ax ay az ba bb bc fa bf bg qc qd" rel="noopener">Help</a><a
                  class="at au av aw ax ay az ba bb bc fa bf bg qc qd" rel="noopener"
                  href="/web/20191204194230/https://medium.com/policy/9db0094a1e0f?source=post_page-----55093aab163a----------------------">Legal</a>
              </div>
            </span></div>
        </section>
      </div>
    </div>
  </div>
  <script src="https://web.archive.org/web/20191204194230js_/https://cdn.optimizely.com/js/16180790160.js"></script>
  <script>window.__BUILD_ID__ = "development"</script>
  <script>window.__GRAPHQL_URI__ = "https://web.archive.org/web/20191204194230/https://medium.com/_/graphql"</script>
  <script>window.__PRELOADED_STATE__ = { "config": { "nodeEnv": "production", "version": "master-20191204-181919-f1d0be3b6c", "productName": "Medium", "publicUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fcdn-client.medium.com\u002Flite", "authDomain": "medium.com", "authGoogleClientId": "216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com", "favicon": "production", "glyphUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fglyph.medium.com", "branchKey": "key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm", "lightStep": { "name": "lite-web", "host": "collector-medium.lightstep.com", "token": "ce5be895bef60919541332990ac9fef2", "appVersion": "master-20191204-181919-f1d0be3b6c" }, "algolia": { "appId": "MQ57UUUQZ2", "apiKeySearch": "394474ced050e3911ae2249ecc774921", "indexPrefix": "medium_", "host": "-dsn.algolia.net" }, "recaptchaKey": "6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk", "sentry": { "dsn": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002F589e367c28ca47b195ce200d1507d18b@sentry.io\u002F1423575", "environment": "production" }, "isAmp": false, "googleAnalyticsCode": "UA-24232453-2", "signInWallCustomDomainCollectionIds": ["3a8144eabfe3", "336d898217ee", "61061eb0c96b", "138adf9c44c", "819cc2aaeee0"], "mediumOwnedAndOperatedCollectionIds": ["544c7006046e", "bcc38c8f6edf", "444d13b52878", "8d6b8a439e32", "92d2092dc598", "1285ba81cada", "cb8577c9149e", "8ccfed20cbb2", "ae2a65f35510", "3f6ecf56618", "7b6769f2748b", "fc8964313712", "ef8e90590e66", "191186aaafa0", "d944778ce714", "bdc4052bbdba", "88d9857e584e"], "tierOneDomains": ["medium.com", "thebolditalic.com", "arcdigital.media", "towardsdatascience.com", "uxdesign.cc", "codeburst.io", "psiloveyou.xyz", "writingcooperative.com", "entrepreneurshandbook.co", "prototypr.io", "betterhumans.coach.me", "theascent.pub"] }, "debug": { "requestId": "8f55c8c5-1f8a-4af5-b11c-734bea3394b6", "originalSpanCarrier": { "ot-tracer-spanid": "55c45fda2cee1ccd", "ot-tracer-traceid": "302da5325e4f4c5c", "ot-tracer-sampled": "true" } }, "session": { "user": { "id": "lo_m1Ju93cfZ4DD" }, "xsrf": "" }, "stats": { "itemCount": 0, "sending": false, "timeout": null, "backup": {} }, "navigation": { "showBranchBanner": null, "hasRenderedBranchBanner": null, "hideGoogleOneTap": false, "hideAlternateUser": false, "branchData": { "loaded": false }, "shareKey": "d7cd162dabcc45f96490e5e1f5f4c534", "referrerSource": "friends_link", "currentLocation": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fstm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a", "host": "medium.com", "hostname": "medium.com", "referrer": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmedium.com\u002Ftag\u002Frust", "susiModal": { "step": null, "operation": "register", "reportEventInfo": { "eventName": "", "data": {} } } }, "client": { "isBot": false, "isEu": false, "isNativeMedium": false, "isCustomDomain": false }, "multiVote": { "clapsPerPost": {} }, "metadata": { "faviconImageId": null } }</script>
  <script>window.__APOLLO_STATE__ = { "ROOT_QUERY": { "viewer": null, "variantFlags": [{ "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.0", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.1", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.2", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.3", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.4", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.5", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.6", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.7", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.8", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.9", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.10", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.11", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.12", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.13", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.14", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.15", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.16", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.17", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.18", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.19", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.20", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.21", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.22", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.23", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.24", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.25", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.26", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.27", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.28", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.29", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.30", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.31", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.32", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.33", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.34", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.35", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.36", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.37", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.38", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.39", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.40", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.41", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.42", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.43", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.44", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.45", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.46", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.47", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.48", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.49", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.50", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.51", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.52", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.53", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.54", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.55", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.56", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.57", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.58", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.59", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.60", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.61", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.62", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.63", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.64", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.65", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.66", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.67", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.68", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.69", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.70", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.71", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.72", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.73", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.74", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.75", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.76", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.77", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.78", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.79", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.80", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.81", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.82", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.83", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.84", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.85", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.86", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.87", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.88", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.89", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.90", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.91", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.92", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.93", "typename": "VariantFlag" }, { "type": "id", "generated": true, "id": "ROOT_QUERY.variantFlags.94", "typename": "VariantFlag" }], "meterPost({\"postId\":\"55093aab163a\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}})": { "type": "id", "generated": false, "id": "MeteringInfo:singleton", "typename": "MeteringInfo" }, "postResult({\"id\":\"55093aab163a\"})": { "type": "id", "generated": false, "id": "Post:55093aab163a", "typename": "Post" } }, "ROOT_QUERY.variantFlags.0": { "name": "allow_access", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.0.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.0.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.1": { "name": "allow_signup", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.1.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.1.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.2": { "name": "allow_test_auth", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.2.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.2.valueType": { "__typename": "VariantFlagString", "value": "disallow" }, "ROOT_QUERY.variantFlags.3": { "name": "available_annual_plan", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.3.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.3.valueType": { "__typename": "VariantFlagString", "value": "2c754bcc2995" }, "ROOT_QUERY.variantFlags.4": { "name": "available_monthly_plan", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.4.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.4.valueType": { "__typename": "VariantFlagString", "value": "60e220181034" }, "ROOT_QUERY.variantFlags.5": { "name": "browsable_stream_config_bucket", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.5.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.5.valueType": { "__typename": "VariantFlagString", "value": "curated-topics" }, "ROOT_QUERY.variantFlags.6": { "name": "daily_read_non_silent", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.6.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.6.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.7": { "name": "disable_gosocial_followers_that_you_follow", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.7.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.7.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.8": { "name": "disable_ios_resume_reading_toast", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.8.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.8.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.9": { "name": "disable_mobile_featured_chunk", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.9.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.9.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.10": { "name": "disable_post_recommended_from_friends_provider", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.10.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.10.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.11": { "name": "enable_annual_renewal_reminder_email", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.11.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.11.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.12": { "name": "enable_app_flirty_thirty", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.12.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.12.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.13": { "name": "enable_automated_mission_control_triggers", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.13.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.13.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.14": { "name": "enable_branch_io", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.14.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.14.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.15": { "name": "enable_branding", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.15.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.15.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.16": { "name": "enable_branding_fonts", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.16.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.16.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.17": { "name": "enable_dedicated_series_tab_api_ios", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.17.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.17.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.18": { "name": "enable_different_grid", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.18.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.18.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.19": { "name": "enable_disregard_trunc_state_for_footer", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.19.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.19.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.20": { "name": "enable_edit_alt_text", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.20.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.20.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.21": { "name": "enable_email_sign_in_captcha", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.21.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.21.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.22": { "name": "enable_embedding_based_diversification", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.22.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.22.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.23": { "name": "enable_filter_by_resend_rules", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.23.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.23.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.24": { "name": "enable_first_name_on_blocker_banner", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.24.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.24.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.25": { "name": "enable_first_name_on_paywall", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.25.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.25.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.26": { "name": "enable_gift_membership_ended_email", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.26.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.26.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.27": { "name": "enable_google_one_tap", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.27.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.27.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.28": { "name": "enable_graphql_lo_cache", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.28.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.28.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.29": { "name": "enable_inline_search_lite", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.29.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.29.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.30": { "name": "enable_inline_search_popover_lite", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.30.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.30.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.31": { "name": "enable_ios_post_stats", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.31.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.31.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.32": { "name": "enable_janky_spam_rules", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.32.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.32.valueType": { "__typename": "VariantFlagString", "value": "users,posts" }, "ROOT_QUERY.variantFlags.33": { "name": "enable_kafka_events", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.33.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.33.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.34": { "name": "enable_lite_notifications", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.34.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.34.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.35": { "name": "enable_lite_post", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.35.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.35.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.36": { "name": "enable_lite_post_cd", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.36.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.36.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.37": { "name": "enable_lite_post_highlights", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.37.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.37.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.38": { "name": "enable_lite_post_highlights_view_only", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.38.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.38.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.39": { "name": "enable_lite_profile", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.39.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.39.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.40": { "name": "enable_lite_pub_header_menu", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.40.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.40.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.41": { "name": "enable_lite_read_next", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.41.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.41.valueType": { "__typename": "VariantFlagString", "value": "sidebar" }, "ROOT_QUERY.variantFlags.42": { "name": "enable_lite_stories", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.42.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.42.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.43": { "name": "enable_lite_topics", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.43.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.43.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.44": { "name": "enable_lite_unread_notification_count_mutation", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.44.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.44.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.45": { "name": "enable_lo_homepage", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.45.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.45.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.46": { "name": "enable_lo_scroll_away_metabar", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.46.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.46.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.47": { "name": "enable_logged_out_homepage_signup", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.47.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.47.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.48": { "name": "enable_marketing_emails", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.48.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.48.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.49": { "name": "enable_media_resource_try_catch", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.49.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.49.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.50": { "name": "enable_membership_remove_section_a", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.50.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.50.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.51": { "name": "enable_membership_thank_you_email", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.51.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.51.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.52": { "name": "enable_more_branch_data", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.52.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.52.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.53": { "name": "enable_multi_day_pub_digests", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.53.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.53.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.54": { "name": "enable_new_collaborative_filtering_data", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.54.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.54.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.55": { "name": "enable_new_gdpr_partner_export", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.55.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.55.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.56": { "name": "enable_new_partner_dashboard", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.56.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.56.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.57": { "name": "enable_new_partner_program_updates", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.57.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.57.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.58": { "name": "enable_new_pub_fonts", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.58.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.58.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.59": { "name": "enable_new_pub_modules", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.59.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.59.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.60": { "name": "enable_new_suspended_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.60.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.60.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.61": { "name": "enable_new_three_dot_menu", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.61.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.61.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.62": { "name": "enable_no_cache_control", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.62.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.62.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.63": { "name": "enable_optimizely", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.63.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.63.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.64": { "name": "enable_parsely", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.64.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.64.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.65": { "name": "enable_patronus_on_kubernetes", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.65.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.65.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.66": { "name": "enable_popularity_feature", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.66.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.66.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.67": { "name": "enable_post_import", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.67.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.67.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.68": { "name": "enable_post_settings_screen", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.68.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.68.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.69": { "name": "enable_primary_topic_for_mobile", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.69.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.69.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.70": { "name": "enable_rito_caching", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.70.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.70.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.71": { "name": "enable_rtr_channel", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.71.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.71.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.72": { "name": "enable_save_to_medium", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.72.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.72.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.73": { "name": "enable_sign_up_with_email", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.73.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.73.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.74": { "name": "enable_stripe_express_initial_expansion_copy", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.74.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.74.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.75": { "name": "enable_stripe_express_rest_of_world_copy", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.75.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.75.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.76": { "name": "enable_suggest_account", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.76.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.76.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.77": { "name": "enable_susi_font_changes", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.77.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.77.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.78": { "name": "enable_tick_landing_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.78.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.78.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.79": { "name": "enable_tipalti_onboarding", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.79.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.79.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.80": { "name": "enable_topic_lifecycle_email", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.80.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.80.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.81": { "name": "enable_tribute_landing_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.81.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.81.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.82": { "name": "enable_trumpland_landing_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.82.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.82.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.83": { "name": "glyph_font_set", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.83.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.83.valueType": { "__typename": "VariantFlagString", "value": "m2" }, "ROOT_QUERY.variantFlags.84": { "name": "google_sign_in_android", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.84.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.84.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.85": { "name": "is_not_medium_subscriber", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.85.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.85.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.86": { "name": "new_transition_page", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.86.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.86.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.87": { "name": "pub_digest_cta_in_digest_copy1", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.87.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.87.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.88": { "name": "pub_sidebar", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.88.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.88.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.89": { "name": "rank_model", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.89.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.89.valueType": { "__typename": "VariantFlagString", "value": "default" }, "ROOT_QUERY.variantFlags.90": { "name": "redis_read_write_splitting", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.90.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.90.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.91": { "name": "share_post_linkedin", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.91.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.91.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "ROOT_QUERY.variantFlags.92": { "name": "signin_services", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.92.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.92.valueType": { "__typename": "VariantFlagString", "value": "twitter,facebook,google,email,google-fastidv,google-one-tap" }, "ROOT_QUERY.variantFlags.93": { "name": "signup_services", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.93.valueType", "typename": "VariantFlagString" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.93.valueType": { "__typename": "VariantFlagString", "value": "twitter,facebook,google,email,google-fastidv,google-one-tap" }, "ROOT_QUERY.variantFlags.94": { "name": "use_new_admin_topic_backend", "valueType": { "type": "id", "generated": true, "id": "$ROOT_QUERY.variantFlags.94.valueType", "typename": "VariantFlagBoolean" }, "__typename": "VariantFlag" }, "$ROOT_QUERY.variantFlags.94.valueType": { "__typename": "VariantFlagBoolean", "value": true }, "MeteringInfo:singleton": { "__typename": "MeteringInfo", "postIds": { "type": "json", "json": [] }, "maxUnlockCount": 3, "unlocksRemaining": 3 }, "Post:55093aab163a": { "__typename": "Post", "visibility": "PUBLIC", "latestPublishedVersion": "c0d89ee78940", "collection": null, "id": "55093aab163a", "creator": { "type": "id", "generated": false, "id": "User:1da08193a324", "typename": "User" }, "isLocked": false, "lockedSource": "LOCKED_POST_SOURCE_NONE", "sequence": null, "mediumUrl": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fstm32-blue-pill-shrink-your-math-libraries-with-qfplib-55093aab163a", "canonicalUrl": "", "content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}})": { "type": "id", "generated": true, "id": "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}})", "typename": "PostContent" }, "firstPublishedAt": 1548837728956, "isPublished": true, "layerCake": 4, "primaryTopic": null, "title": "STM32 Blue Pill – Shrink your math libraries with Qfplib", "isLimitedState": false, "pendingCollection": { "type": "id", "generated": false, "id": "Collection:721b17443fd5", "typename": "Collection" }, "shareKey": null, "statusForCollection": "PENDING", "readingTime": 8.930188679245283, "readingList": "READING_LIST_NONE", "license": "ALL_RIGHTS_RESERVED", "allowResponses": true, "tags": [{ "type": "id", "generated": false, "id": "Tag:programming", "typename": "Tag" }, { "type": "id", "generated": false, "id": "Tag:embedded-systems", "typename": "Tag" }, { "type": "id", "generated": false, "id": "Tag:stm32", "typename": "Tag" }, { "type": "id", "generated": false, "id": "Tag:internet-of-things", "typename": "Tag" }], "viewerClapCount": 0, "clapCount": 23, "voterCount": 3, "recommenders": [], "responsesCount": 0, "collaborators": [], "translationSourcePost": null, "newsletterId": "", "inResponseToPostResult": null, "inResponseToMediaResource": null, "curationEligibleAt": 1548837727063, "audioVersionUrl": "", "seoTitle": "", "socialTitle": "", "socialDek": "", "metaDescription": "Floating-point math libraries can bloat your Blue Pill code. Here’s one way to fix that", "latestPublishedAt": 1548842016711, "wordCount": 2022, "previewContent": { "type": "id", "generated": true, "id": "$Post:55093aab163a.previewContent", "typename": "PreviewContent" }, "previewImage": { "type": "id", "generated": false, "id": "ImageMetadata:1*Vxgr9fS45NRgtYPmDzkOgg.png", "typename": "ImageMetadata" }, "updatedAt": 1548842837421, "topics": [], "seoDescription": "", "isSuspended": false }, "User:1da08193a324": { "id": "1da08193a324", "__typename": "User", "isSuspended": false, "allowNotes": true, "name": "Lup Yuen Lee 李立源", "isFollowing": false, "username": "ly.lee", "bio": "Techie and Educator in IoT 物聯網教師", "imageId": "1*KGohS3sQaUnr58gc0BIfoQ.jpeg", "mediumMemberAt": 1571194811000, "isBlocking": false, "isPartnerProgramEnrolled": false, "twitterScreenName": "MisterTechBlog" }, "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}})": { "isLockedPreviewOnly": false, "validatedShareKey": "d7cd162dabcc45f96490e5e1f5f4c534", "__typename": "PostContent", "bodyModel": { "type": "id", "generated": true, "id": "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel", "typename": "RichText" } }, "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.0": { "name": "6929", "startIndex": 0, "textLayout": "FLOW", "imageLayout": "NONE", "backgroundImage": null, "videoLayout": "NO_VIDEO", "backgroundVideo": null, "__typename": "Section" }, "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.1": { "name": "6160", "startIndex": 12, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.2": { "name": "ce7d", "startIndex": 17, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.3": { "name": "3414", "startIndex": 35, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.4": { "name": "1741", "startIndex": 45, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.5": { "name": "5fbf", "startIndex": 60, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.6": { "name": "f2b7", "startIndex": 65, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.7": { "name": "3998", "startIndex": 83, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.8": { "name": "3fa1", "startIndex": 92, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.9": { "name": "3f28", "startIndex": 101, "textLayout": null, "imageLayout": null, "backgroundImage": null, "videoLayout": null, "backgroundVideo": null, "__typename": "Section" }, "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel": { "sections": [{ "type": "id", "generated": true, "id": "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.0", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.1", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.2", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.3", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.4", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.5", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.6", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.7", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.8", "typename": "Section" }, { "type": "id", "generated": true, "id": "$Post:55093aab163a.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Ftag\u002Frust\",\"sk\":\"d7cd162dabcc45f96490e5e1f5f4c534\",\"source\":\"friends_link\"}}).bodyModel.sections.9", "typename": "Section" }], "paragraphs": [{ "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_0", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_1", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_2", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_3", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_4", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_5", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_6", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_7", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_8", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_9", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_10", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_11", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_12", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_13", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_14", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_15", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_16", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_17", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_18", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_19", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_20", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_21", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_22", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_23", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_24", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_25", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_26", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_27", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_28", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_29", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_30", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_31", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_32", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_33", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_34", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_35", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_36", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_37", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_38", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_39", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_40", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_41", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_42", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_43", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_44", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_45", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_46", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_47", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_48", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_49", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_50", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_51", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_52", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_53", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_54", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_55", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_56", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_57", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_58", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_59", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_60", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_61", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_62", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_63", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_64", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_65", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_66", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_67", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_68", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_69", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_70", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_71", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_72", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_73", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_74", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_75", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_76", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_77", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_78", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_79", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_80", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_81", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_82", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_83", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_84", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_85", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_86", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_87", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_88", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_89", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_90", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_91", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_92", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_93", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_94", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_95", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_96", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_97", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_98", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_99", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_100", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_101", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_102", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_103", "typename": "Paragraph" }, { "type": "id", "generated": false, "id": "Paragraph:c0d89ee78940_104", "typename": "Paragraph" }], "__typename": "RichText" }, "Paragraph:c0d89ee78940_0": { "id": "c0d89ee78940_0", "name": "5182", "type": "IMG", "href": null, "layout": "FULL_WIDTH", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*Vxgr9fS45NRgtYPmDzkOgg.png", "typename": "ImageMetadata" }, "text": "", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*Vxgr9fS45NRgtYPmDzkOgg.png": { "id": "1*Vxgr9fS45NRgtYPmDzkOgg.png", "originalHeight": 943, "originalWidth": 2354, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:c0d89ee78940_1": { "id": "c0d89ee78940_1", "name": "457c", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "STM32 Blue Pill – Shrink your math libraries with Qfplib", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_2": { "id": "c0d89ee78940_2", "name": "7318", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Check out this magic trick… Why does Blue Pill think that 123 times 456 is 123,456 ???!!! Here’s the full source code.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_2.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_2.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_2.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_2.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_2.markups.4", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_2.markups.0": { "type": "A", "start": 37, "end": 46, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttp:\u002F\u002Fwiki.stm32duino.com\u002Findex.php?title=Blue_Pill", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_2.markups.1": { "type": "A", "start": 90, "end": 117, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-math-hack", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_2.markups.2": { "type": "STRONG", "start": 58, "end": 61, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_2.markups.3": { "type": "STRONG", "start": 68, "end": 71, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_2.markups.4": { "type": "STRONG", "start": 75, "end": 82, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_3": { "id": "c0d89ee78940_3", "name": "8c9b", "type": "IFRAME", "href": null, "layout": "FULL_WIDTH", "metadata": null, "text": "Blue Pill thinks that 123 times 456 is 123,456", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:c0d89ee78940_3.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "MediaResource:ab294a3ed95a76c600c47d38d8a3c8d5": { "id": "ab294a3ed95a76c600c47d38d8a3c8d5", "iframeSrc": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fcdn.embedly.com\u002Fwidgets\u002Fmedia.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2F3AedU60qGFI%3Ffeature%3Doembed&url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D3AedU60qGFI&image=https%3A%2F%2Fi.ytimg.com%2Fvi%2F3AedU60qGFI%2Fhqdefault.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=youtube", "iframeHeight": 480, "iframeWidth": 640, "title": "STM32 Blue Pill Math Hack", "__typename": "MediaResource" }, "$Paragraph:c0d89ee78940_3.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:ab294a3ed95a76c600c47d38d8a3c8d5", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:c0d89ee78940_4": { "id": "c0d89ee78940_4", "name": "c4ff", "type": "P", "href": null, "layout": null, "metadata": null, "text": "This article explains how we hacked Blue Pill to create this interesting behaviour, and how we may exploit this hack to cut down the size of our math libraries…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_5": { "id": "c0d89ee78940_5", "name": "2b57", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "What are Math Libraries? How does Blue Pill perform math computations?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_5.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_5.markups.0": { "type": "STRONG", "start": 9, "end": 23, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_6": { "id": "c0d89ee78940_6", "name": "e9d5", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Qfplib the tiny math library", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_6.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_6.markups.0": { "type": "STRONG", "start": 0, "end": 6, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_7": { "id": "c0d89ee78940_7", "name": "9fb2", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Single vs Double-Precision numbers. Do we really need Double-Precision?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_7.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_7.markups.0": { "type": "STRONG", "start": 0, "end": 26, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_8": { "id": "c0d89ee78940_8", "name": "c835", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Filling in the missing math functions with nano-float", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_8.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_8.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_8.markups.0": { "type": "CODE", "start": 43, "end": 53, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_8.markups.1": { "type": "STRONG", "start": 43, "end": 53, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_9": { "id": "c0d89ee78940_9", "name": "7992", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Testing Qfplib and nano-float", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_9.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_9.markups.0": { "type": "STRONG", "start": 0, "end": 7, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_10": { "id": "c0d89ee78940_10", "name": "1735", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "My experience with Qfplib and nano-float", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_10.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_10.markups.0": { "type": "STRONG", "start": 0, "end": 13, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_11": { "id": "c0d89ee78940_11", "name": "5c62", "type": "P", "href": null, "layout": null, "metadata": null, "text": "This article covers experimental topics that have not been tested in production systems, so be very careful if you decide to use any tips from this article.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_11.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_11.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_11.markups.0": { "type": "STRONG", "start": 0, "end": 156, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_11.markups.1": { "type": "EM", "start": 0, "end": 156, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_12": { "id": "c0d89ee78940_12", "name": "4b56", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "What are Math Libraries? Why so huge?", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_13": { "id": "c0d89ee78940_13", "name": "def5", "type": "P", "href": null, "layout": null, "metadata": null, "text": "If you have used math functions like sin(), log(), floor(), ... then you would have used the libm.a Standard Math Library for C. It’s a bunch of common math functions that we may call from C and C++ programs running on Blue Pill and virtually any microcontroller and any device.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_13.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_13.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_13.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_13.markups.0": { "type": "CODE", "start": 37, "end": 63, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_13.markups.1": { "type": "CODE", "start": 93, "end": 99, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_13.markups.2": { "type": "STRONG", "start": 93, "end": 127, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_14": { "id": "c0d89ee78940_14", "name": "0d38", "type": "P", "href": null, "layout": null, "metadata": null, "text": "But there’s a catch… The math functions will perform better on some microcontrollers and devices — those that support hardware floating-point operations in their processors.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_14.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_14.markups.0": { "type": "STRONG", "start": 118, "end": 172, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_15": { "id": "c0d89ee78940_15", "name": "5701", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Unfortunately Blue Pill is not in that list. The math libraries are implemented in software, not hardware. So a single call to sin() could actually keep the Blue Pill busy for a (short) while because of the complicated library code. And the complicated math code also causes Blue Pill programs to bloat beyond their ROM limit (64 KB).", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_15.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_15.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_15.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_15.markups.0": { "type": "CODE", "start": 127, "end": 132, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_15.markups.1": { "type": "A", "start": 207, "end": 231, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fsourceware.org\u002Fgit\u002F?p=glibc.git;a=blob;f=sysdeps\u002Fieee754\u002Fdbl-64\u002Fs_sin.c;h=7584afcd2b016fd94f8452d30f5d3542a831b5b3;hb=refs\u002Fheads\u002Fmaster", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_15.markups.2": { "type": "STRONG", "start": 14, "end": 44, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_16": { "id": "c0d89ee78940_16", "name": "f95a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Is there a better way to do math on Blue Pill? The secret lies in the Magic Trick…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_17": { "id": "c0d89ee78940_17", "name": "c62b", "type": "IFRAME", "href": null, "layout": "INSET_CENTER", "metadata": null, "text": "From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-math-hack\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain.c", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_17.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": { "type": "id", "generated": true, "id": "$Paragraph:c0d89ee78940_17.iframe", "typename": "Iframe" }, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_17.markups.0": { "type": "A", "start": 5, "end": 78, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-math-hack\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain.c", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "MediaResource:9d95672f807f1182b15a5a7beccddc68": { "id": "9d95672f807f1182b15a5a7beccddc68", "iframeSrc": "", "iframeHeight": 0, "iframeWidth": 0, "title": "magic-trick.c", "__typename": "MediaResource" }, "$Paragraph:c0d89ee78940_17.iframe": { "mediaResource": { "type": "id", "generated": false, "id": "MediaResource:9d95672f807f1182b15a5a7beccddc68", "typename": "MediaResource" }, "__typename": "Iframe" }, "Paragraph:c0d89ee78940_18": { "id": "c0d89ee78940_18", "name": "b691", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Magic Trick Revealed", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_19": { "id": "c0d89ee78940_19", "name": "6695", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Remember the above code from the Magic Trick… Why does Blue Pill think that 123 times 456 is 123,456? Let’s look at the Assembly Code (check my previous article for the “Disassemble” task)…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_19.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_19.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_19.markups.0": { "type": "A", "start": 120, "end": 133, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-math-hack\u002Fblob\u002Fmaster\u002Ffirmware.dump", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_19.markups.1": { "type": "A", "start": 141, "end": 160, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fstm32-blue-pill-analyse-and-optimise-your-ram-and-rom-9fc805e16ed7?source=friends_link&sk=54719084d640bb1d92ac1097d623bba2", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_20": { "id": "c0d89ee78940_20", "name": "f36b", "type": "IMG", "href": null, "layout": "OUTSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*T-dyq0-eWyPLbCfLD67tHg.png", "typename": "ImageMetadata" }, "text": "Assembly Code for the magic trick. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-math-hack\u002Fblob\u002Fmaster\u002Ffirmware.dump", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_20.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*T-dyq0-eWyPLbCfLD67tHg.png": { "id": "1*T-dyq0-eWyPLbCfLD67tHg.png", "originalHeight": 1152, "originalWidth": 1356, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:c0d89ee78940_20.markups.0": { "type": "A", "start": 40, "end": 116, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-math-hack\u002Fblob\u002Fmaster\u002Ffirmware.dump", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_21": { "id": "c0d89ee78940_21", "name": "03df", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Something suspicious is happening here… the line", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_22": { "id": "c0d89ee78940_22", "name": "9af6", "type": "PRE", "href": null, "layout": null, "metadata": null, "text": "r = x * y", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_23": { "id": "c0d89ee78940_23", "name": "bf8a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "has actually been compiled into a function call that looks like…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_24": { "id": "c0d89ee78940_24", "name": "1620", "type": "PRE", "href": null, "layout": null, "metadata": null, "text": "r = __wrap___aeabi_dmul(x, y)", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_25": { "id": "c0d89ee78940_25", "name": "498b", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Multiplication of numbers looks simple and harmless when we write it as x * y. But remember that x and y are floating-point numbers. And Blue Pill can’t compute floating-point numbers in hardware. So Blue Pill needs to call a math library function __wrap___aeabi_dmul to compute x * y !", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_25.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_25.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_25.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_25.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_25.markups.4", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_25.markups.5", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_25.markups.6", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_25.markups.7", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_25.markups.0": { "type": "CODE", "start": 72, "end": 77, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_25.markups.1": { "type": "CODE", "start": 97, "end": 98, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_25.markups.2": { "type": "CODE", "start": 103, "end": 104, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_25.markups.3": { "type": "CODE", "start": 248, "end": 267, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_25.markups.4": { "type": "CODE", "start": 279, "end": 286, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_25.markups.5": { "type": "STRONG", "start": 72, "end": 77, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_25.markups.6": { "type": "STRONG", "start": 197, "end": 286, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_25.markups.7": { "type": "EM", "start": 32, "end": 51, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_26": { "id": "c0d89ee78940_26", "name": "bbfb", "type": "P", "href": null, "layout": null, "metadata": null, "text": "It looks more sinister now…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_26.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_26.markups.0": { "type": "EM", "start": 0, "end": 27, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_27": { "id": "c0d89ee78940_27", "name": "caeb", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Remember this function that appears at the end of the magic trick?", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_28": { "id": "c0d89ee78940_28", "name": "87d8", "type": "PRE", "href": null, "layout": null, "metadata": null, "text": "double __wrap___aeabi_dmul(double x, double y) { \n    return 123456; \n}", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_29": { "id": "c0d89ee78940_29", "name": "da9c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "That’s where the magic happens — it returns 123456 for any multiplication of doubles in the program. We have intercepted the multiplication operation to return a hacked result.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_29.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_29.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_29.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_29.markups.0": { "type": "CODE", "start": 44, "end": 50, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_29.markups.1": { "type": "CODE", "start": 77, "end": 84, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_29.markups.2": { "type": "STRONG", "start": 33, "end": 84, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_30": { "id": "c0d89ee78940_30", "name": "cf7a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "__wrap___aeabi_dmul is typically a function with lots of computation code inside… 1 KB of compiled code. So our code size will bloat significantly once we start using floating-point computation on Blue Pill.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_30.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_30.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_30.markups.0": { "type": "CODE", "start": 0, "end": 19, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_30.markups.1": { "type": "STRONG", "start": 82, "end": 103, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_31": { "id": "c0d89ee78940_31", "name": "e8c5", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Now what if we do this…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_32": { "id": "c0d89ee78940_32", "name": "f5c4", "type": "PRE", "href": null, "layout": null, "metadata": null, "text": "double __wrap___aeabi_dmul(double x, double y) { \n    return qfp_fmul(x, y); \n}", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_33": { "id": "c0d89ee78940_33", "name": "34c5", "type": "P", "href": null, "layout": null, "metadata": null, "text": "What if we could find a tiny function qfp_fmul that multiplies floating-point numbers without bloating the code size? That would be perfect for Blue Pill! qfp_fmul actually exists and it’s part of the Qfplib library, coming up next…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_33.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_33.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_33.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_33.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_33.markups.0": { "type": "CODE", "start": 38, "end": 46, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_33.markups.1": { "type": "CODE", "start": 155, "end": 163, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_33.markups.2": { "type": "STRONG", "start": 0, "end": 117, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_33.markups.3": { "type": "STRONG", "start": 201, "end": 207, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_34": { "id": "c0d89ee78940_34", "name": "0df5", "type": "BQ", "href": null, "layout": null, "metadata": null, "text": "💎 About the wrap: The wrap prefix was inserted because we used this linker option in platformio.ini: -Wl,-wrap,__aeabi_dmul. Without wrap, the function name is actually __aeabi_dmul. By using wrap we can easily identify the functions that we have intercepted. Check this doc for more info on AEABI functions.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_34.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_34.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_34.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_34.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_34.markups.4", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_34.markups.5", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_34.markups.6", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_34.markups.7", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_34.markups.8", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_34.markups.0": { "type": "CODE", "start": 13, "end": 17, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_34.markups.1": { "type": "CODE", "start": 23, "end": 27, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_34.markups.2": { "type": "CODE", "start": 101, "end": 124, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_34.markups.3": { "type": "CODE", "start": 134, "end": 138, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_34.markups.4": { "type": "CODE", "start": 170, "end": 182, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_34.markups.5": { "type": "CODE", "start": 193, "end": 197, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_34.markups.6": { "type": "A", "start": 86, "end": 100, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fstm32bluepill-math-hack\u002Fblob\u002Fmaster\u002Fplatformio.ini", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_34.markups.7": { "type": "A", "start": 261, "end": 308, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttp:\u002F\u002Finfocenter.arm.com\u002Fhelp\u002Ftopic\u002Fcom.arm.doc.ihi0043d\u002FIHI0043D_rtabi.pdf", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_34.markups.8": { "type": "EM", "start": 170, "end": 184, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_35": { "id": "c0d89ee78940_35", "name": "9856", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "Qfplib: an ARM Cortex-M0 floating-point library in 1 kbyte\nquinapaluswww.quinapalus.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_35.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_35.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_35.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:c0d89ee78940_35.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:c0d89ee78940_35.markups.0": { "type": "A", "start": 0, "end": 87, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fwww.quinapalus.com\u002Fqfplib.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_35.markups.1": { "type": "STRONG", "start": 0, "end": 58, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_35.markups.2": { "type": "EM", "start": 59, "end": 69, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:c0d89ee78940_35.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fwww.quinapalus.com\u002Fqfplib.html", "thumbnailImageId": "0*_mMzUDXcdkk0LlTJ", "mediaResourceId": "0*_mMzUDXcdkk0LlTJ", "__typename": "MixtapeMetadata" }, "Paragraph:c0d89ee78940_36": { "id": "c0d89ee78940_36", "name": "90cc", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Qfplib the tiny floating-point library", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_37": { "id": "c0d89ee78940_37", "name": "2a56", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Qfplib is a floating-point math library by Dr Mark Owen that’s incredibly small. In a mere 1,224 bytes we get Assembly Code functions (specific to Arm Cortex-M0 and above) that compute…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_37.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_37.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_37.markups.0": { "type": "A", "start": 0, "end": 6, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fwww.quinapalus.com\u002Fqfplib.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_37.markups.1": { "type": "STRONG", "start": 91, "end": 102, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_38": { "id": "c0d89ee78940_38", "name": "9f39", "type": "ULI", "href": null, "layout": null, "metadata": null, "text": "qfp_fadd, qfp_fsub, qfp_fmul, qfp_fdiv_fast: Floating-point addition, subtraction, multiplication, division", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_38.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_38.markups.0": { "type": "CODE", "start": 0, "end": 43, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_39": { "id": "c0d89ee78940_39", "name": "caaf", "type": "ULI", "href": null, "layout": null, "metadata": null, "text": "qfp_fsin, qfp_fcos, qfp_ftan, qfp_fatan2: sine, cosine, tangent, inverse tangent", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_39.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_39.markups.0": { "type": "CODE", "start": 0, "end": 40, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_40": { "id": "c0d89ee78940_40", "name": "c763", "type": "ULI", "href": null, "layout": null, "metadata": null, "text": "qfp_fexp, qfp_fln: Natural exponential, logarithm", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_40.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_40.markups.0": { "type": "CODE", "start": 0, "end": 17, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_41": { "id": "c0d89ee78940_41", "name": "ff17", "type": "ULI", "href": null, "layout": null, "metadata": null, "text": "qfp_fsqrt_fast, qfp_fcmp: Square root, comparison of floats", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_41.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_41.markups.0": { "type": "CODE", "start": 0, "end": 24, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_42": { "id": "c0d89ee78940_42", "name": "d8a8", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Plus conversion functions for integers, fixed-point and floating-point numbers. What a gem!", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_43": { "id": "c0d89ee78940_43", "name": "cf8d", "type": "P", "href": null, "layout": null, "metadata": null, "text": "With Qfplib we may now intercept any floating-point operation (using the __wrap___aeabi_dmul method above) and substitute a smaller, optimised version of the computation code.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_43.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_43.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_43.markups.0": { "type": "CODE", "start": 73, "end": 92, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_43.markups.1": { "type": "STRONG", "start": 111, "end": 150, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_44": { "id": "c0d89ee78940_44", "name": "db22", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Be careful: There are limitations in the Qfplib functions, as described here. And Qfplib only handles single-precision math, not double-precision. More about this…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_44.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_44.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_44.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_44.markups.0": { "type": "A", "start": 59, "end": 76, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fwww.quinapalus.com\u002Fqfplib.html", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_44.markups.1": { "type": "STRONG", "start": 22, "end": 57, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_44.markups.2": { "type": "STRONG", "start": 102, "end": 145, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_45": { "id": "c0d89ee78940_45", "name": "5ed2", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Single vs Double-Precision Floating-Point Numbers", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_46": { "id": "c0d89ee78940_46", "name": "4a0f", "type": "P", "href": null, "layout": null, "metadata": null, "text": "You should have seen single-precision (float) and double-precision (double) numbers in C programs…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_46.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_46.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_46.markups.0": { "type": "CODE", "start": 39, "end": 44, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_46.markups.1": { "type": "CODE", "start": 68, "end": 74, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_47": { "id": "c0d89ee78940_47", "name": "0b44", "type": "PRE", "href": null, "layout": null, "metadata": null, "text": "float  x = 123.456;           \u002F\u002F  Single precision (32 bits)\ndouble y = 123.456789012345;  \u002F\u002F  Double precision (64 bits)", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_48": { "id": "c0d89ee78940_48", "name": "8f4c", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Double-precision numbers are more precise in representing floating-point numbers because they have twice the number of bits (64 bits) compared with single-precision numbers (32 bits).", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_48.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_48.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_48.markups.0": { "type": "STRONG", "start": 125, "end": 132, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_48.markups.1": { "type": "STRONG", "start": 174, "end": 181, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_49": { "id": "c0d89ee78940_49", "name": "89d1", "type": "P", "href": null, "layout": null, "metadata": null, "text": "To be more specific… single-precision numbers are stored in the IEEE 754 Single-Precision format which gives us 6 significant decimal digits. So this float value is OK because it’s only 6 decimal digits…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_49.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_49.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_49.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_49.markups.0": { "type": "CODE", "start": 150, "end": 155, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_49.markups.1": { "type": "A", "start": 64, "end": 96, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FSingle-precision_floating-point_format", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_49.markups.2": { "type": "STRONG", "start": 112, "end": 140, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_50": { "id": "c0d89ee78940_50", "name": "8454", "type": "PRE", "href": null, "layout": null, "metadata": null, "text": "float  x = 123.456;  \u002F\u002F  OK for Single Precision", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_51": { "id": "c0d89ee78940_51", "name": "86c1", "type": "P", "href": null, "layout": null, "metadata": null, "text": "But we may lose the seventh digit in this float value because 32 bits can’t fully accommodate 7 decimal digits…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_51.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_51.markups.0": { "type": "CODE", "start": 42, "end": 47, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_52": { "id": "c0d89ee78940_52", "name": "62a8", "type": "PRE", "href": null, "layout": null, "metadata": null, "text": "float  y = 123.4567;  \u002F\u002F  Last digit may be truncated for Single Precision", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_53": { "id": "c0d89ee78940_53", "name": "cbf7", "type": "P", "href": null, "layout": null, "metadata": null, "text": "And Blue Pill may think that x has the same value as y. We wouldn’t use float to count 10 million dollars (7 decimal digits or more).", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_53.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_53.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_53.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_53.markups.0": { "type": "CODE", "start": 29, "end": 30, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_53.markups.1": { "type": "CODE", "start": 53, "end": 54, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_53.markups.2": { "type": "CODE", "start": 72, "end": 77, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_54": { "id": "c0d89ee78940_54", "name": "22ca", "type": "P", "href": null, "layout": null, "metadata": null, "text": "With double-precision numbers (stored as IEEE 754 Double-Precision format) we have room for 15 significant decimal digits…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_54.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_54.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_54.markups.0": { "type": "A", "start": 41, "end": 73, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FDouble-precision_floating-point_format", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_54.markups.1": { "type": "STRONG", "start": 92, "end": 121, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_55": { "id": "c0d89ee78940_55", "name": "873e", "type": "PRE", "href": null, "layout": null, "metadata": null, "text": "double y = 123.456789012345;  \u002F\u002F  OK for Double Precision", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_56": { "id": "c0d89ee78940_56", "name": "fd0a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Double precision is indeed more precise than single precision. BUT…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_57": { "id": "c0d89ee78940_57", "name": "5194", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "doubles take up twice the storage", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_57.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_57.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_57.markups.0": { "type": "CODE", "start": 0, "end": 7, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_57.markups.1": { "type": "STRONG", "start": 16, "end": 33, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_58": { "id": "c0d89ee78940_58", "name": "c915", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "doubles also require more processor time to compute", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_58.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_58.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_58.markups.0": { "type": "CODE", "start": 0, "end": 7, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_58.markups.1": { "type": "STRONG", "start": 21, "end": 40, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_59": { "id": "c0d89ee78940_59", "name": "eb7a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "This causes problems for constrained microcontrollers like Blue Pill. Also if we use common math functions like sin(), log(), floor(), … we will actually introduce doubles into our code because the common math functions are declared as double. (The single-precision equivalent functions are available, but we need to consciously select them as sinf(), logf(), floorf(), …)", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_59.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_59.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_59.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_59.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_59.markups.0": { "type": "CODE", "start": 112, "end": 133, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_59.markups.1": { "type": "CODE", "start": 164, "end": 171, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_59.markups.2": { "type": "CODE", "start": 236, "end": 242, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_59.markups.3": { "type": "CODE", "start": 344, "end": 368, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_60": { "id": "c0d89ee78940_60", "name": "51e0", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Do we really need Double Precision numbers?", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_61": { "id": "c0d89ee78940_61", "name": "7b5a", "type": "P", "href": null, "layout": null, "metadata": null, "text": "I teach IoT. When my students measure ambient temperature with a long string of digits like 28.12345, I’m pretty sure they’re not doing it right.", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_62": { "id": "c0d89ee78940_62", "name": "f724", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Sensors are inherently noisy so I won’t trust them to produce such precise double-precision numbers. Instead I would use a Time Series Database to aggregate sensor values (single-precision) over time and compute an aggregated sensor value (say, moving average for the past minute) that’s more resistant to sensor noise.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_62.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_62.markups.0": { "type": "STRONG", "start": 147, "end": 238, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_63": { "id": "c0d89ee78940_63", "name": "4213", "type": "P", "href": null, "layout": null, "metadata": null, "text": "If you’re doing Scientific Computing, then doubles are for you. Then again you probably won’t be using a lower-class microcontroller like Blue Pill. It’s my hunch that most Blue Pill programmers will be perfectly happy with floats instead of doubles (though I have no proof).", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_63.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_63.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_63.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_63.markups.0": { "type": "CODE", "start": 43, "end": 50, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_63.markups.1": { "type": "CODE", "start": 224, "end": 230, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_63.markups.2": { "type": "CODE", "start": 242, "end": 249, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_64": { "id": "c0d89ee78940_64", "name": "d650", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Always exercise caution when using floats instead of doubles. There’s a possibility that some intermediate computation will overflow the 6-digit limitation of floats, like this computation. GPS coordinates (latitude, longitude) may require doubles as well.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_64.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_64.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_64.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_64.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_64.markups.4", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_64.markups.5", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_64.markups.0": { "type": "CODE", "start": 35, "end": 41, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_64.markups.1": { "type": "CODE", "start": 53, "end": 60, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_64.markups.2": { "type": "CODE", "start": 159, "end": 166, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_64.markups.3": { "type": "CODE", "start": 240, "end": 247, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_64.markups.4": { "type": "A", "start": 168, "end": 188, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Fadafruit\u002FAdafruit_BME280_Library\u002Fblob\u002Fmaster\u002FAdafruit_BME280.cpp#L591", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_64.markups.5": { "type": "STRONG", "start": 94, "end": 166, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_65": { "id": "c0d89ee78940_65", "name": "c708", "type": "IMG", "href": null, "layout": "INSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*xy5n_cwadL-zsRk6R5WfQA.png", "typename": "ImageMetadata" }, "text": "nano-float function derived from Qfplib and the unit test cases below. From https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fcodal-libopencm3\u002Fblob\u002Fmaster\u002Flib\u002Fnano-float\u002Fsrc\u002Ffunctions.c#L555-L585", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_65.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*xy5n_cwadL-zsRk6R5WfQA.png": { "id": "1*xy5n_cwadL-zsRk6R5WfQA.png", "originalHeight": 623, "originalWidth": 574, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:c0d89ee78940_65.markups.0": { "type": "A", "start": 76, "end": 172, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fcodal-libopencm3\u002Fblob\u002Fmaster\u002Flib\u002Fnano-float\u002Fsrc\u002Ffunctions.c#L555-L585", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_66": { "id": "c0d89ee78940_66", "name": "d9db", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Complete Math Library: nano-float", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_67": { "id": "c0d89ee78940_67", "name": "7b3b", "type": "IMG", "href": null, "layout": "OUTSET_LEFT", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*tMEXJjzpk07yLicBUf5QAg.png", "typename": "ImageMetadata" }, "text": "Functions provided by qfplib", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*tMEXJjzpk07yLicBUf5QAg.png": { "id": "1*tMEXJjzpk07yLicBUf5QAg.png", "originalHeight": 408, "originalWidth": 149, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:c0d89ee78940_68": { "id": "c0d89ee78940_68", "name": "31a6", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Qfplib provides the basic float-point math functions. Many other math functions are missing: sinh, asinh, … Can we synthesise the other math functions?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_68.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_68.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_68.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_68.markups.0": { "type": "CODE", "start": 93, "end": 97, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_68.markups.1": { "type": "CODE", "start": 99, "end": 104, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_68.markups.2": { "type": "STRONG", "start": 108, "end": 150, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_69": { "id": "c0d89ee78940_69", "name": "eff7", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Yes we can! And here’s the proof…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_70": { "id": "c0d89ee78940_70", "name": "f29b", "type": "P", "href": null, "layout": null, "metadata": null, "text": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fcodal-libopencm3\u002Fblob\u002Fmaster\u002Flib\u002Fnano-float\u002Fsrc\u002Ffunctions.c", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_70.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_70.markups.0": { "type": "CODE", "start": 0, "end": 86, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_71": { "id": "c0d89ee78940_71", "name": "2dd9", "type": "P", "href": null, "layout": null, "metadata": null, "text": "nano-float is a thin layer of code I wrote (not 100% tested) that fills in the remaining math functions by calling Qfplib. nano-float is a drop-in replacement for the standard math library, so the function signatures for the math functions are the same… just link your program with nano-float instead of the default math library, no recompilation needed.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_71.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_71.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_71.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_71.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_71.markups.0": { "type": "CODE", "start": 0, "end": 10, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_71.markups.1": { "type": "CODE", "start": 123, "end": 133, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_71.markups.2": { "type": "CODE", "start": 282, "end": 292, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_71.markups.3": { "type": "STRONG", "start": 0, "end": 10, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_72": { "id": "c0d89ee78940_72", "name": "3a62", "type": "P", "href": null, "layout": null, "metadata": null, "text": "This looks like a math textbook exercise but let’s derive the missing functions based on Qfplib…", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_73": { "id": "c0d89ee78940_73", "name": "bed3", "type": "P", "href": null, "layout": null, "metadata": null, "text": "1️⃣ log2 and log10 were derived from Qfplib’s qfp_fln (natural logarithm function) because…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_73.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_73.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_73.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_73.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_73.markups.0": { "type": "CODE", "start": 4, "end": 8, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_73.markups.1": { "type": "CODE", "start": 13, "end": 18, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_73.markups.2": { "type": "CODE", "start": 46, "end": 53, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_73.markups.3": { "type": "A", "start": 4, "end": 18, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fcodal-libopencm3\u002Fblob\u002Fmaster\u002Flib\u002Fnano-float\u002Fsrc\u002Ffunctions.c#L373-L408", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_74": { "id": "c0d89ee78940_74", "name": "9687", "type": "IMG", "href": null, "layout": "INSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*yQ3XXvj4wOlX_KU9-bu73A.png", "typename": "ImageMetadata" }, "text": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FLogarithm", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_74.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*yQ3XXvj4wOlX_KU9-bu73A.png": { "id": "1*yQ3XXvj4wOlX_KU9-bu73A.png", "originalHeight": 58, "originalWidth": 221, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:c0d89ee78940_74.markups.0": { "type": "A", "start": 0, "end": 39, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FLogarithm", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_75": { "id": "c0d89ee78940_75", "name": "947f", "type": "P", "href": null, "layout": null, "metadata": null, "text": "2️⃣ asin and acos (inverse sine \u002F cosine) were derived from Qfplib’s qfp_fsqrt_fast (square root) and qfp_fatan2 (inverse tangent) because…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_75.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_75.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_75.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_75.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_75.markups.4", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_75.markups.0": { "type": "CODE", "start": 4, "end": 8, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_75.markups.1": { "type": "CODE", "start": 13, "end": 17, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_75.markups.2": { "type": "CODE", "start": 69, "end": 83, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_75.markups.3": { "type": "CODE", "start": 102, "end": 112, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_75.markups.4": { "type": "A", "start": 4, "end": 17, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fcodal-libopencm3\u002Fblob\u002Fmaster\u002Flib\u002Fnano-float\u002Fsrc\u002Ffunctions.c#L555-L629", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_76": { "id": "c0d89ee78940_76", "name": "863a", "type": "IMG", "href": null, "layout": "INSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*kwoOS4PqDOIZ6dedO8XDKg.png", "typename": "ImageMetadata" }, "text": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FInverse_trigonometric_functions", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_76.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*kwoOS4PqDOIZ6dedO8XDKg.png": { "id": "1*kwoOS4PqDOIZ6dedO8XDKg.png", "originalHeight": 137, "originalWidth": 407, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:c0d89ee78940_76.markups.0": { "type": "A", "start": 0, "end": 61, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FInverse_trigonometric_functions", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_77": { "id": "c0d89ee78940_77", "name": "8a59", "type": "P", "href": null, "layout": null, "metadata": null, "text": "3️⃣ sinh, cosh and tanh (hyperbolic sine \u002F cosine \u002F tangent) were derived from Qfplib’s qfp_fexp (natural exponential) because…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_77.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_77.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_77.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_77.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_77.markups.4", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_77.markups.0": { "type": "CODE", "start": 4, "end": 8, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_77.markups.1": { "type": "CODE", "start": 10, "end": 14, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_77.markups.2": { "type": "CODE", "start": 19, "end": 23, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_77.markups.3": { "type": "CODE", "start": 88, "end": 96, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_77.markups.4": { "type": "A", "start": 4, "end": 23, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fcodal-libopencm3\u002Fblob\u002Fmaster\u002Flib\u002Fnano-float\u002Fsrc\u002Ffunctions.c#L631-L717", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_78": { "id": "c0d89ee78940_78", "name": "d84f", "type": "IMG", "href": null, "layout": "INSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*iJMjYHCFDQP4w51Rqqzrcw.png", "typename": "ImageMetadata" }, "text": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FHyperbolic_function", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_78.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*iJMjYHCFDQP4w51Rqqzrcw.png": { "id": "1*iJMjYHCFDQP4w51Rqqzrcw.png", "originalHeight": 230, "originalWidth": 456, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:c0d89ee78940_78.markups.0": { "type": "A", "start": 0, "end": 49, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FHyperbolic_function", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_79": { "id": "c0d89ee78940_79", "name": "a3f7", "type": "P", "href": null, "layout": null, "metadata": null, "text": "4️⃣ asinh, acosh and atanh (inverse hyperbolic sine \u002F cosine \u002F tangent) were derived from qfplib’s qfp_fln (natural logarithm) and qfp_fsqrt_fast (square root) because…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_79.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_79.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_79.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_79.markups.3", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_79.markups.4", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_79.markups.5", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_79.markups.6", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_79.markups.0": { "type": "CODE", "start": 4, "end": 9, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_79.markups.1": { "type": "CODE", "start": 11, "end": 16, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_79.markups.2": { "type": "CODE", "start": 21, "end": 26, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_79.markups.3": { "type": "CODE", "start": 90, "end": 98, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_79.markups.4": { "type": "CODE", "start": 99, "end": 106, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_79.markups.5": { "type": "CODE", "start": 131, "end": 145, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_79.markups.6": { "type": "A", "start": 4, "end": 26, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fcodal-libopencm3\u002Fblob\u002Fmaster\u002Flib\u002Fnano-float\u002Fsrc\u002Ffunctions.c#L719-L819", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_80": { "id": "c0d89ee78940_80", "name": "66a2", "type": "IMG", "href": null, "layout": "INSET_CENTER", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*sDQG0YHQDEdbNux2QD6rdQ.png", "typename": "ImageMetadata" }, "text": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FInverse_hyperbolic_functions", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_80.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*sDQG0YHQDEdbNux2QD6rdQ.png": { "id": "1*sDQG0YHQDEdbNux2QD6rdQ.png", "originalHeight": 438, "originalWidth": 594, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:c0d89ee78940_80.markups.0": { "type": "A", "start": 0, "end": 58, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FInverse_hyperbolic_functions", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_81": { "id": "c0d89ee78940_81", "name": "1b50", "type": "P", "href": null, "layout": null, "metadata": null, "text": "So you can see that it’s indeed possible for nano-float to fill in the missing math functions by simply calling Qfplib!", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_81.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_81.markups.0": { "type": "CODE", "start": 45, "end": 55, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_82": { "id": "c0d89ee78940_82", "name": "c6f6", "type": "P", "href": null, "layout": null, "metadata": null, "text": "But watch out for Boundary Conditions — the code in nano-float may not cover all of the special cases like 0, +infinity, -infinity, NaN (not a number), …", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_82.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_82.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_82.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_82.markups.0": { "type": "CODE", "start": 52, "end": 62, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_82.markups.1": { "type": "CODE", "start": 107, "end": 135, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_82.markups.2": { "type": "STRONG", "start": 0, "end": 37, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_83": { "id": "c0d89ee78940_83", "name": "60ed", "type": "IMG", "href": null, "layout": "FULL_WIDTH", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*-w3I_Q0Tq0eLiQcNlhFT8Q.png", "typename": "ImageMetadata" }, "text": "nano-float unit tests automatically extracted from the nano-float source code. From https:\u002F\u002Fdocs.google.com\u002Fspreadsheets\u002Fd\u002F1Uogm7SpgWVA4AiP6gqFkluaozFtlaEGMc4K2Mbfee7U\u002Fedit#gid=1740497564", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_83.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*-w3I_Q0Tq0eLiQcNlhFT8Q.png": { "id": "1*-w3I_Q0Tq0eLiQcNlhFT8Q.png", "originalHeight": 520, "originalWidth": 1338, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:c0d89ee78940_83.markups.0": { "type": "A", "start": 84, "end": 187, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fdocs.google.com\u002Fspreadsheets\u002Fd\u002F1Uogm7SpgWVA4AiP6gqFkluaozFtlaEGMc4K2Mbfee7U\u002Fedit#gid=1740497564", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_84": { "id": "c0d89ee78940_84", "name": "6b1b", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "Unit Test with Qemu Blue Pill Emulator", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_85": { "id": "c0d89ee78940_85", "name": "5521", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Replacing the standard math library by nano-float is an onerous tasks. How can we really be sure that the above formulae were correctly programmed? And that the nano-float computation results (single precision) won’t deviate too drastically from the original math functions (double precision)?", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_85.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_85.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_85.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_85.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_85.markups.0": { "type": "CODE", "start": 39, "end": 49, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_85.markups.1": { "type": "CODE", "start": 161, "end": 171, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_85.markups.2": { "type": "STRONG", "start": 126, "end": 146, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_85.markups.3": { "type": "STRONG", "start": 211, "end": 240, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_86": { "id": "c0d89ee78940_86", "name": "0cce", "type": "P", "href": null, "layout": null, "metadata": null, "text": "It’s not a perfect solution but we have Unit Tests for nano-float: https:\u002F\u002Fgithub.com\u002Flupyuen\u002Fcodal-libopencm3\u002Fblob\u002Fmaster\u002Flib\u002Fnano-float\u002Ftest\u002Ftest.c", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_86.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_86.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_86.markups.0": { "type": "CODE", "start": 55, "end": 149, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_86.markups.1": { "type": "STRONG", "start": 40, "end": 65, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_87": { "id": "c0d89ee78940_87", "name": "49e8", "type": "P", "href": null, "layout": null, "metadata": null, "text": "These test cases are meant to be run again and again to verify that the results are identical whenever we make changes to the code. The test cases were automatically extracted from the nano-float source code by this Google Sheets spreadsheet…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_87.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_87.markups.0": { "type": "CODE", "start": 185, "end": 195, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_88": { "id": "c0d89ee78940_88", "name": "c052", "type": "MIXTAPE_EMBED", "href": null, "layout": null, "metadata": null, "text": "nano-float Unit Test\nExport Test,\u002F\u002F Unit Tests are autogenerated. Do not update here,Function,VarX,X,VarY,Y,VarResult,Result \u002F\u002F…docs.google.com", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_88.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_88.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_88.markups.2", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": { "type": "id", "generated": true, "id": "$Paragraph:c0d89ee78940_88.mixtapeMetadata", "typename": "MixtapeMetadata" } }, "Paragraph:c0d89ee78940_88.markups.0": { "type": "A", "start": 0, "end": 143, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fdocs.google.com\u002Fspreadsheets\u002Fd\u002F1Uogm7SpgWVA4AiP6gqFkluaozFtlaEGMc4K2Mbfee7U\u002Fedit#gid=1740497564", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_88.markups.1": { "type": "STRONG", "start": 0, "end": 20, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_88.markups.2": { "type": "EM", "start": 21, "end": 128, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "$Paragraph:c0d89ee78940_88.mixtapeMetadata": { "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fdocs.google.com\u002Fspreadsheets\u002Fd\u002F1Uogm7SpgWVA4AiP6gqFkluaozFtlaEGMc4K2Mbfee7U\u002Fedit#gid=1740497564", "thumbnailImageId": "0*TcDpDaQxXkh3UOyz", "mediaResourceId": "0*TcDpDaQxXkh3UOyz", "__typename": "MixtapeMetadata" }, "Paragraph:c0d89ee78940_89": { "id": "c0d89ee78940_89", "name": "42c3", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Unit tests are also meant to be run automatically at every rebuild. But the code requires a Blue Pill to execute. The solution: Use the Qemu Blue Pill Emulator to execute the test cases, by simulating a Blue Pill in software.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_89.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_89.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_89.markups.0": { "type": "A", "start": 136, "end": 159, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttp:\u002F\u002Fbeckus.github.io\u002Fqemu_stm32\u002F", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_89.markups.1": { "type": "STRONG", "start": 128, "end": 185, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_90": { "id": "c0d89ee78940_90", "name": "af40", "type": "P", "href": null, "layout": null, "metadata": null, "text": "So far the test cases confirm that Qfplib is accurate up to 6 decimal digits, when compared with the standard math library (double-precision). Which sounds right because Qfplib uses single-precision math (accurate to 6 decimal digits).", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_91": { "id": "c0d89ee78940_91", "name": "5738", "type": "P", "href": null, "layout": null, "metadata": null, "text": "We’ll cover Blue Pill Unit Testing and Blue Pill Emulation in the next article.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_91.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_91.markups.0": { "type": "STRONG", "start": 12, "end": 58, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_92": { "id": "c0d89ee78940_92", "name": "6dd3", "type": "IMG", "href": null, "layout": "FULL_WIDTH", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*MN4FFf4lzTijRJr-f2g9NA.png", "typename": "ImageMetadata" }, "text": "Memory usage of the MakeCode application on Blue Pill, without Qfplib and nano-float. From https:\u002F\u002Fdocs.google.com\u002Fspreadsheets\u002Fd\u002F1DWFoh0Ui9j294htHzQrH-s6MuPRXct2zN8M9pj53CBk\u002Fedit#gid=381366828&fvid=1359565135", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_92.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*MN4FFf4lzTijRJr-f2g9NA.png": { "id": "1*MN4FFf4lzTijRJr-f2g9NA.png", "originalHeight": 770, "originalWidth": 1107, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:c0d89ee78940_92.markups.0": { "type": "A", "start": 91, "end": 209, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fdocs.google.com\u002Fspreadsheets\u002Fd\u002F1DWFoh0Ui9j294htHzQrH-s6MuPRXct2zN8M9pj53CBk\u002Fedit#gid=381366828&fvid=1359565135", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_93": { "id": "c0d89ee78940_93", "name": "1fae", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "How I used Qfplib and nano-float", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_94": { "id": "c0d89ee78940_94", "name": "4874", "type": "P", "href": null, "layout": null, "metadata": null, "text": "MakeCode is visual programming tool for creating embedded programs for microcontrollers (like the BBC micro:bit), simply by dragging and dropping code blocks in a web browser. It’s the perfect way to teach embedded programming to beginners.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_94.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_94.markups.0": { "type": "A", "start": 0, "end": 8, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmakecode.com\u002Fdocs", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_95": { "id": "c0d89ee78940_95", "name": "f798", "type": "P", "href": null, "layout": null, "metadata": null, "text": "While porting MakeCode to Blue Pill, I had trouble squeezing all the code into Blue Pill’s 64 KB ROM. (The BBC micro:bit has 256 KB of ROM, with plenty of room for large libraries.) After compiling for Blue Pill, I noticed that the math libraries were taking huge chunks of ROM storage (roughly 17 KB), which you can see in the spreadsheet above. So I made these changes…", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_95.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_95.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_95.markups.0": { "type": "A", "start": 0, "end": 35, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fwork-in-progress-stm32-blue-pill-visual-programming-with-makecode-codal-and-libopencm3-422d308f252e", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_95.markups.1": { "type": "STRONG", "start": 232, "end": 285, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_96": { "id": "c0d89ee78940_96", "name": "725b", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "Using __wrap___aeabi_dmul method described earlier, I intercepted the single-precision and double-precision comparison and arithmetic operations (multiply, divide) and used Qfplib instead. Here’s the complete list of intercepted functions.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_96.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_96.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_96.markups.0": { "type": "CODE", "start": 6, "end": 25, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_96.markups.1": { "type": "A", "start": 189, "end": 238, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fgithub.com\u002Flupyuen\u002Fnewlib\u002Fblob\u002Fmaster\u002FCMakeLists.txt#L28-L61", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_97": { "id": "c0d89ee78940_97", "name": "d282", "type": "OLI", "href": null, "layout": null, "metadata": null, "text": "I used nano-float as a drop-in replacement for the standard math library libm.a. So all calls to common math functions like sin(), log(), floor(), … were handled by nano-float.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_97.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_97.markups.1", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_97.markups.2", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_97.markups.3", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_97.markups.0": { "type": "CODE", "start": 7, "end": 17, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_97.markups.1": { "type": "CODE", "start": 73, "end": 79, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_97.markups.2": { "type": "CODE", "start": 124, "end": 145, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_97.markups.3": { "type": "CODE", "start": 165, "end": 175, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_98": { "id": "c0d89ee78940_98", "name": "5c40", "type": "P", "href": null, "layout": null, "metadata": null, "text": "After optimisation, the ROM usage has dropped drastically, as shown below. So MakeCode might actually run on Blue Pill, assuming we don’t need double-precision math. I haven’t completed my testing of MakeCode on Blue Pill yet — I’m taking a break from the coding and testing to document my MakeCode porting experience, which is what you’re reading now (and more to come).", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_99": { "id": "c0d89ee78940_99", "name": "063d", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Read about Blue Pill memory optimisation in my previous article.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_99.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_99.markups.0": { "type": "A", "start": 0, "end": 63, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fmedium.com\u002F@ly.lee\u002Fstm32-blue-pill-analyse-and-optimise-your-ram-and-rom-9fc805e16ed7?source=friends_link&sk=54719084d640bb1d92ac1097d623bba2", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_100": { "id": "c0d89ee78940_100", "name": "818f", "type": "IMG", "href": null, "layout": "FULL_WIDTH", "metadata": { "type": "id", "generated": false, "id": "ImageMetadata:1*3DGjmQJot2LRDQzR-dwJRA.png", "typename": "ImageMetadata" }, "text": "Memory usage of the MakeCode application on Blue Pill, with Qfplib and nano-float. From https:\u002F\u002Fdocs.google.com\u002Fspreadsheets\u002Fd\u002F1OmD1XmUQJTIiXklYx-eui27MFBBhnXrCNaJwSUFDiN8\u002Fedit#gid=381366828&fvid=1359565135", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_100.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "ImageMetadata:1*3DGjmQJot2LRDQzR-dwJRA.png": { "id": "1*3DGjmQJot2LRDQzR-dwJRA.png", "originalHeight": 697, "originalWidth": 1098, "focusPercentX": null, "focusPercentY": null, "alt": null, "__typename": "ImageMetadata" }, "Paragraph:c0d89ee78940_100.markups.0": { "type": "A", "start": 88, "end": 206, "href": "https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191204194230\u002Fhttps:\u002F\u002Fdocs.google.com\u002Fspreadsheets\u002Fd\u002F1OmD1XmUQJTIiXklYx-eui27MFBBhnXrCNaJwSUFDiN8\u002Fedit#gid=381366828&fvid=1359565135", "anchorType": "LINK", "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_101": { "id": "c0d89ee78940_101", "name": "f67f", "type": "H3", "href": null, "layout": null, "metadata": null, "text": "The Daring Proposition", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_102": { "id": "c0d89ee78940_102", "name": "b9cb", "type": "P", "href": null, "layout": null, "metadata": null, "text": "In this article I have argued that we don’t need highly-precise double-precision math libraries all the time. It’s plausible that single-precision math (optimised with Qfplib) is sufficient for IoT and for Blue Pill embedded programs. If we accept this, then the lowly Blue Pill microcontroller will be able to run math programs that were previously too big to fit on Blue Pill. Like the MakeCode visual programming tool.", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_102.markups.0", "typename": "Markup" }, { "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_102.markups.1", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_102.markups.0": { "type": "STRONG", "start": 34, "end": 108, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_102.markups.1": { "type": "STRONG", "start": 130, "end": 233, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "Paragraph:c0d89ee78940_103": { "id": "c0d89ee78940_103", "name": "eda3", "type": "P", "href": null, "layout": null, "metadata": null, "text": "But this needs to be validated through real-world testing (I’ll be validating shortly through MakeCode). For the daring embedded programmers… All the code you need is already in this article, so go ahead and try it out!", "hasDropCap": null, "dropCapImage": null, "markups": [], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_104": { "id": "c0d89ee78940_104", "name": "0017", "type": "P", "href": null, "layout": null, "metadata": null, "text": "Many thanks to Fabien Petitgrand for the precious feedback", "hasDropCap": null, "dropCapImage": null, "markups": [{ "type": "id", "generated": true, "id": "Paragraph:c0d89ee78940_104.markups.0", "typename": "Markup" }], "__typename": "Paragraph", "iframe": null, "mixtapeMetadata": null }, "Paragraph:c0d89ee78940_104.markups.0": { "type": "EM", "start": 0, "end": 58, "href": null, "anchorType": null, "userId": null, "linkMetadata": null, "__typename": "Markup" }, "User:87a61f1520ab": { "id": "87a61f1520ab", "__typename": "User" }, "Collection:721b17443fd5": { "creator": { "type": "id", "generated": false, "id": "User:87a61f1520ab", "typename": "User" }, "viewerIsEditor": false, "__typename": "Collection", "name": "Coinmonks", "avatar": { "type": "id", "generated": false, "id": "ImageMetadata:1*-_aiJHzJPz655N7iSSrLrQ.png", "typename": "ImageMetadata" }, "id": "721b17443fd5", "domain": null, "slug": "coinmonks" }, "Tag:programming": { "id": "programming", "displayTitle": "Programming", "__typename": "Tag" }, "Tag:embedded-systems": { "id": "embedded-systems", "displayTitle": "Embedded Systems", "__typename": "Tag" }, "Tag:stm32": { "id": "stm32", "displayTitle": "Stm32", "__typename": "Tag" }, "Tag:internet-of-things": { "id": "internet-of-things", "displayTitle": "Internet of Things", "__typename": "Tag" }, "ImageMetadata:1*-_aiJHzJPz655N7iSSrLrQ.png": { "id": "1*-_aiJHzJPz655N7iSSrLrQ.png", "__typename": "ImageMetadata" }, "$Post:55093aab163a.previewContent": { "subtitle": "Floating-point math libraries can bloat your Blue Pill code. Here’s one way to fix that", "__typename": "PreviewContent" } }</script>
  <script
    src="https://web.archive.org/web/20191204194230js_/https://cdn-client.medium.com/lite/static/js/manifest.c83c1a1a.js"></script>
  <script
    src="https://web.archive.org/web/20191204194230js_/https://cdn-client.medium.com/lite/static/js/vendors~main.9c8dc7d0.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20191204194230js_/https://cdn-client.medium.com/lite/static/js/main.c5c932e3.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20191204194230js_/https://cdn-client.medium.com/lite/static/js/vendors~screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~scre~3e410f11.faa5af01.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20191204194230js_/https://cdn-client.medium.com/lite/static/js/screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~screen.post~~73c4bb05.cf7c8ea6.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20191204194230js_/https://cdn-client.medium.com/lite/static/js/screen.post~screen.post.amp~screen.post.series~screen.profile~screen.sequence.library~screen.sequenc~036c6b37.3e471c5d.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20191204194230js_/https://cdn-client.medium.com/lite/static/js/screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tick~screen.landingp~ed90ee39.3c8733a8.chunk.js"></script>
  <script
    src="https://web.archive.org/web/20191204194230js_/https://cdn-client.medium.com/lite/static/js/screen.post.1aa42b57.chunk.js"></script>
  <script>window.main();</script>
</body>

</html>
<!--
     FILE ARCHIVED ON 19:42:30 Dec 04, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 01:30:43 Feb 23, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  esindex: 0.014
  captures_list: 100.415
  load_resource: 57.386
  RedisCDXSource: 26.735
  LoadShardBlock: 44.154 (3)
  exclusion.robots: 0.514
  PetaboxLoader3.datanode: 54.081 (4)
  exclusion.robots.policy: 0.495
  CDXLines.iter: 25.262 (3)
  PetaboxLoader3.resolve: 38.045
-->