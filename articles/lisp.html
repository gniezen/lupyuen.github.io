<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <title>uLisp and Blockly on PineCone BL602 RISC-V Board</title>

    
    <!-- Begin scripts/articles/*-header.html: Article Header for Custom Markdown files processed by rustdoc, like chip8.md -->
<meta property="og:title" 
    content="uLisp and Blockly on PineCone BL602 RISC-V Board" 
    data-rh="true">
<meta property="og:description" 
    content="Porting the uLisp Interpreter to PineCone BL602 RISC-V Board... And writing graphical programs with Blockly (Scratch)"
    data-rh="true">
<meta property="og:image" 
    content="https://lupyuen.github.io/images/lisp-title.jpg">
<meta property="og:type" 
    content="article" data-rh="true">
<!-- End scripts/articles/*-header.html -->
<!-- Begin scripts/rustdoc-header.html: Header for Custom Markdown files processed by rustdoc, like chip8.md -->
<link rel="alternate" type="application/rss+xml" title="RSS Feed for lupyuen" href="/rss.xml" />
<link rel="stylesheet" type="text/css" href="../normalize.css">
<link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle">
<link rel="stylesheet" type="text/css" href="../dark.css">
<link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle">
<link rel="stylesheet" type="text/css" href="../prism.css">
<script src="../storage.js"></script><noscript>
<link rel="stylesheet" href="../noscript.css"></noscript>
<link rel="shortcut icon" href="../favicon.ico">
<style type="text/css">
    #crate-search {
        background-image: url("../down-arrow.svg");
    }
    a {
        color: #77d;
    }
</style>
<!-- End scripts/rustdoc-header.html -->


</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

        <!-- Begin scripts/rustdoc-before.html: Pre-HTML for Custom Markdown files processed by rustdoc, like chip8.md -->

    <!-- Begin Theme Picker -->
    <div class="theme-picker" style="left: 0"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg"
        width="18" alt="Pick another theme!"></button>
        <div id="theme-choices"></div>
    </div>
    <script src="../theme.js"></script>
    <script src="../prism.js"></script>
    <!-- Theme Picker -->

    <!-- End scripts/rustdoc-before.html -->
    

    <h1 class="title">uLisp and Blockly on PineCone BL602 RISC-V Board</h1>
    <nav id="TOC"><ul>
<li><a href="#start-with-ulisp">1 Start with uLisp</a><ul></ul></li>
<li><a href="#build-the-bl602-ulisp-firmware">2 Build the BL602 uLisp Firmware</a><ul>
<li><a href="#flash-the-firmware">2.1 Flash the firmware</a><ul></ul></li></ul></li>
<li><a href="#run-the-bl602-ulisp-firmware">3 Run the BL602 uLisp Firmware</a><ul>
<li><a href="#enter-ulisp-commands">3.1 Enter uLisp commands</a><ul></ul></li>
<li><a href="#flip-the-led">3.2 Flip the LED</a><ul></ul></li>
<li><a href="#blinky-function">3.3 Blinky Function</a><ul></ul></li></ul></li>
<li><a href="#now-add-blockly">4 Now add Blockly</a><ul></ul></li>
<li><a href="#run-the-blockly-web-editor">5 Run the Blockly Web Editor</a><ul></ul></li>
<li><a href="#porting-ulisp-to-bl602">6 Porting uLisp to BL602</a><ul></ul></li>
<li><a href="#lisp-code-generator-for-blockly">7 Lisp Code Generator for Blockly</a><ul></ul></li>
<li><a href="#blockly-web-editor-for-ulisp">8 Blockly Web Editor for uLisp</a><ul></ul></li>
<li><a href="#web-serial-api">9 Web Serial API</a><ul></ul></li>
<li><a href="#whats-next">10 What‚Äôs Next</a><ul></ul></li>
<li><a href="#notes">11 Notes</a><ul></ul></li></ul></nav><p>üìù <em>16 May 2021</em></p>
<p>What if we could run <strong>Lisp programs</strong> on the <a href="https://lupyuen.github.io/articles/pinecone"><strong>PineCone BL602 RISC-V Board</strong></a>?</p>
<pre><code class="language-text">( loop
  ( pinmode 11 :output )
  ( digitalwrite 11 :high )
  ( delay 1000 )
  ( pinmode 11 :output )
  ( digitalwrite 11 :low )
  ( delay 1000 )
)
</code></pre>
<p>And create the programs with a <strong>drag-and-drop Web Editor</strong>‚Ä¶ Without typing a single Lisp parenthesis / bracket?</p>
<p><img src="https://lupyuen.github.io/images/lisp-web.png" alt="Blockly for uLisp" /></p>
<p>Today we shall explore <strong>uLisp and Blockly</strong> as an interesting new way to create embedded programs for the <strong>BL602 RISC-V + WiFi SoC</strong>.</p>
<p>(And someday this could become really helpful for <strong>IoT Education</strong>)</p>
<p>The uLisp Firmware in this article will run on <strong>PineCone, Pinenut and Any BL602 Board</strong>.</p>
<ul>
<li><a href="https://youtu.be/LNkmUIv7ZZc"><strong>Watch the demo on YouTube</strong></a></li>
</ul>
<p><img src="https://lupyuen.github.io/images/lisp-cover.jpg" alt="uLisp and Blockly on PineCone BL602 RISC-V Board" /></p>
<p><em>uLisp and Blockly on PineCone BL602 RISC-V Board</em></p>
<h1 id="start-with-ulisp" class="section-header"><a href="#start-with-ulisp">1 Start with uLisp</a></h1>
<p><em>What is uLisp?</em></p>
<p>From the <a href="http://www.ulisp.com">uLisp Website</a>‚Ä¶</p>
<blockquote>
<p>uLisp¬Æ is a version of the Lisp programming language specifically designed to run on <strong>microcontrollers with a limited amount of RAM</strong>, from the Arduino Uno based on the ATmega328 up to the Teensy 4.0/4.1. You can use exactly the same uLisp program, irrespective of the platform.</p>
</blockquote>
<blockquote>
<p>Because <strong>uLisp is an interpreter</strong> you can type commands in, and see the effect immediately, without having to compile and upload your program. This makes it an ideal environment for <strong>learning to program</strong>, or for setting up simple electronic devices.</p>
</blockquote>
<p><em>Why is uLisp special?</em></p>
<p>Compared with other embedded programming languages, uLisp looks particularly interesting because it has <strong>built-in Arduino-like functions</strong> for GPIO, I2C, SPI, ADC, DAC, ‚Ä¶ Even WiFi!</p>
<p>So this Blinky program runs perfectly fine on uLisp‚Ä¶</p>
<pre><code class="language-text">( loop
  ( pinmode 11 :output )
  ( digitalwrite 11 :high )
  ( delay 1000 )
  ( pinmode 11 :output )
  ( digitalwrite 11 :low )
  ( delay 1000 )
)
</code></pre>
<p>Because <code>pinmode</code> (set the GPIO pin mode) and <code>digitalwrite</code> (set the GPIO pin output) are Arduino-like GPIO functions predefined in uLisp.</p>
<p>(<code>delay</code> is another Arduino-like Timer function predefined in uLisp. It waits for the specified number of milliseconds.)</p>
<p>uLisp makes it possible to write <strong>high-level scripts</strong> with GPIO, I2C, SPI, ADC, DAC and WiFi functions.</p>
<p>And for learners familiar with Arduino, this might be a helpful way to <strong>adapt to modern microcontrollers</strong> like BL602.</p>
<p><em>Why port uLisp to BL602?</em></p>
<p>uLisp is a natural fit for the BL602 RISC-V + WiFi SoC because‚Ä¶</p>
<ol>
<li>
<p>BL602 has a <strong>Command-Line Interface</strong> (and so does uLisp)</p>
<p>Unlike most 32-bit microcontrollers, BL602 was designed to be accessed by embedded developers via a simple Command-Line Interface (over the USB Serial Port).</p>
<p>BL602 doesn‚Äôt have a fancy shell like <code>bash</code>. But uLisp on BL602 could offer some helpful <strong>scripting capability</strong>  for GPIO, I2C, SPI, WiFi, ‚Ä¶</p>
</li>
<li>
<p>uLisp already works on <strong>ESP32</strong> <a href="https://github.com/technoblogy/ulisp-esp">(See this)</a></p>
<p>Since BL602 is a WiFi + Bluetooth LE SoC like ESP32, it might be easy to port the ESP32 version of uLisp to BL602. Including the WiFi functions.</p>
</li>
</ol>
<p><em>I‚Äôm new to Lisp‚Ä¶ Too many brackets, no?</em></p>
<p>In a while we‚Äôll talk about <strong>Blockly for uLisp</strong>‚Ä¶ Drag-and-drop a uLisp program, without typing a single bracket / parenthesis!</p>
<p>(Works just like Scratch, the graphical programming tool)</p>
<p>And we may even upload and run a uLisp program on BL602 through a <strong>Web Browser</strong>‚Ä¶ Thanks to the <strong>Web Serial API</strong>!</p>
<p><em>Porting uLisp from ESP32 to BL602 sounds difficult?</em></p>
<p>Not at all! <a href="https://github.com/technoblogy/ulisp-esp">uLisp for ESP32</a> lives in a single C source file: <a href="https://github.com/technoblogy/ulisp-esp/blob/master/ulisp-esp.ino"><code>ulisp-esp.ino</code></a> ‚Ä¶</p>
<p><img src="https://lupyuen.github.io/images/lisp-source.jpg" alt="uLisp for ESP32" /></p>
<p>(With a few Arduino bits in C++)</p>
<p>Porting uLisp to BL602 (as a C library <a href="https://github.com/lupyuen/ulisp-bl602"><code>ulisp-bl602</code></a>) was quick and easy.</p>
<p>(More about this in a while.)</p>
<p><em>What about porting the Arduino functions like <code>pinmode</code> and <code>digitalwrite</code>?</em></p>
<p>The <a href="https://github.com/lupyuen/bl_iot_sdk/tree/ulisp"><strong>BL602 IoT SDK</strong></a> doesn‚Äôt have these GPIO functions. </p>
<p>So in BL602 uLisp we reimplemented these functions with the <strong>BL602 Hardware Abstraction Layer for GPIO</strong>.</p>
<p>(While exposing the same old names to uLisp programs: <code>pinmode</code> and <code>digitalwrite</code>)</p>
<p><em>Anything else we should know about uLisp?</em></p>
<p>uLisp is still <a href="https://github.com/technoblogy?tab=repositories">actively maintained</a>. It has an <a href="http://forum.ulisp.com/">active online community</a>.</p>
<h1 id="build-the-bl602-ulisp-firmware" class="section-header"><a href="#build-the-bl602-ulisp-firmware">2 Build the BL602 uLisp Firmware</a></h1>
<p>Download and build the <a href="https://github.com/lupyuen/bl_iot_sdk/tree/ulisp/customer_app/sdk_app_ulisp">uLisp Firmware for BL602</a>‚Ä¶</p>
<pre><code class="language-bash"># Download the ulisp branch of lupyuen's bl_iot_sdk
git clone --recursive --branch ulisp https://github.com/lupyuen/bl_iot_sdk

# TODO: Change this to the full path of bl_iot_sdk
export BL60X_SDK_PATH=$HOME/bl_iot_sdk
export CONFIG_CHIP_NAME=BL602

# Build the sdk_app_ulisp firmware
cd bl_iot_sdk/customer_app/sdk_app_ulisp
make

# TODO: Change ~/blflash to the full path of blflash
cp build_out/sdk_app_ulisp.bin ~/blflash
</code></pre>
<p><a href="https://lupyuen.github.io/articles/pinecone#building-firmware">More details on building bl_iot_sdk</a></p>
<p>(Remember to use the <strong><code>ulisp</code></strong> branch, not the default <strong><code>master</code></strong> branch)</p>
<h2 id="flash-the-firmware" class="section-header"><a href="#flash-the-firmware">2.1 Flash the firmware</a></h2>
<p>Follow these steps to install <code>blflash</code>‚Ä¶</p>
<ol>
<li>
<p><a href="https://lupyuen.github.io/articles/flash#install-rustup"><strong>‚ÄúInstall rustup‚Äù</strong></a></p>
</li>
<li>
<p><a href="https://lupyuen.github.io/articles/flash#download-and-build-blflash"><strong>‚ÄúDownload and build blflash‚Äù</strong></a></p>
</li>
</ol>
<p>We assume that our Firmware Binary File <code>sdk_app_ulisp.bin</code> has been copied to the <code>blflash</code> folder.</p>
<p>Set BL602 to <strong>Flashing Mode</strong> and restart the board‚Ä¶</p>
<p><strong>For PineCone:</strong></p>
<ol>
<li>
<p>Set the <strong>PineCone Jumper (IO 8)</strong> to the <strong><code>H</code> Position</strong> <a href="https://lupyuen.github.io/images/pinecone-jumperh.jpg">(Like this)</a></p>
</li>
<li>
<p>Press the Reset Button</p>
</li>
</ol>
<p><strong>For BL10:</strong></p>
<ol>
<li>
<p>Connect BL10 to the USB port</p>
</li>
<li>
<p>Press and hold the <strong>D8 Button (GPIO 8)</strong></p>
</li>
<li>
<p>Press and release the <strong>EN Button (Reset)</strong></p>
</li>
<li>
<p>Release the D8 Button</p>
</li>
</ol>
<p><strong>For Pinenut and MagicHome BL602:</strong></p>
<ol>
<li>
<p>Disconnect the board from the USB Port</p>
</li>
<li>
<p>Connect <strong>GPIO 8</strong> to <strong>3.3V</strong></p>
</li>
<li>
<p>Reconnect the board to the USB port</p>
</li>
</ol>
<p>Enter these commands to flash <code>sdk_app_ulisp.bin</code> to BL602 over UART‚Ä¶</p>
<pre><code class="language-bash"># TODO: Change ~/blflash to the full path of blflash
cd ~/blflash

# For Linux:
sudo cargo run flash sdk_app_ulisp.bin \
    --port /dev/ttyUSB0

# For macOS:
cargo run flash sdk_app_ulisp.bin \
    --port /dev/tty.usbserial-1420 \
    --initial-baud-rate 230400 \
    --baud-rate 230400

# For Windows: Change COM5 to the BL602 Serial Port
cargo run flash sdk_app_ulisp.bin --port COM5
</code></pre>
<p><a href="https://lupyuen.github.io/articles/flash#flash-the-firmware">More details on flashing firmware</a></p>
<h1 id="run-the-bl602-ulisp-firmware" class="section-header"><a href="#run-the-bl602-ulisp-firmware">3 Run the BL602 uLisp Firmware</a></h1>
<p>Set BL602 to <strong>Normal Mode</strong> (Non-Flashing) and restart the board‚Ä¶</p>
<p><strong>For PineCone:</strong></p>
<ol>
<li>
<p>Set the <strong>PineCone Jumper (IO 8)</strong> to the <strong><code>L</code> Position</strong> <a href="https://lupyuen.github.io/images/pinecone-jumperl.jpg">(Like this)</a></p>
</li>
<li>
<p>Press the Reset Button</p>
</li>
</ol>
<p><strong>For BL10:</strong></p>
<ol>
<li>Press and release the <strong>EN Button (Reset)</strong></li>
</ol>
<p><strong>For Pinenut and MagicHome BL602:</strong></p>
<ol>
<li>
<p>Disconnect the board from the USB Port</p>
</li>
<li>
<p>Connect <strong>GPIO 8</strong> to <strong>GND</strong></p>
</li>
<li>
<p>Reconnect the board to the USB port</p>
</li>
</ol>
<p>After restarting, connect to BL602‚Äôs UART Port at 2 Mbps like so‚Ä¶</p>
<p><strong>For Linux:</strong></p>
<pre><code class="language-bash">sudo screen /dev/ttyUSB0 2000000
</code></pre>
<p><strong>For macOS:</strong> Use CoolTerm (<a href="https://lupyuen.github.io/articles/flash#watch-the-firmware-run">See this</a>)</p>
<p><strong>For Windows:</strong> Use <code>putty</code> (<a href="https://lupyuen.github.io/articles/flash#watch-the-firmware-run">See this</a>)</p>
<p><strong>Alternatively:</strong> Use the Web Serial Terminal (<a href="https://lupyuen.github.io/articles/flash#watch-the-firmware-run">See this</a>)</p>
<p><a href="https://lupyuen.github.io/articles/flash#watch-the-firmware-run">More details on connecting to BL602</a></p>
<h2 id="enter-ulisp-commands" class="section-header"><a href="#enter-ulisp-commands">3.1 Enter uLisp commands</a></h2>
<p>Let‚Äôs enter some uLisp commands and test the <strong>BL602 uLisp Interpreter</strong>!</p>
<p><strong>Please Note:</strong> For each uLisp command line we <strong>insert a space ‚Äú ‚Äú after the first bracket ‚Äú<code>(</code>‚Äù</strong>.</p>
<p>That‚Äôs because we programmed the BL602 Command Line to recognise ‚Äú<code>(</code>‚Äù as a <strong>Command Keyword</strong> that will call the uLisp Interpreter.</p>
<ol>
<li>
<p>Enter this to create a <strong>list of numbers</strong>‚Ä¶</p>
<pre><code class="language-text">( list 1 2 3 )
</code></pre>
<p>This returns <strong><code>(1 2 3)</code></strong></p>
</li>
<li>
<p>In Lisp, to <strong><code>car</code></strong> a list is to take the <strong>head of the list</strong>‚Ä¶</p>
<pre><code class="language-text">( car ( list 1 2 3 ) )
</code></pre>
<p>This returns <strong><code>1</code></strong></p>
<p>(It‚Äôs like deshelling a prawn)</p>
</li>
<li>
<p>And to <strong><code>cdr</code></strong> a list is to take the <strong>tail of the list</strong>‚Ä¶</p>
<pre><code class="language-text">( cdr ( list 1 2 3 ) )
</code></pre>
<p>This returns <strong><code>(2 3)</code></strong></p>
<p><a href="https://sumikko-gurashi.fandom.com/wiki/Ebifurai_No_Shippo">(Everything except the head‚Ä¶ like Ebifurai No Shippo)</a></p>
<p><img src="https://lupyuen.github.io/images/lisp-interpreter.png" alt="uLisp Interpreter" /></p>
<p><a href="http://www.ulisp.com/show?1AC5">(Based on the List Commands from uLisp)</a></p>
</li>
</ol>
<h2 id="flip-the-led" class="section-header"><a href="#flip-the-led">3.2 Flip the LED</a></h2>
<p>TODO</p>
<p>Now let‚Äôs flip the LED on and off‚Ä¶</p>
<p>Configure GPIO Pin 11 (Blue LED) for output (instead of input)‚Ä¶</p>
<pre><code class="language-text">( pinmode 11 :output )
</code></pre>
<p>Set GPIO Pin 11 to High (LED Off)‚Ä¶</p>
<pre><code class="language-text">( digitalwrite 11 :high )
</code></pre>
<p>Set GPIO Pin 11 to Low (LED On)‚Ä¶</p>
<pre><code class="language-text">( digitalwrite 11 :low )
</code></pre>
<p>Sleep 1,000 milliseconds (1 second)‚Ä¶</p>
<pre><code class="language-text">( delay 1000 )
</code></pre>
<ul>
<li><a href="https://youtu.be/9oLheWjzPcA"><strong>Watch the demo on YouTube</strong></a></li>
</ul>
<p>We should see this‚Ä¶</p>
<p><img src="https://lupyuen.github.io/images/lisp-led.png" alt="Flip the LED with uLisp" /></p>
<p><a href="http://www.ulisp.com/show?1AEK">(Based on the GPIO Commands from uLisp)</a></p>
<h2 id="blinky-function" class="section-header"><a href="#blinky-function">3.3 Blinky Function</a></h2>
<p>TODO</p>
<p>Define the blinky function‚Ä¶</p>
<pre><code class="language-text">( defun blinky ()             \
  ( pinmode 11 :output )      \
  ( loop                      \
   ( digitalwrite 11 :high )  \
   ( delay 1000 )             \
   ( digitalwrite 11 :low  )  \
   ( delay 1000 )))
</code></pre>
<p>Here‚Äôs what it means‚Ä¶</p>
<p><img src="https://lupyuen.github.io/images/lisp-blinky.png" alt="Blinky Function" /></p>
<p>Run the blinky function‚Ä¶</p>
<pre><code class="language-text">( blinky )
</code></pre>
<ul>
<li><a href="https://youtu.be/TN4OaZNGjOA"><strong>Watch the demo on YouTube</strong></a></li>
</ul>
<p>TODO</p>
<p>Based on‚Ä¶</p>
<p><a href="http://www.ulisp.com/show?1AEK">(Based on this Blinky function from uLisp)</a></p>
<h1 id="now-add-blockly" class="section-header"><a href="#now-add-blockly">4 Now add Blockly</a></h1>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/lisp-blockly.png" alt="" /></p>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/lisp-blockly2.png" alt="" /></p>
<p>TODO</p>
<h1 id="run-the-blockly-web-editor" class="section-header"><a href="#run-the-blockly-web-editor">5 Run the Blockly Web Editor</a></h1>
<p>TODO</p>
<p><a href="https://appkaki.github.io/blockly-ulisp/demos/code/"><code>blockly-ulisp/demos/code</code></a></p>
<p><a href="https://github.com/AppKaki/blockly-ulisp"><code>blockly-ulisp</code> Web Editor</a></p>
<p><img src="https://lupyuen.github.io/images/lisp-mobile.png" alt="" /></p>
<p>TODO</p>
<h1 id="porting-ulisp-to-bl602" class="section-header"><a href="#porting-ulisp-to-bl602">6 Porting uLisp to BL602</a></h1>
<p>TODO</p>
<p>uLisp was ported to BL602 from ESP32 Arduino‚Ä¶</p>
<p><a href="https://github.com/technoblogy/ulisp-esp"><code>ulisp-esp</code></a></p>
<p>This firmware calls the BL602 uLisp Library <code>components/3rdparty/ulisp-bl602</code>‚Ä¶</p>
<p><a href="https://github.com/lupyuen/ulisp-bl602"><code>ulisp-bl602</code></a></p>
<p>This firmware works with <code>blockly-ulisp</code>, which allows embedded apps to be dragged-and-dropped from Web Browser to BL602‚Ä¶</p>
<p><a href="https://github.com/AppKaki/blockly-ulisp"><code>blockly-ulisp</code></a></p>
<p><img src="https://lupyuen.github.io/images/lisp-blinky2.png" alt="uLisp Blinky" /></p>
<h1 id="lisp-code-generator-for-blockly" class="section-header"><a href="#lisp-code-generator-for-blockly">7 Lisp Code Generator for Blockly</a></h1>
<p>The following have been added into the existing <a href="https://github.com/AppKaki/blockly-ulisp/blob/master/generators"><code>generators</code></a> folder to generate Lisp code and to add blocks specific to uLisp‚Ä¶</p>
<ul>
<li>
<p><a href="https://github.com/AppKaki/blockly-ulisp/blob/master/generators/lisp.js"><code>generators/lisp.js</code></a>: Main interface for Lisp Code Generator</p>
</li>
<li>
<p><a href="https://github.com/AppKaki/blockly-ulisp/blob/master/generators/lisp"><code>generators/lisp</code></a>: Lisp Code Generator for various blocks</p>
</li>
<li>
<p><a href="https://github.com/AppKaki/blockly-ulisp/blob/master/generators/lisp/lisp_library.xml"><code>generators/lisp/lisp_library.xml</code></a>: Blocks XML file used by Block Exporter to generate the custom blocks</p>
</li>
</ul>
<p>The Lisp Code Generator is <strong>incomplete</strong>. The only blocks supported are‚Ä¶</p>
<ol>
<li>
<p>Forever</p>
</li>
<li>
<p>On Start</p>
</li>
<li>
<p>Wait</p>
</li>
<li>
<p>GPIO Digital Write</p>
</li>
</ol>
<p>The Lisp Code Generator is based on Visual Embedded Rust‚Ä¶</p>
<p>https://lupyuen.github.io/articles/advanced-topics-for-visual-embedded-rust-programming</p>
<p><img src="https://lupyuen.github.io/images/lisp-dart.png" alt="" /></p>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/lisp-generate.png" alt="" /></p>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/lisp-rust.png" alt="" /></p>
<p>TODO</p>
<h1 id="blockly-web-editor-for-ulisp" class="section-header"><a href="#blockly-web-editor-for-ulisp">8 Blockly Web Editor for uLisp</a></h1>
<p>Watch the demo on YouTube‚Ä¶</p>
<ul>
<li>
<p><a href="https://youtu.be/RRhzW4j8BtI"><strong>LED Demo</strong></a></p>
</li>
<li>
<p><a href="https://youtu.be/LNkmUIv7ZZc"><strong>Blinky Demo</strong></a></p>
</li>
</ul>
<p>Try it here‚Ä¶</p>
<p><a href="https://appkaki.github.io/blockly-ulisp/demos/code/"><code>blockly-ulisp</code> Web Editor</a></p>
<p>The Blockly demo at <a href="https://github.com/AppKaki/blockly-ulisp/blob/master/demos/code"><code>demos/code</code></a> has been customised to include the Lisp Code Generator‚Ä¶</p>
<ul>
<li>
<p><a href="https://github.com/AppKaki/blockly-ulisp/blob/master/demos/code/index.html"><code>demos/code/index.html</code></a>: Customised to load the Lisp Code Generator and Lisp Blocks</p>
</li>
<li>
<p><a href="https://github.com/AppKaki/blockly-ulisp/blob/master/demos/code/code.js"><code>demos/code/code.js</code></a>: Customised to load the Lisp Code Generator and Lisp Blocks</p>
</li>
</ul>
<p>Inspired by MakeCode for BBC micro:bit‚Ä¶</p>
<p><a href="https://makecode.microbit.org/"><code>MakeCode</code></a></p>
<h1 id="web-serial-api" class="section-header"><a href="#web-serial-api">9 Web Serial API</a></h1>
<p>TODO</p>
<p>The Blockly demo calls the <a href="https://web.dev/serial/"><strong>Web Serial API</strong></a> to transfer the generated uLisp Script to BL602‚Ä¶</p>
<p><a href="https://github.com/AppKaki/blockly-ulisp/blob/master/demos/code/code.js#L641-L738"><code>code.js</code></a></p>
<p>We assume that BL602 is running the uLisp Firmware and connected to our computer via USB‚Ä¶</p>
<p><a href="https://github.com/lupyuen/bl_iot_sdk/tree/ulisp/customer_app/sdk_app_ulisp"><code>sdk_app_ulisp</code></a></p>
<p><img src="https://lupyuen.github.io/images/lisp-terminal.png" alt="" /></p>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/lisp-reboot.jpg" alt="" /></p>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/lisp-reboot2.png" alt="" /></p>
<p>TODO</p>
<h1 id="whats-next" class="section-header"><a href="#whats-next">10 What‚Äôs Next</a></h1>
<p>TODO</p>
<ul>
<li>
<p><a href="https://github.com/sponsors/lupyuen">Sponsor me a coffee</a></p>
</li>
<li>
<p><a href="https://lupyuen.github.io/articles/book">Read ‚ÄúThe RISC-V BL602 Book‚Äù</a></p>
</li>
<li>
<p><a href="https://lupyuen.github.io">Check out my articles</a></p>
</li>
<li>
<p><a href="https://lupyuen.github.io/rss.xml">RSS Feed</a></p>
</li>
</ul>
<p><em>Got a question, comment or suggestion? Create an Issue or submit a Pull Request here‚Ä¶</em></p>
<p><a href="https://github.com/lupyuen/lupyuen.github.io/blob/master/src/lisp.md"><code>lupyuen.github.io/src/lisp.md</code></a></p>
<h1 id="notes" class="section-header"><a href="#notes">11 Notes</a></h1>
<ol>
<li>This article is the expanded version of <a href="https://twitter.com/MisterTechBlog/status/1389783215347429382">this Twitter Thread</a></li>
</ol>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/lisp-build.png" alt="" /></p>
<p>TODO</p>
<p><img src="https://lupyuen.github.io/images/lisp-build2.png" alt="" /></p>
<p>TODO</p>

    
</body>
</html>