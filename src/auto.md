# Auto Flash and Test NuttX on RISC-V BL602

üìù _26 Jan 2022_

![PineCone BL602 RISC-V Board (bottom) connected to Single-Board Computer (top) for Auto Flash and Test](https://lupyuen.github.io/images/auto-title.jpg)

_PineCone BL602 RISC-V Board (bottom) connected to Single-Board Computer (top) for Auto Flash and Test_

TODO

[__Apache NuttX__](https://lupyuen.github.io/articles/nuttx) 

# What's Next

TODO

Many Thanks to my [__GitHub Sponsors__](https://github.com/sponsors/lupyuen) for supporting my work! This article wouldn't have been possible without your support.

-   [Sponsor me a coffee](https://github.com/sponsors/lupyuen)

-   [Read "The RISC-V BL602 / BL604 Book"](https://lupyuen.github.io/articles/book)

-   [Check out my articles](https://lupyuen.github.io)

-   [RSS Feed](https://lupyuen.github.io/rss.xml)

_Got a question, comment or suggestion? Create an Issue or submit a Pull Request here..._

[`lupyuen.github.io/src/auto.md`](https://github.com/lupyuen/lupyuen.github.io/blob/master/src/auto.md)

# Notes

1.  This article is the expanded version of [this Twitter Thread](https://twitter.com/MisterTechBlog/status/1482152780051935238)

TODO1

![](https://lupyuen.github.io/images/auto-connect.jpg)

TODO2

![](https://lupyuen.github.io/images/auto-crash.png)

TODO3

![](https://lupyuen.github.io/images/auto-crash2.png)

TODO4

![](https://lupyuen.github.io/images/auto-lorawan.png)

TODO5

![](https://lupyuen.github.io/images/auto-lorawan2.png)

TODO6

![](https://lupyuen.github.io/images/auto-run.png)

TODO7

![](https://lupyuen.github.io/images/auto-script.png)

TODO8

![](https://lupyuen.github.io/images/auto-script2.png)

TODO9

![](https://lupyuen.github.io/images/auto-script3.png)

TODO10

![](https://lupyuen.github.io/images/auto-stack.png)

TODO11

![](https://lupyuen.github.io/images/auto-stack2.png)

TODO12

![](https://lupyuen.github.io/images/auto-stack3.png)

TODO13

![](https://lupyuen.github.io/images/auto-stack4.png)

TODO14

![](https://lupyuen.github.io/images/auto-workflow.png)

TODO15

![](https://lupyuen.github.io/images/auto-workflow2.png)

TODO16

![](https://lupyuen.github.io/images/auto-merge.png)

TODO17

![](https://lupyuen.github.io/images/auto-remote.png)

Now we can Flash & Test Apache #NuttX OS on #BL602 ... Remotely from a Phone! üéâ

[(Source)](https://github.com/lupyuen/remote-bl602/)

Here's a demo of #BL602 Auto Flash & Test ... With #NuttX Crash Analysis

[(Source)](https://github.com/lupyuen/remote-bl602/)

What are these addresses in the #NuttX Stack Trace? Let's do Auto Crash Analysis for #BL602 ... And see the Source Code for the Stack Trace 

[(Source)](https://github.com/lupyuen/remote-bl602/#output-log-for-upstream-build)

Our Crash Analysis Script finds #BL602 Code Addresses in the Output Log ... And shows the matching Source Code from the #NuttX RISC-V Disassembly ... Which was auto-generated by GitHub Actions

[(Source)](https://github.com/lupyuen/remote-bl602/blob/main/scripts/test.sh#L129-L152)

Now our Crash Analysis Script shows the matching Source Code whenever #NuttX crashes üëç

[(Source)](https://github.com/lupyuen/remote-bl602/#output-log-for-upstream-build)

We also match up the Data Addresses in the #NuttX Stack Trace with the RISC-V Disassembly ... Not very interesting now, might be useful later

[(Source)](https://github.com/lupyuen/remote-bl602/#output-log-for-upstream-build)

Here's how we enable #LoRaWAN for our #NuttX Build in GitHub Actions ... Let's do Automated NuttX Testing with LoRaWAN! üëç

[(Source)](https://github.com/lupyuen/incubator-nuttx/blob/master/.github/workflows/bl602-commit.yml#L91-L200)

Here's how we configure our #NuttX Build in GitHub Actions ... To enable errors, warnings, info messages and assertions

[(Source)](https://github.com/lupyuen/incubator-nuttx/blob/master/.github/workflows/bl602.yml#L59-L63)

Auto Flash and Test on #BL602 is really helpful for picking a Stable Daily Build of #NuttX for BL602 ... So I can test it as I write my NuttX articles üëç

[(Source)](https://github.com/lupyuen/remote-bl602)

Auto Flash and Test on #BL602 the latest #NuttX Build ... Yep it works! üéâ

[(Source)](https://github.com/lupyuen/remote-bl602)

Our SBC (left) controls PineCone #BL602 (right) via GPIO ... To enter and exit BL602 Flashing Mode üéâ

[(Source)](https://github.com/lupyuen/remote-bl602/blob/main/scripts/test.sh)

Connect SBC to PineCone #BL602 at the Reset and GPIO 8 Pins ... So that we control BL602's Flashing Mode via SBC

[(Source)](https://github.com/lupyuen/remote-bl602/blob/main/scripts/test.sh)

Let's Auto-Flash & Test the Daily Upstream Build of Apache #NuttX OS ... Auto-Built & Published by GitHub Actions

[(Source)](https://github.com/lupyuen/remote-bl602/blob/main/scripts/test.sh#L17-L21)

[(Source)](https://github.com/lupyuen/incubator-nuttx/blob/master/.github/workflows/bl602.yml#L82-L112)

Will this work for Auto-Flashing and Testing #BL602 via a Linux SBC? Let's find out ü§î

[(Source)](https://github.com/lupyuen/remote-bl602/blob/main/scripts/test.sh)

If #BL602 Auto-Test successfully joins a #LoRaWAN Network ... Means that everything is super hunky dory on Apache #NuttX OS ... GPIO Input / Output / Interrupt, SPI, Timers, Message Queues, PThreads AND Strong Random Number Generator! üëç

[(Source)](https://github.com/lupyuen/remote-bl602/#output-log-for-release-build)

PineCone #BL602 connected to SBC for Auto Flash & Test ... Plus Semtech SX1262 for LoRaWAN Auto-Testing

[(Source)](https://github.com/lupyuen/remote-bl602/#run-the-script)

#LoRaWAN is a great Auto-Test for Apache #NuttX OS ... It tests GPIO Input / Output / Interrupt, SPI, Timers, Message Queues, PThreads AND Strong Random Number Generator!

[(Source)](https://github.com/lupyuen/remote-bl602/)

#BL602 Auto Flash & Test ... Now auto-tests the #LoRaWAN Stack on Apache #NuttX OS! üéâ

[(Source)](https://github.com/lupyuen/remote-bl602/)

We update #BL602 Auto Flash & Test to send the "lorawan_test" command ... Which will start the LoRaWAN Test on #NuttX OS

[(Source)](https://github.com/lupyuen/remote-bl602/blob/main/scripts/test.sh#L108-L111)
