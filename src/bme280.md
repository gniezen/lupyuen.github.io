# Apache NuttX Driver for BME280 Sensor: Ported from Zephyr OS

üìù _3 Mar 2022_

![Bosch BME280 Sensor connected to Pine64 PineCone BL602 RISC-V Board](https://lupyuen.github.io/images/bme280-title.jpg)

_"Will [__Apache NuttX OS__](https://lupyuen.github.io/articles/nuttx) talk I2C with [__Bosch BME280 Sensor__](https://www.bosch-sensortec.com/products/environmental-sensors/humidity-sensors-bme280/)... On the [__BL602 RISC-V SoC__](https://lupyuen.github.io/articles/pinecone)?"_

...A friend and I pondered (8,000 miles apart) while working on the [__Temperature + Humidity + Air Pressure__](https://learn.sparkfun.com/tutorials/sparkfun-bme280-breakout-hookup-guide) combo sensor.

Sounds like a fun challenge...

-   NuttX __doesn't have a driver__ for the BME280 Sensor

    (Though it supports BMP280)

-   Can we port the BME280 Driver from __Zephyr OS__ with a few tweaks?

    (Spoiler: Yes we can!)

-   What's inside a __NuttX Sensor Driver__ anyway?

    (How to build our own driver)

-   NuttX on BL602 is __kinda new-ish__

    (Some features might not work the way we expect)

-   BL602's I2C Port has __interesting quirks__. Will it work?

    (Specifically: I2C Sub Address)

Read on to find out how we solved the challenge and created this driver...

-   [__lupyuen/bme280-nuttx__](https://github.com/lupyuen/bme280-nuttx)

# What's Next

TODO

Many Thanks to my [__GitHub Sponsors__](https://github.com/sponsors/lupyuen) for supporting my work! This article wouldn't have been possible without your support.

-   [Sponsor me a coffee](https://github.com/sponsors/lupyuen)

-   [Read "The RISC-V BL602 / BL604 Book"](https://lupyuen.github.io/articles/book)

-   [Check out my articles](https://lupyuen.github.io)

-   [RSS Feed](https://lupyuen.github.io/rss.xml)

_Got a question, comment or suggestion? Create an Issue or submit a Pull Request here..._

[`lupyuen.github.io/src/bme280.md`](https://github.com/lupyuen/lupyuen.github.io/blob/master/src/bme280.md)

# Notes

1.  This article is the expanded version of [this Twitter Thread](https://twitter.com/MisterTechBlog/status/1494301654186823683)
